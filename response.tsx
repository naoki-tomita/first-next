export const response = [{"rendered_body":"\u003cp\u003eXamarin.Formsで初めてモバイルアプリ開発をしようとした矢先、いきなり大量のエラーメッセージが...\u003ca href=\"https://camo.qiitausercontent.com/97d1d4cf1c10bfdae883a364ad73295fed634410/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3435373738342f38303638643438312d336266312d343562632d666134302d3032333231393730653565382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/97d1d4cf1c10bfdae883a364ad73295fed634410/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3435373738342f38303638643438312d336266312d343562632d666134302d3032333231393730653565382e706e67\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/457784/8068d481-3bf1-45bc-fa40-02321970e5e8.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eAndroid Studioはどうだ？？と試してみてもエラーメッセージの嵐...\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/21846bb3cb9d054b08e76b00ef076ebb958803bf/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3435373738342f39366130613961342d383230612d386564622d373839622d3861396333656465626666302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/21846bb3cb9d054b08e76b00ef076ebb958803bf/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3435373738342f39366130613961342d383230612d386564622d373839622d3861396333656465626666302e706e67\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/457784/96a0a9a4-820a-8edb-789b-8a9c3edebff0.png\"\u003e\u003c/a\u003e\u003cbr\u003e\n初めてのモバイル開発がこんなスタートだったら萎えますね。このエラーを治すために2日間ハマってしまいました...\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境\u003c/h2\u003e\n\n\u003cp\u003eCPU:Ryzen1700\u003cbr\u003e\nOS:Windows10 Pro-バージョン1903\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"問題\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%95%8F%E9%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e問題\u003c/h2\u003e\n\n\u003cp\u003eXamarin.Forms,Android Studioでエミュレーターでのデバッグができない...\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"解決\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A7%A3%E6%B1%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e解決\u003c/h2\u003e\n\n\u003cp\u003eこの問題はRyzenシリーズを使っているWindows10バージョン1903に起こるバグらしいです。解決策は単純。前のバージョンに戻す、またはWindows Insider Previewに登録するかです。\u003cbr\u003e\n僕の場合、バージョン1903にしてから10日以上たっていてバージョンダウンできなかったので泣く泣くInsider Previewに...\u003cbr\u003e\nプレリリースのバージョンなので不安定だけど、とりあえず無事(?)にAVDができるようになりました。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/fbd6642df456f33c267674c05316246f7b6945ad/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3435373738342f64643062663937652d633835352d663436652d356534372d3733646437363930636631342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/fbd6642df456f33c267674c05316246f7b6945ad/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3435373738342f64643062663937652d633835352d663436652d356534372d3733646437363930636631342e706e67\" alt=\"スクリーンショット (4).png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/457784/dd0bf97e-c855-f46e-5e47-73dd7690cf14.png\"\u003e\u003c/a\u003e\u003cbr\u003e\n早くWindows公式バージョンでもこのバグ直してほしいですね....Microsoftさん頼みます！\u003c/p\u003e\n","body":"Xamarin.Formsで初めてモバイルアプリ開発をしようとした矢先、いきなり大量のエラーメッセージが...![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/457784/8068d481-3bf1-45bc-fa40-02321970e5e8.png)\n\nAndroid Studioはどうだ？？と試してみてもエラーメッセージの嵐...\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/457784/96a0a9a4-820a-8edb-789b-8a9c3edebff0.png)\n初めてのモバイル開発がこんなスタートだったら萎えますね。このエラーを治すために2日間ハマってしまいました...\n##環境\nCPU:Ryzen1700\nOS:Windows10 Pro-バージョン1903\n##問題\nXamarin.Forms,Android Studioでエミュレーターでのデバッグができない...\n##解決\nこの問題はRyzenシリーズを使っているWindows10バージョン1903に起こるバグらしいです。解決策は単純。前のバージョンに戻す、またはWindows Insider Previewに登録するかです。\n僕の場合、バージョン1903にしてから10日以上たっていてバージョンダウンできなかったので泣く泣くInsider Previewに...\nプレリリースのバージョンなので不安定だけど、とりあえず無事(?)にAVDができるようになりました。\n![スクリーンショット (4).png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/457784/dd0bf97e-c855-f46e-5e47-73dd7690cf14.png)\n早くWindows公式バージョンでもこのバグ直してほしいですね....Microsoftさん頼みます！\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T22:52:01+09:00","group":null,"id":"75a9f15e146f86a3ad6d","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Android","versions":[]},{"name":"AVD","versions":[]},{"name":"Xamarin","versions":[]},{"name":"AndroidStudio","versions":[]},{"name":"Ryzen","versions":[]}],"title":"RyzenでのAVDでつまづいた話","updated_at":"2019-07-09T22:52:01+09:00","url":"https://qiita.com/heyho820/items/75a9f15e146f86a3ad6d","user":{"description":"高校1年生です。\r\nC#がメインになると思います。","facebook_id":"","followees_count":0,"followers_count":0,"github_login_name":null,"id":"heyho820","items_count":1,"linkedin_id":"","location":"","name":"瑛斗 齋藤","organization":"","permanent_id":457784,"profile_image_url":"https://lh6.googleusercontent.com/-sdlHDSUhlDQ/AAAAAAAAAAI/AAAAAAAAAAc/qF5M0eTEm1k/s50/photo.jpg","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\u003cp\u003eめちゃしょぼいけど今まで知らなかった事なので備忘がてら。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"出典\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%87%BA%E5%85%B8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e出典\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"https://hokaccha.hatenablog.com/entry/20110808/1312780876\" rel=\"nofollow noopener\" target=\"_blank\"\u003egitコマンドの拡張 | hokaccha memo\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://coderwall.com/p/bt93ia/extend-git-with-custom-commands\" rel=\"nofollow noopener\" target=\"_blank\"\u003eExtend Git with Custom Commands\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"やりたかったこと\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%84%E3%82%8A%E3%81%9F%E3%81%8B%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eやりたかったこと\u003c/h2\u003e\n\n\u003cp\u003e端的に言えば、プライベートで利用しているGithubに公開する為のリポジトリを作成する際、必要な設定をコマンド一発でできるようにしたかったのです。\u003c/p\u003e\n\n\u003cp\u003e私は現在勤めている職場で利用しているBitbucketのアカウントと、\u003cbr\u003e\nプライベートで利用しているGithubのアカウントを、業務用に貸与されたPCで併用しています。\u003c/p\u003e\n\n\u003cp\u003eこの時問題になるのが、新しいリポジトリを作成した場合にユーザー名、メールアドレスの設定がそれぞれで異なり、リポジトリを作成するたびに以下のようにちょこちょこと設定をしていかなければいけませんでした。(と思っていました)\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003ehoge$ git init\nInitialized empty Git repository in .../hoge/.git/\nhoge$ git config --local user.name i-whammy\nhoge$ git config --local user.email example@example.com\nhoge$ git config --list\n...\nuser.name=i-whammy\nuser.email=example@example.com\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eまあめんどくさいし、たまに忘れてGithub上に自分の仕事用のアドレスやら名前やらが公開されてしまって慌ててリポジトリを消して、などしたりしておりました。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"やったこと\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%84%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eやったこと\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003epathの通ってる場所(\u003ccode\u003e/usr/local/bin\u003c/code\u003e等)に以下のようなファイルを作成\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ccode\u003egit-whammy\u003c/code\u003e  \u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e#/bin/sh\n\ngit init\ngit config --local user.name i-whammy\ngit config --local user.email example@example.com\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003echmod +x git-whammy\u003c/code\u003eで実行権限付与\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e上記の手順で、自分のマシンで\u003ccode\u003egit whammy\u003c/code\u003eコマンドを叩くだけで、\u003cbr\u003e\nプライベート用のGithubアカウントの設定がされた新しいリポジトリを作ることができるようになりました。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003egit-XXX\u003c/code\u003eという名称の実行可能なファイルをパスが通ったディレクトリに配置しておくことで、\u003cbr\u003e\n\u003ccode\u003egit XXX\u003c/code\u003eというサブコマンドとして実行することができるようになるよ、というお話でした。\u003c/p\u003e\n\n\u003cp\u003eめでたしめでたし。\u003c/p\u003e\n","body":"めちゃしょぼいけど今まで知らなかった事なので備忘がてら。\n## 出典\n[gitコマンドの拡張 | hokaccha memo](https://hokaccha.hatenablog.com/entry/20110808/1312780876)\n[Extend Git with Custom Commands](https://coderwall.com/p/bt93ia/extend-git-with-custom-commands)\n\n## やりたかったこと\n端的に言えば、プライベートで利用しているGithubに公開する為のリポジトリを作成する際、必要な設定をコマンド一発でできるようにしたかったのです。\n\n私は現在勤めている職場で利用しているBitbucketのアカウントと、\nプライベートで利用しているGithubのアカウントを、業務用に貸与されたPCで併用しています。\n\nこの時問題になるのが、新しいリポジトリを作成した場合にユーザー名、メールアドレスの設定がそれぞれで異なり、リポジトリを作成するたびに以下のようにちょこちょこと設定をしていかなければいけませんでした。(と思っていました)\n\n```\nhoge$ git init\nInitialized empty Git repository in .../hoge/.git/\nhoge$ git config --local user.name i-whammy\nhoge$ git config --local user.email example@example.com\nhoge$ git config --list\n...\nuser.name=i-whammy\nuser.email=example@example.com\n```\n\nまあめんどくさいし、たまに忘れてGithub上に自分の仕事用のアドレスやら名前やらが公開されてしまって慌ててリポジトリを消して、などしたりしておりました。\n\n## やったこと\n- pathの通ってる場所(`/usr/local/bin`等)に以下のようなファイルを作成\n\n`git-whammy`  \n\n```\n#/bin/sh\n\ngit init\ngit config --local user.name i-whammy\ngit config --local user.email example@example.com\n```\n\n- `chmod +x git-whammy`で実行権限付与\n\n上記の手順で、自分のマシンで`git whammy`コマンドを叩くだけで、\nプライベート用のGithubアカウントの設定がされた新しいリポジトリを作ることができるようになりました。\n\n`git-XXX`という名称の実行可能なファイルをパスが通ったディレクトリに配置しておくことで、\n`git XXX`というサブコマンドとして実行することができるようになるよ、というお話でした。\n\nめでたしめでたし。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T22:50:35+09:00","group":null,"id":"0bcc8338f0872a888e76","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"ShellScript","versions":[]},{"name":"Git","versions":[]}],"title":"gitコマンドを拡張して複数のアカウント管理を楽にしたかった","updated_at":"2019-07-09T22:52:45+09:00","url":"https://qiita.com/i_whammy_/items/0bcc8338f0872a888e76","user":{"description":"いつだって駆け出しエンジニア。  \r\n現在はwebサービスを開発する会社でエンジニアやってます。","facebook_id":"","followees_count":0,"followers_count":1,"github_login_name":null,"id":"i_whammy_","items_count":4,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":286129,"profile_image_url":"https://secure.gravatar.com/avatar/e159309a33430168622d66988e45160c","team_only":false,"twitter_screen_name":"i_whammy_","website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"前提\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%89%8D%E6%8F%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e前提\u003c/h1\u003e\n\n\u003cp\u003e仮想マシーンで作業する\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"psqlでクエリ結果を既存ファイルにエクスポート\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#psql%E3%81%A7%E3%82%AF%E3%82%A8%E3%83%AA%E7%B5%90%E6%9E%9C%E3%82%92%E6%97%A2%E5%AD%98%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AB%E3%82%A8%E3%82%AF%E3%82%B9%E3%83%9D%E3%83%BC%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003epsqlで、クエリ結果を既存ファイルにエクスポート\u003c/h1\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"vim\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e¥\u003cspan class=\"k\"\u003eo\u003c/span\u003e hoge\u003cspan class=\"p\"\u003e.\u003c/span\u003etxt\nselect * frome xxxx;\n¥\u003cspan class=\"k\"\u003eq\u003c/span\u003e\n\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eこれをマウントされてるディレクトリ等でやると、クエリ結果をテキスト保存できる\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"テーブル\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eテーブル\u003c/h1\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"テーブル一覧の表示\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB%E4%B8%80%E8%A6%A7%E3%81%AE%E8%A1%A8%E7%A4%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eテーブル一覧の表示\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"vim\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e¥dt;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"テーブル構造の表示\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB%E6%A7%8B%E9%80%A0%E3%81%AE%E8%A1%A8%E7%A4%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eテーブル構造の表示\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"vim\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e¥\u003cspan class=\"k\"\u003ed\u003c/span\u003e テーブル名;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"テーブル内のデータを一覧\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB%E5%86%85%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E4%B8%80%E8%A6%A7\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eテーブル内のデータを一覧\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"vim\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eselect * from テーブル名;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"指定したカラムの内容を小さい順に表示\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%9F%E3%82%AB%E3%83%A9%E3%83%A0%E3%81%AE%E5%86%85%E5%AE%B9%E3%82%92%E5%B0%8F%E3%81%95%E3%81%84%E9%A0%86%E3%81%AB%E8%A1%A8%E7%A4%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e指定したカラムの内容を小さい順に表示\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"vim\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eselect * from テーブル名 order by カラム;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"指定したカラムの内容を大きい順に表示\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%9F%E3%82%AB%E3%83%A9%E3%83%A0%E3%81%AE%E5%86%85%E5%AE%B9%E3%82%92%E5%A4%A7%E3%81%8D%E3%81%84%E9%A0%86%E3%81%AB%E8%A1%A8%E7%A4%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e指定したカラムの内容を大きい順に表示\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"vim\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eselect * from テーブル名 order by カラム desc;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"表示数指定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A1%A8%E7%A4%BA%E6%95%B0%E6%8C%87%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e表示数指定\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"vim\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eselect * from テーブル名 limit 数;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"表示の開始位置指定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A1%A8%E7%A4%BA%E3%81%AE%E9%96%8B%E5%A7%8B%E4%BD%8D%E7%BD%AE%E6%8C%87%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e表示の開始位置指定\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"vim\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eselect * from テーブル名 offset 数;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"カラム内の任意の文字を表示\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AB%E3%83%A9%E3%83%A0%E5%86%85%E3%81%AE%E4%BB%BB%E6%84%8F%E3%81%AE%E6%96%87%E5%AD%97%E3%82%92%E8%A1%A8%E7%A4%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eカラム内の任意の文字を表示\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"vim\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eselect distinct カラム名 from テーブル名;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"カラム内の合計値\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AB%E3%83%A9%E3%83%A0%E5%86%85%E3%81%AE%E5%90%88%E8%A8%88%E5%80%A4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eカラム内の合計値\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"vim\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eselect sum\u003cspan class=\"p\"\u003e(\u003c/span\u003eカラム名\u003cspan class=\"p\"\u003e)\u003c/span\u003e from テーブル名;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"カラム内の最大値\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AB%E3%83%A9%E3%83%A0%E5%86%85%E3%81%AE%E6%9C%80%E5%A4%A7%E5%80%A4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eカラム内の最大値\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"vim\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eselect max\u003cspan class=\"p\"\u003e(\u003c/span\u003eカラム名\u003cspan class=\"p\"\u003e)\u003c/span\u003e from テーブル名;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"カラム内の最小値\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AB%E3%83%A9%E3%83%A0%E5%86%85%E3%81%AE%E6%9C%80%E5%B0%8F%E5%80%A4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eカラム内の最小値\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"vim\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eselect min\u003cspan class=\"p\"\u003e(\u003c/span\u003eカラム名\u003cspan class=\"p\"\u003e)\u003c/span\u003e from テーブル名;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"カラム内の平均値\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AB%E3%83%A9%E3%83%A0%E5%86%85%E3%81%AE%E5%B9%B3%E5%9D%87%E5%80%A4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eカラム内の平均値\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"vim\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eselect avg\u003cspan class=\"p\"\u003e(\u003c/span\u003eカラム名\u003cspan class=\"p\"\u003e)\u003c/span\u003e from テーブル名;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"データの更新\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E6%9B%B4%E6%96%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eデータの更新\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"vim\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"k\"\u003eupdate\u003c/span\u003e テーブル名 \u003cspan class=\"k\"\u003eset\u003c/span\u003e 更新内容;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"データの削除\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E5%89%8A%E9%99%A4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eデータの削除\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"vim\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003edelete from テーブル名 where 条件;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"テーブルのオーナーの変更\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%8A%E3%83%BC%E3%81%AE%E5%A4%89%E6%9B%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eテーブルのオーナーの変更\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"vim\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003ealter table テーブル名 owner \u003cspan class=\"k\"\u003eto\u003c/span\u003e オーナー名;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita.com/H-A-L/items/fe8cb0e0ee0041ff3ceb\" id=\"reference-3b3294acca1a426c7462\"\u003ehttps://qiita.com/H-A-L/items/fe8cb0e0ee0041ff3ceb\u003c/a\u003e\u003c/p\u003e\n","body":"# 前提\n仮想マシーンで作業する\n\n# psqlで、クエリ結果を既存ファイルにエクスポート\n\n```vim\n¥o hoge.txt\nselect * frome xxxx;\n¥q\n\n```\n\u003e これをマウントされてるディレクトリ等でやると、クエリ結果をテキスト保存できる\n\n# テーブル\n\n### テーブル一覧の表示\n```vim\n¥dt;\n```\n\n### テーブル構造の表示\n```vim\n¥d テーブル名;\n```\n\n### テーブル内のデータを一覧\n```vim\nselect * from テーブル名;\n```\n\n### 指定したカラムの内容を小さい順に表示\n```vim\nselect * from テーブル名 order by カラム;\n```\n\n### 指定したカラムの内容を大きい順に表示\n```vim\nselect * from テーブル名 order by カラム desc;\n```\n\n### 表示数指定\n```vim\nselect * from テーブル名 limit 数;\n```\n\n### 表示の開始位置指定\n```vim\nselect * from テーブル名 offset 数;\n```\n\n### カラム内の任意の文字を表示\n```vim\nselect distinct カラム名 from テーブル名;\n```\n\n### カラム内の合計値\n```vim\nselect sum(カラム名) from テーブル名;\n```\n\n### カラム内の最大値\n```vim\nselect max(カラム名) from テーブル名;\n```\n\n### カラム内の最小値\n```vim\nselect min(カラム名) from テーブル名;\n```\n\n### カラム内の平均値\n```vim\nselect avg(カラム名) from テーブル名;\n```\n\n### データの更新\n```vim\nupdate テーブル名 set 更新内容;\n```\n\n### データの削除\n```vim\ndelete from テーブル名 where 条件;\n```\n\n### テーブルのオーナーの変更\n```vim\nalter table テーブル名 owner to オーナー名;\n```\n\n# 参考\n[https://qiita.com/H-A-L/items/fe8cb0e0ee0041ff3ceb](https://qiita.com/H-A-L/items/fe8cb0e0ee0041ff3ceb)\n\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T22:49:41+09:00","group":null,"id":"21c96cf8f4400c8928ee","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"PostgreSQL","versions":[]}],"title":"Postgresql 役立つコマンド メモ（1）","updated_at":"2019-07-09T22:52:12+09:00","url":"https://qiita.com/RIKIgigasu/items/21c96cf8f4400c8928ee","user":{"description":null,"facebook_id":null,"followees_count":2,"followers_count":1,"github_login_name":null,"id":"RIKIgigasu","items_count":22,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":57249,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/57249/profile-images/1560606094","team_only":false,"twitter_screen_name":"RIKIgigasu","website_url":null},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"absstream\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#absstream\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAbsStream\u003c/h1\u003e\n\n\u003cp\u003eAbsStreamというライブラリを作りました。\u003c/p\u003e\n\n\u003cp\u003eGitHub: \u003ca href=\"https://github.com/narupo/absstream\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://github.com/narupo/absstream\u003c/a\u003e\u003cbr\u003e\nPyPi: \u003ca href=\"https://pypi.org/project/absstream/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://pypi.org/project/absstream/\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"インストール方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eインストール方法\u003c/h1\u003e\n\n\u003cp\u003epipでインストールできます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"py\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"err\"\u003e$\u003c/span\u003e \u003cspan class=\"n\"\u003epip\u003c/span\u003e \u003cspan class=\"n\"\u003einstall\u003c/span\u003e \u003cspan class=\"n\"\u003eabsstream\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"特徴\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%89%B9%E5%BE%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e特徴\u003c/h1\u003e\n\n\u003cp\u003e文字列とリストにファイルオブジェクトっぽくアクセスできます。\u003cbr\u003e\nデータに対するアクセスは読み込みだけです。\u003cbr\u003e\n書き込みはできません。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"使い方\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%BF%E3%81%84%E6%96%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e使い方\u003c/h1\u003e\n\n\u003cp\u003e\u003ccode\u003eStream\u003c/code\u003eをインポートして文字列やリストをコンストラクタに渡します。\u003cbr\u003e\nあとはメソッドからデータにアクセスできます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"py\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003eabsstream.stream\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eStream\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003estrm\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eStream\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e'123'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e \u003cspan class=\"c\"\u003e# '1'\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eリストにも同じようにアクセスできます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"py\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003eabsstream.stream\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eStream\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003estrm\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eStream\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"s\"\u003e'1'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e'2'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e'3'\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e \u003cspan class=\"c\"\u003e# '1'\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003eget\u003c/code\u003eは範囲外のアクセスや、ストリームを読みつくすと\u003ccode\u003eStream.EOF\u003c/code\u003eを返します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"py\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003eabsstream.stream\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eStream\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003estrm\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eStream\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e'123'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e \u003cspan class=\"c\"\u003e# '1'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e \u003cspan class=\"c\"\u003e# '2'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e \u003cspan class=\"c\"\u003e# '3'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e \u003cspan class=\"c\"\u003e# Stream.EOF\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eループで回す場合は\u003ccode\u003eeof\u003c/code\u003eメソッドでストリームがEOFに達したかチェックできます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"py\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003eabsstream.stream\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eStream\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003estrm\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eStream\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e'123'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003ewhile\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"n\"\u003estrm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eeof\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e現在の読み込み位置を変更するには\u003ccode\u003eprev\u003c/code\u003eや\u003ccode\u003enext\u003c/code\u003eが使えます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"py3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003eabsstream.stream\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eStream\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003estrm\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eStream\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e'123'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003estrm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003enext\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"n\"\u003estrm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eprev\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e現在の読み込み位置を起点にデータを取得したい場合は\u003ccode\u003ecur\u003c/code\u003eが使えます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"py3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003eabsstream.stream\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eStream\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003estrm\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eStream\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e'123'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecur\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e \u003cspan class=\"c\"\u003e# '1'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecur\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"c\"\u003e# '2'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecur\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"c\"\u003e# '3'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecur\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"c\"\u003e# Stream.EOF\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"作った背景\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%9C%E3%81%A3%E3%81%9F%E8%83%8C%E6%99%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e作った背景\u003c/h1\u003e\n\n\u003cp\u003e言語制作などをやっていて、文字列やトークン列に対して共通のインターフェースが欲しくなったので、この\u003ccode\u003eAbsStream\u003c/code\u003eを作って個人的に使っていました。\u003cbr\u003e\nしかし使い心地が思いのほかよかったので、今回公開することにしました（単純にコードを使いまわすのがめんどうくさくなったのでpipでインストールできるようにした）。\u003c/p\u003e\n","body":"# AbsStream\n\nAbsStreamというライブラリを作りました。\n\nGitHub: https://github.com/narupo/absstream\nPyPi: https://pypi.org/project/absstream/\n\n# インストール方法\n\npipでインストールできます。\n\n```py:\n$ pip install absstream\n```\n\n# 特徴\n\n文字列とリストにファイルオブジェクトっぽくアクセスできます。\nデータに対するアクセスは読み込みだけです。\n書き込みはできません。\n\n# 使い方\n\n`Stream`をインポートして文字列やリストをコンストラクタに渡します。\nあとはメソッドからデータにアクセスできます。\n\n```py:\nfrom absstream.stream import Stream\n\nstrm = Stream('123')\nprint(strm.get()) # '1'\n```\n\nリストにも同じようにアクセスできます。\n\n```py:\nfrom absstream.stream import Stream\n\nstrm = Stream(['1', '2', '3'])\nprint(strm.get()) # '1'\n```\n\n`get`は範囲外のアクセスや、ストリームを読みつくすと`Stream.EOF`を返します。\n\n```py:\nfrom absstream.stream import Stream\n\nstrm = Stream('123')\nprint(strm.get()) # '1'\nprint(strm.get()) # '2'\nprint(strm.get()) # '3'\nprint(strm.get()) # Stream.EOF\n```\n\nループで回す場合は`eof`メソッドでストリームがEOFに達したかチェックできます。\n\n```py:\nfrom absstream.stream import Stream\n\nstrm = Stream('123')\n\nwhile not strm.eof():\n    print(strm.get())\n```\n\n現在の読み込み位置を変更するには`prev`や`next`が使えます。\n\n```py3:\nfrom absstream.stream import Stream\n\nstrm = Stream('123')\nstrm.next()\nstrm.prev()\n```\n\n現在の読み込み位置を起点にデータを取得したい場合は`cur`が使えます。\n\n```py3:\nfrom absstream.stream import Stream\n\nstrm = Stream('123')\nprint(strm.cur()) # '1'\nprint(strm.cur(1)) # '2'\nprint(strm.cur(2)) # '3'\nprint(strm.cur(3)) # Stream.EOF\n```\n\n# 作った背景\n\n言語制作などをやっていて、文字列やトークン列に対して共通のインターフェースが欲しくなったので、この`AbsStream`を作って個人的に使っていました。\nしかし使い心地が思いのほかよかったので、今回公開することにしました（単純にコードを使いまわすのがめんどうくさくなったのでpipでインストールできるようにした）。\n\n","coediting":false,"comments_count":1,"created_at":"2019-07-09T22:33:53+09:00","group":null,"id":"a15eac3d07b95241ab3b","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Python","versions":[]},{"name":"PyPI","versions":[]},{"name":"AbsStream","versions":[]}],"title":"「AbsStream」という文字列とリストにファイルっぽくアクセスできるライブラリを作った","updated_at":"2019-07-09T22:51:34+09:00","url":"https://qiita.com/narupo/items/a15eac3d07b95241ab3b","user":{"description":"フリーランスのWebエンジニア。C, Python3, JavaScript, Django などが好き。https://naruport.com/blog でブログを書いています。","facebook_id":"","followees_count":23,"followers_count":32,"github_login_name":"narupo","id":"narupo","items_count":208,"linkedin_id":"","location":"","name":"","organization":"NARUPORT","permanent_id":41479,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/41479/profile-images/1561148211","team_only":false,"twitter_screen_name":null,"website_url":"https://naruport.com/"},"page_views_count":null},{"rendered_body":"\u003cp\u003eEspressoでUIテストを実施していて、ふと、ナビゲーションドローワーがある場合はどうなるんだろうと思い、やってみました。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"dependencyの追加\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#dependency%E3%81%AE%E8%BF%BD%E5%8A%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003edependencyの追加\u003c/h4\u003e\n\n\u003cp\u003eナビゲーションドローワーのアクションは\u003ccode\u003eespresso-contrib\u003c/code\u003eのライブラリに入っているので追加しました。\u003cbr\u003e\nその時、バージョン違いでコンフリクトが起こったので、重複しているものは除外します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"kotlin\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ebuild.gradle(app)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"n\"\u003eandroidTestImplementation\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"n\"\u003ecom\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eandroid\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esupport\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etest\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eespresso\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003eespresso\u003c/span\u003e\u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003econtrib\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e3.0\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eexclude\u003c/span\u003e \u003cspan class=\"n\"\u003egroup\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"n\"\u003ecom\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eandroid\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esupport\u003c/span\u003e\u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emodule\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"n\"\u003esupport\u003c/span\u003e\u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003eannotations\u003c/span\u003e\u003cspan class=\"err\"\u003e'\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eexclude\u003c/span\u003e \u003cspan class=\"n\"\u003egroup\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"n\"\u003ecom\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eandroid\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esupport\u003c/span\u003e\u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emodule\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"n\"\u003esupport\u003c/span\u003e\u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ev4\u003c/span\u003e\u003cspan class=\"err\"\u003e'\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eexclude\u003c/span\u003e \u003cspan class=\"n\"\u003egroup\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"n\"\u003ecom\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eandroid\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esupport\u003c/span\u003e\u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emodule\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"n\"\u003erecyclerview\u003c/span\u003e\u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ev7\u003c/span\u003e\u003cspan class=\"err\"\u003e'\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eexclude\u003c/span\u003e \u003cspan class=\"n\"\u003egroup\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"n\"\u003ecom\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eandroid\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esupport\u003c/span\u003e\u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emodule\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"n\"\u003eappcompat\u003c/span\u003e\u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ev7\u003c/span\u003e\u003cspan class=\"err\"\u003e'\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eexclude\u003c/span\u003e \u003cspan class=\"n\"\u003egroup\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"n\"\u003ecom\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eandroid\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esupport\u003c/span\u003e\u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emodule\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"n\"\u003edesign\u003c/span\u003e\u003cspan class=\"err\"\u003e'\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eexclude\u003c/span\u003e \u003cspan class=\"n\"\u003egroup\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"n\"\u003ecom\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eandroid\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esupport\u003c/span\u003e\u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emodule\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"n\"\u003esupport\u003c/span\u003e\u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ecompat\u003c/span\u003e\u003cspan class=\"err\"\u003e'\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eexclude\u003c/span\u003e \u003cspan class=\"n\"\u003egroup\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"n\"\u003ecom\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eandroid\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esupport\u003c/span\u003e\u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emodule\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"err\"\u003e'\u003c/span\u003e\u003cspan class=\"n\"\u003esupport\u003c/span\u003e\u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ecore\u003c/span\u003e\u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003eutils\u003c/span\u003e\u003cspan class=\"err\"\u003e'\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこれでボタンクリックと同じようにナビゲーションドローワーを開くアクションが使えるようになります。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"テストの記載\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%86%E3%82%B9%E3%83%88%E3%81%AE%E8%A8%98%E8%BC%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eテストの記載\u003c/h4\u003e\n\n\u003cp\u003eNavigatinViewは下記になります。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"kotlin\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eactivity_main.xml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eandroid\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esupport\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edesign\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ewidget\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNavigationView\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eandroid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"@+id/nav_view\"\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eandroid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003elayout_width\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"wrap_content\"\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eandroid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003elayout_height\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"match_parent\"\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eandroid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003elayout_gravity\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"start\"\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eandroid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003efitsSystemWindows\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"true\"\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eapp\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003eheaderLayout\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"@layout/nav_header_main\"\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eapp\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003emenu\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"@menu/activity_main_drawer\"\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"kotlin\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMainActivityTest\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e    \u003cspan class=\"n\"\u003e@Test\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efun\u003c/span\u003e \u003cspan class=\"n\"\u003enavigationMenu_updatetime_exist\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eonView\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eViewMatchers\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ewithId\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eR\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edrawer_layout\u003c/span\u003e\u003cspan class=\"p\"\u003e)).\u003c/span\u003e\u003cspan class=\"n\"\u003eperform\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eDrawerActions\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003eopen\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eThread\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esleep\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1500\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eonView\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ewithId\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eR\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enav_view\u003c/span\u003e\u003cspan class=\"p\"\u003e)).\u003c/span\u003e\u003cspan class=\"n\"\u003eperform\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eNavigationViewActions\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enavigateTo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eR\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enav_slideshow\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eThread\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esleep\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1500\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eonView\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eViewMatchers\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ewithId\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eR\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eupdateTimeLabel\u003c/span\u003e\u003cspan class=\"p\"\u003e)).\u003c/span\u003e\u003cspan class=\"n\"\u003echeck\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ematches\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003enot\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edoesNotExist\u003c/span\u003e\u003cspan class=\"p\"\u003e())))\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eナビゲーションドローワーを開くアクションは\u003ccode\u003eDrawerActions.open()\u003c/code\u003eになります。\u003cbr\u003e\n開いたら、\u003ccode\u003eNavigationViewActions.navigateTo(R.id.nav_slideshow)\u003c/code\u003eの部分で、開いたドローワーに存在するメニューをタップしています。\u003c/p\u003e\n\n\u003cp\u003e実際にテストしてみて、思ったより画面の操作は担保できるなあと感じました。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"参照\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E7%85%A7\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参照\u003c/h4\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita.com/operandoOS/items/05f650e7b7fe7e5189c2\" id=\"reference-8d9854b712be6ec4684a\"\u003e[Espresso] NavigationViewをNavigationViewActionsで操作してみようの話\u003c/a\u003e\u003c/p\u003e\n","body":"EspressoでUIテストを実施していて、ふと、ナビゲーションドローワーがある場合はどうなるんだろうと思い、やってみました。\n\n####dependencyの追加\n\nナビゲーションドローワーのアクションは`espresso-contrib`のライブラリに入っているので追加しました。\nその時、バージョン違いでコンフリクトが起こったので、重複しているものは除外します。\n\n```kotlin:build.gradle(app)\nandroidTestImplementation ('com.android.support.test.espresso:espresso-contrib:3.0.2') {\n        exclude group: 'com.android.support', module: 'support-annotations'\n        exclude group: 'com.android.support', module: 'support-v4'\n        exclude group: 'com.android.support', module: 'recyclerview-v7'\n        exclude group: 'com.android.support', module: 'appcompat-v7'\n        exclude group: 'com.android.support', module: 'design'\n        exclude group: 'com.android.support', module: 'support-compat'\n        exclude group: 'com.android.support', module: 'support-core-utils'\n    }\n```\n\nこれでボタンクリックと同じようにナビゲーションドローワーを開くアクションが使えるようになります。\n\n####テストの記載\n\nNavigatinViewは下記になります。\n\n```kotlin:activity_main.xml\n\u003candroid.support.design.widget.NavigationView\n        android:id=\"@+id/nav_view\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"start\"\n        android:fitsSystemWindows=\"true\"\n        app:headerLayout=\"@layout/nav_header_main\"\n        app:menu=\"@menu/activity_main_drawer\" /\u003e\n```\n\n```kotlin:MainActivityTest\n    @Test\n    fun navigationMenu_updatetime_exist() {\n        onView(ViewMatchers.withId(R.id.drawer_layout)).perform(DrawerActions.open())\n        Thread.sleep(1500)\n        onView(withId(R.id.nav_view)).perform(NavigationViewActions.navigateTo(R.id.nav_slideshow))\n        Thread.sleep(1500)\n        onView(ViewMatchers.withId(R.id.updateTimeLabel)).check(matches(not(doesNotExist())))\n    }\n```\n\nナビゲーションドローワーを開くアクションは`DrawerActions.open()`になります。\n開いたら、`NavigationViewActions.navigateTo(R.id.nav_slideshow)`の部分で、開いたドローワーに存在するメニューをタップしています。\n\n実際にテストしてみて、思ったより画面の操作は担保できるなあと感じました。\n\n####参照\n[[Espresso] NavigationViewをNavigationViewActionsで操作してみようの話](https://qiita.com/operandoOS/items/05f650e7b7fe7e5189c2)\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T22:32:15+09:00","group":null,"id":"93cf8230a622dbaf7b58","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Android","versions":[]},{"name":"Kotlin","versions":[]}],"title":"ナビゲーションドローワーのUIテスト","updated_at":"2019-07-09T22:47:28+09:00","url":"https://qiita.com/kumas/items/93cf8230a622dbaf7b58","user":{"description":"普段はJava、Javascriptを使ったSIerをしています。\r\n個人的にkotlinやSwiftを使ってアプリを作っています。Railsもさわってます。\r\nAWSとかそこらへんも勉強中\r\n学んだこと、困ったことはアウトプットしていきたいです!","facebook_id":"","followees_count":0,"followers_count":4,"github_login_name":null,"id":"kumas","items_count":40,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":239560,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/239560/profile-images/1546181504","team_only":false,"twitter_screen_name":"yasuhi41","website_url":""},"page_views_count":null},{"rendered_body":"\u003cp\u003eこんにちは。\u003c/p\u003e\n\n\u003cp\u003e記事を閲覧いただきありがとうございます。\u003c/p\u003e\n\n\u003cp\u003eプログラミングの勉強を始めてしばらく経ちましたが、SQLについてまともに学習したことがなかったため、復習がてら記事にしていきたいと思います。\u003c/p\u003e\n\n\u003cp\u003e学習に関してはドットインストールで行いました。\u003c/p\u003e\n\n\u003ch1\u003eMySQLとは\u003c/h1\u003e\n\n\u003cp\u003e○ オープンソースのデータベースシステム。\u003c/p\u003e\n\n\u003ch1\u003eMySQLへ接続\u003c/h1\u003e\n\n\u003cp\u003e○ MySQLの動作確認\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ sudo service mysql status\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e○ 以下のように表示で操作中\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003emysqld (pid  17137) を実行中...\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e○ rootユーザーでログイン\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ mysql -u root\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e○ 接続を終了\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ quit;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003eデータベースの操作\u003c/h1\u003e\n\n\u003cp\u003e○ データベースの作成\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ create database 'データベース名'\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e○ データベースの削除\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ drop database 'データベース名'\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e○ データベースの表示\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ show databases;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e○ 操作対象のデータベース確認\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eselect databese();\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e○ データベースを操作対象にする\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ use 'データベース名'；\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e作業用ユーザーの作成\u003c/h1\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e○ まずルートユーザーでログイン\n\n$ mysql -u root\n\n以下コマンドで作業用ユーザー作成\n\n＄　create user 'ユーザーネーム'@'どこからアクセスしてくるか？'　identified by 'パスワード';\n\n全権限を与える\n\n$ grant all on 'データベース名'.* to '作成したユーザー';\n\nルートユーザーから抜けて作業用ユーザーでログイン\n\n$ mysql -u '作成したユーザー名'　-p\n\nパスワード入力を求められるので入力すると接続できる\n\nユーザーの削除\n\n$ drop user 'ユーザー名';\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e外部ファイルの実行\u003c/h1\u003e\n\n\u003cp\u003e○ sqlファイルを作成\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003emyapp.sql:\n\n#該当のデータベースがあれば削除\ndrop database if exists 'データベース名';\n\n#データベース作成\ncreate database 'データベース名';\n\n＃権限付与＆作業用ユーザーの作成\ngrant all on 'データベース名'.* '作成する作業用ユーザー'　identified by 'パスワード';\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e○ ファイルの実行\u003cbr\u003e\n実行の方法は二つある\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eリダイレクションを使う方法\n\n$ mysql -u root \u0026lt; 'ファイル名'\n\nmySQLサーバにログインして行う方法\nrootでログイン\nsource もしくは \\. を使う\n\n$ source ./'ファイル名'\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003eテーブルの作成\u003c/h1\u003e\n\n\u003cp\u003e○ 外部ファイルを作成\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003ecreate_table.sql:\n\n#テーブルの作成\ncreate table 'テーブル名' (\n  #'カラム名' 'データ型',\n  id int unsigned,  　\n  name varchar(20),　 \n  score float,\n);\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e○ データ型について\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003enumber ー 数値\n  int           #整数\n  float         #浮動小数点\n  double        #浮動小数点より精度の高いデータ型\n  int unsigned  # ＋ のみ使用\n\nstring ー 文字列\n  char('文字数')　　 #固定長\n  varchar（'文字数'）　#可変長　データによって長さが変わるもの\n  text　　　　　　　  #可変長　どれくらいの長さになるかわからないもの\n\ndate/time ー 日時\n  date\n  time\n  datatime\n\ntrue/false ー 真偽値\n  true = 1\n  false = 0\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003eテーブルにデータを挿入\u003c/h1\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eテーブルにデータを挿入\ninsert into 'テーブル名' ('カラム名1','カラム名2') value ('値１',''値２)\n\nテーブルの確認\n＄ select * from 'テーブル名';\n\n\n○ カラムに入力制限をかける\n\nnot null  #NUllを許さない\ndefault   #デフォルトの値を指定\nprimary key #重複しない値にする　auto_incrementを付けると連番になる\n\n例）\ncreate table users (\n  id int unsigned primary key auto_increment,\n  name varchar(20) unique,\n  score float default 0.0\n);\n\n結果：\n+-------+------------------+------+-----+---------+----------------+\n| Field | Type             | Null | Key | Default | Extra          |\n+-------+------------------+------+-----+---------+----------------+\n| id    | int(10) unsigned | NO   | PRI | NULL    | auto_increment |\n| name  | varchar(20)      | YES  | UNI | NULL    |                |\n| score | float            | NO   |     | NULL    |                |\n+-------+------------------+------+-----+---------+----------------+\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e○ カラムを後から追加\n\nalter table 'テーブル名' add colmun '追加するカラム名' '型';\n\n○ カラムの削除\n\nalter table drop colmun 'カラム名';\n\n○ 型の変更\n\nalter table chage 'カラム名' '新しいカラム名' '型'；\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003eまとめ\u003c/h1\u003e\n\n\u003cp\u003e基本中の基本ですがSQLは覚えておく必要があるので引き続き勉強します！\u003c/p\u003e\n","body":"こんにちは。\n\n記事を閲覧いただきありがとうございます。\n\nプログラミングの勉強を始めてしばらく経ちましたが、SQLについてまともに学習したことがなかったため、復習がてら記事にしていきたいと思います。\n\n学習に関してはドットインストールで行いました。\n\n\u003ch1\u003eMySQLとは\u003c/h1\u003e\n\n○ オープンソースのデータベースシステム。\n\n\u003ch1\u003eMySQLへ接続\u003c/h1\u003e\n\n○ MySQLの動作確認\n\n```\n$ sudo service mysql status\n```\n\n○ 以下のように表示で操作中\n\n```\nmysqld (pid  17137) を実行中...\n```\n\n\n○ rootユーザーでログイン\n\n```\n$ mysql -u root\n```\n\n○ 接続を終了\n\n```\n$ quit;\n```\n\n\u003ch1\u003eデータベースの操作\u003c/h1\u003e\n\n○ データベースの作成\n\n```\n$ create database 'データベース名'\n```\n\n○ データベースの削除\n\n```\n$ drop database 'データベース名'\n```\n\n○ データベースの表示\n\n```\n$ show databases;\n```\n\n○ 操作対象のデータベース確認\n\n```\nselect databese();\n```\n\n○ データベースを操作対象にする\n\n```\n$ use 'データベース名'；\n```\n\n\u003ch1\u003e作業用ユーザーの作成\u003c/h1\u003e\n\n```\n○ まずルートユーザーでログイン\n\n$ mysql -u root\n\n以下コマンドで作業用ユーザー作成\n\n＄　create user 'ユーザーネーム'@'どこからアクセスしてくるか？'　identified by 'パスワード';\n\n全権限を与える\n\n$ grant all on 'データベース名'.* to '作成したユーザー';\n\nルートユーザーから抜けて作業用ユーザーでログイン\n\n$ mysql -u '作成したユーザー名'　-p\n\nパスワード入力を求められるので入力すると接続できる\n\nユーザーの削除\n\n$ drop user 'ユーザー名';\n```\n\n\u003ch1\u003e外部ファイルの実行\u003c/h1\u003e\n\n○ sqlファイルを作成\n\n```\nmyapp.sql:\n\n#該当のデータベースがあれば削除\ndrop database if exists 'データベース名';\n\n#データベース作成\ncreate database 'データベース名';\n\n＃権限付与＆作業用ユーザーの作成\ngrant all on 'データベース名'.* '作成する作業用ユーザー'　identified by 'パスワード';\n```\n\n\n○ ファイルの実行\n実行の方法は二つある\n\n```\nリダイレクションを使う方法\n\n$ mysql -u root \u003c 'ファイル名'\n\nmySQLサーバにログインして行う方法\nrootでログイン\nsource もしくは \\. を使う\n\n$ source ./'ファイル名'\n```\n\n\u003ch1\u003eテーブルの作成\u003c/h1\u003e\n\n○ 外部ファイルを作成\n\n```\ncreate_table.sql:\n\n#テーブルの作成\ncreate table 'テーブル名' (\n  #'カラム名' 'データ型',\n  id int unsigned,  　\n  name varchar(20),　 \n  score float,\n);\n```\n\n○ データ型について\n\n```\nnumber ー 数値\n  int           #整数\n  float         #浮動小数点\n  double        #浮動小数点より精度の高いデータ型\n  int unsigned  # ＋ のみ使用\n\nstring ー 文字列\n  char('文字数')　　 #固定長\n  varchar（'文字数'）　#可変長　データによって長さが変わるもの\n  text　　　　　　　  #可変長　どれくらいの長さになるかわからないもの\n\ndate/time ー 日時\n  date\n  time\n  datatime\n\ntrue/false ー 真偽値\n  true = 1\n  false = 0\n```\n\n\u003ch1\u003eテーブルにデータを挿入\u003c/h1\u003e\n\n```\nテーブルにデータを挿入\ninsert into 'テーブル名' ('カラム名1','カラム名2') value ('値１',''値２)\n\nテーブルの確認\n＄ select * from 'テーブル名';\n\n\n○ カラムに入力制限をかける\n\nnot null  #NUllを許さない\ndefault   #デフォルトの値を指定\nprimary key #重複しない値にする　auto_incrementを付けると連番になる\n\n例）\ncreate table users (\n  id int unsigned primary key auto_increment,\n  name varchar(20) unique,\n  score float default 0.0\n);\n\n結果：\n+-------+------------------+------+-----+---------+----------------+\n| Field | Type             | Null | Key | Default | Extra          |\n+-------+------------------+------+-----+---------+----------------+\n| id    | int(10) unsigned | NO   | PRI | NULL    | auto_increment |\n| name  | varchar(20)      | YES  | UNI | NULL    |                |\n| score | float            | NO   |     | NULL    |                |\n+-------+------------------+------+-----+---------+----------------+\n```\n```\n○ カラムを後から追加\n\nalter table 'テーブル名' add colmun '追加するカラム名' '型';\n\n○ カラムの削除\n\nalter table drop colmun 'カラム名';\n\n○ 型の変更\n\nalter table chage 'カラム名' '新しいカラム名' '型'；\n```\n\n\n\u003ch1\u003eまとめ\u003c/h1\u003e\n基本中の基本ですがSQLは覚えておく必要があるので引き続き勉強します！\n \n\n\n\n\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T22:30:16+09:00","group":null,"id":"5004cb8a826337aecb82","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"MySQL","versions":[]},{"name":"プログラミング","versions":[]}],"title":"MySQLの基本","updated_at":"2019-07-09T22:30:58+09:00","url":"https://qiita.com/ugajitatsuya/items/5004cb8a826337aecb82","user":{"description":"都内のどこかで駆け出しエンジニアしています。","facebook_id":"","followees_count":0,"followers_count":0,"github_login_name":null,"id":"ugajitatsuya","items_count":1,"linkedin_id":"","location":"埼玉県","name":"達哉 宇賀持","organization":"","permanent_id":457368,"profile_image_url":"https://pbs.twimg.com/profile_images/1125904424608526337/1Og95mfU_bigger.jpg","team_only":false,"twitter_screen_name":"ugajitatsuya","website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch2\u003e\n\u003cspan id=\"ローカルの環境からrdsにデータベースを移行する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E3%81%AE%E7%92%B0%E5%A2%83%E3%81%8B%E3%82%89rds%E3%81%AB%E3%83%87%E3%83%BC%E3%82%BF%E3%83%99%E3%83%BC%E3%82%B9%E3%82%92%E7%A7%BB%E8%A1%8C%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eローカルの環境からRDSにデータベースを移行する\u003c/h2\u003e\n\n\u003cp\u003e※自分用メモ\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003emysqlからエクスポート\u003c/strong\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ mysqldump -u ユーザー名 -p -h ホスト名 データベース名 \u0026gt; 追加するファイル名\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eエクスポートができたらアップロードを行う\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eFTPソフトなどを使ってアップロードする\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eRDSにインポート\u003c/strong\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ mysql -u RDSユーザー名 -p -h データベースのエンドポイント -P ポート番号 インポート先のデータベース名 \u0026lt; export.sql\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003cstrong\u003emysqlに接続\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003eインポートが完了したら、mysqlに接続する\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ mysql -u RDSで登録したユーザー名 -p -h データベースのエンドポイント -P ポート番号\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eパスワードが聞かれるので、入力してmysql内でデータベースが取り込めているか確認する\u003c/p\u003e\n","body":"## ローカルの環境からRDSにデータベースを移行する\n\n※自分用メモ\n\n**mysqlからエクスポート**\n\n    $ mysqldump -u ユーザー名 -p -h ホスト名 データベース名 \u003e 追加するファイル名\n\nエクスポートができたらアップロードを行う\n\n **FTPソフトなどを使ってアップロードする**\n\n **RDSにインポート**\n\n    $ mysql -u RDSユーザー名 -p -h データベースのエンドポイント -P ポート番号 インポート先のデータベース名 \u003c export.sql\n\n **mysqlに接続**\n\nインポートが完了したら、mysqlに接続する\n\n    $ mysql -u RDSで登録したユーザー名 -p -h データベースのエンドポイント -P ポート番号\n\nパスワードが聞かれるので、入力してmysql内でデータベースが取り込めているか確認する\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T22:29:04+09:00","group":null,"id":"1a52e95fea1990ddbb15","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"RDS","versions":[]}],"title":"ローカルの環境からRDSにデータベースを移行する","updated_at":"2019-07-09T22:29:04+09:00","url":"https://qiita.com/yuto22/items/1a52e95fea1990ddbb15","user":{"description":"駆け出しエンジニア\r\n基本自分用メモ","facebook_id":"","followees_count":0,"followers_count":0,"github_login_name":null,"id":"yuto22","items_count":2,"linkedin_id":"","location":"","name":"yuto22 yuto","organization":"","permanent_id":413010,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/413010/profile-images/1557382266","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\u003cp\u003ePHPのすごい開発者\u003ca href=\"https://github.com/nikic\" rel=\"nofollow noopener\" target=\"_blank\"\u003eNikita Popov\u003c/a\u003eが書いた\u003ca href=\"https://www.slideshare.net/nikita_ppv/typed-properties-and-more-whats-coming-in-php-74\" rel=\"nofollow noopener\" target=\"_blank\"\u003eTyped Properties and more: What's coming in PHP 7.4?\u003c/a\u003eというスライドを見ていたらなにやら面白かったので、適当に紹介してみる。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"変数の型指定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%A4%89%E6%95%B0%E3%81%AE%E5%9E%8B%E6%8C%87%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e変数の型指定\u003c/h1\u003e\n\n\u003cp\u003ePHP7.4では\u003ca href=\"https://qiita.com/rana_kualu/items/9b4502d229d19635ef34\" id=\"reference-f6e8ba0210c6a565992a\"\u003eプロパティに型指定\u003c/a\u003eできるようになりましたが、実はプロパティではない只の変数にも型指定することができます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"php\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eDummy\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003eint\u003c/span\u003e \u003cspan class=\"nv\"\u003e$id\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$dummy\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eDummy\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n\u003cspan class=\"nv\"\u003e$id\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003e$dummy\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"nv\"\u003e$id\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// OK\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$id\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s1\"\u003e'not an id'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// Uncaught TypeError\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eええ…\u003c/p\u003e\n\n\u003cp\u003eなんかもう普通に\u003ccode\u003eint $id = 42\u003c/code\u003eとか書けるようにしたほうがいい気もしないでもないですが、構文解析とかの都合で難しいのでしょう。\u003c/p\u003e\n\n\u003cp\u003eなんにせよ、これで変数の型指定もできるようになってしまいました。\u003cbr\u003e\nこのまま書くと非常にもったり感がありますが、きっと簡単に使えるライブラリが出てくることでしょう。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"菱形継承\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%8F%B1%E5%BD%A2%E7%B6%99%E6%89%BF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e菱形継承\u003c/h1\u003e\n\n\u003cp\u003e似たような方法でプロパティの菱形継承っぽいこと(交差型)も可能です。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"php\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eA\u003c/span\u003e\u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eB\u003c/span\u003e \u003cspan class=\"k\"\u003eextends\u003c/span\u003e \u003cspan class=\"nx\"\u003eA\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"o\"\u003e?\u003c/span\u003e\u003cspan class=\"nx\"\u003eTraversable\u003c/span\u003e \u003cspan class=\"nv\"\u003e$a\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eC\u003c/span\u003e \u003cspan class=\"k\"\u003eextends\u003c/span\u003e \u003cspan class=\"nx\"\u003eA\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"o\"\u003e?\u003c/span\u003e\u003cspan class=\"nx\"\u003eCountable\u003c/span\u003e \u003cspan class=\"nv\"\u003e$a\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"nv\"\u003e$b\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eB\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$c\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eC\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$a\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003e$b\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"na\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$a\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003e$c\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"na\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"nv\"\u003e$a\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eRecursiveArrayIterator\u003c/span\u003e \u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// OK\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$a\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eMultipleIterator\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// Uncaught TypeError: Cannot assign MultipleIterator\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ca href=\"https://www.php.net/manual/ja/class.appenditerator.php\" rel=\"nofollow noopener\" target=\"_blank\"\u003eRecursiveArrayIterator\u003c/a\u003eはTraversableとCountableをimplementsしているので代入可能ですが、\u003ca href=\"https://www.php.net/manual/ja/class.multipleiterator.php\" rel=\"nofollow noopener\" target=\"_blank\"\u003eMultipleIterator\u003c/a\u003eはCountableをimplementsしていないので代入不可能です。\u003cbr\u003e\nということで菱形継承が可能になりました。\u003c/p\u003e\n\n\u003cp\u003eどんなときに役立つのか、よくわかりませんが。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"親クラスには書けない\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A6%AA%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AB%E3%81%AF%E6%9B%B8%E3%81%91%E3%81%AA%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e親クラスには書けない\u003c/h2\u003e\n\n\u003cp\u003e上記は親クラスに何も書かれていなかったので、本来の菱形継承ではありません。\u003c/p\u003e\n\n\u003cp\u003e親クラスでプロパティの型を指定した場合、子クラスでその制限を変更することはできません。\u003cbr\u003e\nすなわち、以下のコードは残念ながら動きません。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"php\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e動かない\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eA\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003eTraversable\u003c/span\u003e \u003cspan class=\"nv\"\u003e$a\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eB\u003c/span\u003e \u003cspan class=\"k\"\u003eextends\u003c/span\u003e \u003cspan class=\"nx\"\u003eA\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003eOuterIterator\u003c/span\u003e \u003cspan class=\"nv\"\u003e$a\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// Fatal error: Type of B::$a must be Traversable\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eメソッドの型宣言は子クラスで\u003ca href=\"https://qiita.com/rana_kualu/items/993fff9662726a004660#covariant-returns-and-contravariant-parameters\" id=\"reference-349cd90ec6b794e04ff0\"\u003e狭めることができます\u003c/a\u003eが、プロパティはPHP7.4α1の時点では狭めることができません。\u003cbr\u003e\nメソッドと動作を合わせるのであればこの書き方も許容されるべきですが、はたして修正されるでしょうか？\u003cbr\u003e\nだめなままなのかな？\u003c/p\u003e\n\n\u003cp\u003eこれが許可されるのであれば、以下のように自然な？形の菱形継承も可能になります。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"php\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e動かない\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eA\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"o\"\u003e?\u003c/span\u003e\u003cspan class=\"nx\"\u003eIterator\u003c/span\u003e \u003cspan class=\"nv\"\u003e$a\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eB\u003c/span\u003e \u003cspan class=\"k\"\u003eextends\u003c/span\u003e \u003cspan class=\"nx\"\u003eA\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"o\"\u003e?\u003c/span\u003e\u003cspan class=\"nx\"\u003eOuterIterator\u003c/span\u003e \u003cspan class=\"nv\"\u003e$a\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eC\u003c/span\u003e \u003cspan class=\"k\"\u003eextends\u003c/span\u003e \u003cspan class=\"nx\"\u003eA\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"o\"\u003e?\u003c/span\u003e\u003cspan class=\"nx\"\u003eRecursiveIterator\u003c/span\u003e \u003cspan class=\"nv\"\u003e$a\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"nv\"\u003e$b\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eB\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$c\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eC\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$a\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003e$b\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"na\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$a\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003e$c\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"na\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"nv\"\u003e$a\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eRecursiveArrayIterator\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// OK\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$a\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eMultipleIterator\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// Uncaught TypeError: Cannot assign MultipleIterator\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e書けるようになったからといってどうするのかわかりませんが。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"ジェネリクス\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B8%E3%82%A7%E3%83%8D%E3%83%AA%E3%82%AF%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eジェネリクス\u003c/h1\u003e\n\n\u003cp\u003eスライドを見ていたら、意外な構文が出てきました。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/60b44b7e99ce39bc6b9f6dc160572dd04e97eb31/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f32363038382f39383136636563352d613836302d366537652d666637342d3132383230613635396132332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/60b44b7e99ce39bc6b9f6dc160572dd04e97eb31/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f32363038382f39383136636563352d613836302d366537652d666637342d3132383230613635396132332e706e67\" alt=\"01.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/26088/9816cec5-a860-6e7e-ff74-12820a659a23.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita.com/rana_kualu/items/536c87242d13cf0c93de\" id=\"reference-4b654bfd8c0629694b68\"\u003e似非ジェネリクス\u003c/a\u003eではなく、本物のジェネリクスの導入を考えているみたいです。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"php\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eまだ動かない\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"k\"\u003einterface\u003c/span\u003e \u003cspan class=\"nx\"\u003eEvent\u003c/span\u003e\u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eSpecificEvent\u003c/span\u003e \u003cspan class=\"k\"\u003eimplements\u003c/span\u003e \u003cspan class=\"nx\"\u003eEvent\u003c/span\u003e\u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003einterface\u003c/span\u003e \u003cspan class=\"nx\"\u003eEventHandler\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eE\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eEvent\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003efunction\u003c/span\u003e \u003cspan class=\"nf\"\u003ehandle\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eE\u003c/span\u003e \u003cspan class=\"nv\"\u003e$e\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eSpecificEventHandler\u003c/span\u003e \u003cspan class=\"k\"\u003eimplements\u003c/span\u003e \u003cspan class=\"nx\"\u003eEventHandler\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eSpecificEvent\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003efunction\u003c/span\u003e \u003cspan class=\"nf\"\u003ehandle\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eSpecificEvent\u003c/span\u003e \u003cspan class=\"nv\"\u003e$e\u003c/span\u003e\u003cspan class=\"p\"\u003e){}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eRFCもありませんし(\u003ca href=\"https://wiki.php.net/rfc/generics\" rel=\"nofollow noopener\" target=\"_blank\"\u003eGeneric Types and Functions\u003c/a\u003eは構文が異なる)、まだ思いつき段階といったところでしょうが、このひとNikitaですからね。\u003cbr\u003e\nPHP8でジェネリクスが導入されていた、なんてことになったとしても驚きはないですね。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"感想\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%84%9F%E6%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e感想\u003c/h1\u003e\n\n\u003cp\u003e変数の型指定は有用ですね。\u003cbr\u003e\n定義方法さえ簡単になれば、あとパフォーマンスが極端に落ちるなどの問題がなければ、普通に使ってもよさそうです。\u003cbr\u003e\nただPHPの場合、stringを返す組み込み関数が普通にfalseを返してきたりするので、全てを置き換えるのはちょっと辛そうです。\u003c/p\u003e\n\n\u003cp\u003e菱形継承はそもそも役に立つ場面を知らないのでなんとも言えません。\u003c/p\u003e\n\n\u003cp\u003eジェネリクスはどうなんですかね、PHPでそこまで必要なんですかね。\u003cbr\u003e\n確かに配列要素の型を限定したいことは頻繁にありますが、しかし、あらゆるオブジェクトに型指定が欲しいとまではあまり思ったことがないですね。\u003cbr\u003e\n今でもArrayAccessやらを使えば一応できますしね。\u003c/p\u003e\n","body":"PHPのすごい開発者[Nikita Popov](https://github.com/nikic)が書いた[Typed Properties and more: What's coming in PHP 7.4?](https://www.slideshare.net/nikita_ppv/typed-properties-and-more-whats-coming-in-php-74)というスライドを見ていたらなにやら面白かったので、適当に紹介してみる。\n\n\n# 変数の型指定\n\nPHP7.4では[プロパティに型指定](https://qiita.com/rana_kualu/items/9b4502d229d19635ef34)できるようになりましたが、実はプロパティではない只の変数にも型指定することができます。\n\n\n```php\nclass Dummy{\n\tpublic int $id = 42;\n}\n$dummy = new Dummy();\n\n$id = \u0026 $dummy-\u003eid;\n\n$id = 10; // OK\n$id = 'not an id'; // Uncaught TypeError\n```\n\nええ…\n\nなんかもう普通に`int $id = 42`とか書けるようにしたほうがいい気もしないでもないですが、構文解析とかの都合で難しいのでしょう。\n\nなんにせよ、これで変数の型指定もできるようになってしまいました。\nこのまま書くと非常にもったり感がありますが、きっと簡単に使えるライブラリが出てくることでしょう。\n\n\n# 菱形継承\n\n似たような方法でプロパティの菱形継承っぽいこと(交差型)も可能です。\n\n```php\nclass A{}\n\nclass B extends A{\n    public ?Traversable $a;\n}\nclass C extends A{\n    public ?Countable $a;\n}\n\n$b = new B();\n$c = new C();\n$a =\u0026 $b-\u003ea;\n$a =\u0026 $c-\u003ea;\n\n$a = new RecursiveArrayIterator (); // OK\n$a = new MultipleIterator(); // Uncaught TypeError: Cannot assign MultipleIterator\n```\n\n[RecursiveArrayIterator](https://www.php.net/manual/ja/class.appenditerator.php)はTraversableとCountableをimplementsしているので代入可能ですが、[MultipleIterator](https://www.php.net/manual/ja/class.multipleiterator.php)はCountableをimplementsしていないので代入不可能です。\nということで菱形継承が可能になりました。\n\nどんなときに役立つのか、よくわかりませんが。\n\n\n## 親クラスには書けない\n\n上記は親クラスに何も書かれていなかったので、本来の菱形継承ではありません。\n\n親クラスでプロパティの型を指定した場合、子クラスでその制限を変更することはできません。\nすなわち、以下のコードは残念ながら動きません。\n\n```php:動かない\nclass A{\n\tpublic Traversable $a;\n}\nclass B extends A{\n    public OuterIterator $a; // Fatal error: Type of B::$a must be Traversable\n}\n```\n\nメソッドの型宣言は子クラスで[狭めることができます](https://qiita.com/rana_kualu/items/993fff9662726a004660#covariant-returns-and-contravariant-parameters)が、プロパティはPHP7.4α1の時点では狭めることができません。\nメソッドと動作を合わせるのであればこの書き方も許容されるべきですが、はたして修正されるでしょうか？\nだめなままなのかな？\n\nこれが許可されるのであれば、以下のように自然な？形の菱形継承も可能になります。\n\n```php:動かない\nclass A{\n\tpublic ?Iterator $a;\n}\n\nclass B extends A{\n    public ?OuterIterator $a;\n}\nclass C extends A{\n    public ?RecursiveIterator $a;\n}\n\n$b = new B();\n$c = new C();\n$a =\u0026 $b-\u003ea;\n$a =\u0026 $c-\u003ea;\n\n$a = new RecursiveArrayIterator(); // OK\n$a = new MultipleIterator(); // Uncaught TypeError: Cannot assign MultipleIterator\n```\n\n書けるようになったからといってどうするのかわかりませんが。\n\n\n# ジェネリクス\n\n\nスライドを見ていたら、意外な構文が出てきました。\n\n![01.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/26088/9816cec5-a860-6e7e-ff74-12820a659a23.png)\n\n\n[似非ジェネリクス](https://qiita.com/rana_kualu/items/536c87242d13cf0c93de)ではなく、本物のジェネリクスの導入を考えているみたいです。\n\n```php:まだ動かない\ninterface Event{}\n\nclass SpecificEvent implements Event{}\n\ninterface EventHandler\u003cE: Event\u003e{\n  public function handle(E $e);\n}\n\nclass SpecificEventHandler implements EventHandler\u003cSpecificEvent\u003e{\n  public function handle(SpecificEvent $e){}\n}\n```\n\nRFCもありませんし([Generic Types and Functions](https://wiki.php.net/rfc/generics)は構文が異なる)、まだ思いつき段階といったところでしょうが、このひとNikitaですからね。\nPHP8でジェネリクスが導入されていた、なんてことになったとしても驚きはないですね。\n\n\n# 感想\n\n変数の型指定は有用ですね。\n定義方法さえ簡単になれば、あとパフォーマンスが極端に落ちるなどの問題がなければ、普通に使ってもよさそうです。\nただPHPの場合、stringを返す組み込み関数が普通にfalseを返してきたりするので、全てを置き換えるのはちょっと辛そうです。\n\n菱形継承はそもそも役に立つ場面を知らないのでなんとも言えません。\n\nジェネリクスはどうなんですかね、PHPでそこまで必要なんですかね。\n確かに配列要素の型を限定したいことは頻繁にありますが、しかし、あらゆるオブジェクトに型指定が欲しいとまではあまり思ったことがないですね。\n今でもArrayAccessやらを使えば一応できますしね。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T22:25:54+09:00","group":null,"id":"8337e5ead7d52badf3e1","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"PHP","versions":[]},{"name":"PHP7.4","versions":[]}],"title":"【PHP7.4】PHP7.4では変数に型指定できる \u0026 菱形継承っぽいものができる","updated_at":"2019-07-09T22:25:54+09:00","url":"https://qiita.com/rana_kualu/items/8337e5ead7d52badf3e1","user":{"description":"存在要素の確定が私にもたらした真実の記憶","facebook_id":"","followees_count":2,"followers_count":1446,"github_login_name":null,"id":"rana_kualu","items_count":327,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":26088,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/26088/profile-images/1473684492","team_only":false,"twitter_screen_name":"rana_kualu","website_url":"https://twitter.com/rana_kualu"},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"目的\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%9B%AE%E7%9A%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e目的\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003eHTMLファイルの文字のサイズを設定する方法をまとめる\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"押さえるポイント\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%8A%BC%E3%81%95%E3%81%88%E3%82%8B%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e押さえるポイント\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003e文字のサイズを変更したい要素をCSSで指定してサイズを設定する。\u003c/li\u003e\n\u003cli\u003efont-sizeプロパティを使用する。\u003c/li\u003e\n\u003cli\u003eピクセル数を用いて指定する。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"書き方の例css\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9B%B8%E3%81%8D%E6%96%B9%E3%81%AE%E4%BE%8Bcss\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e書き方の例(CSS)\u003c/h1\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"css\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"err\"\u003e要素の名前かクラス名\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003efont-size\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"err\"\u003eピクセル数\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"より具体的な例\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%88%E3%82%8A%E5%85%B7%E4%BD%93%E7%9A%84%E3%81%AA%E4%BE%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eより具体的な例\u003c/h1\u003e\n\n\u003cp\u003e〜サンプルコード〜\u003cbr\u003e\n- 下記にHTMLファイルの内容を記載する。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nt\"\u003e\u0026lt;h1\u0026gt;\u003c/span\u003eおはようございます。\u003cspan class=\"nt\"\u003e\u0026lt;/h1\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cul\u003e\n\u003cli\u003eCSSで上記のHTMLファイルのh1要素の文字の大きさを30pxにする設定を行う。\u003c/li\u003e\n\u003cli\u003e下記にCSSファイルの内容を記載する。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"css\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nt\"\u003eh1\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003efont-size\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e30px\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n","body":"# 目的\n- HTMLファイルの文字のサイズを設定する方法をまとめる\n\n# 押さえるポイント\n- 文字のサイズを変更したい要素をCSSで指定してサイズを設定する。\n- font-sizeプロパティを使用する。\n- ピクセル数を用いて指定する。\n\n# 書き方の例(CSS)\n\n``` css\n要素の名前かクラス名{\n    font-size: ピクセル数;\n}\n```\n\n# より具体的な例\n〜サンプルコード〜\n- 下記にHTMLファイルの内容を記載する。\n\n``` html\n\u003ch1\u003eおはようございます。\u003c/h1\u003e\n```\n\n- CSSで上記のHTMLファイルのh1要素の文字の大きさを30pxにする設定を行う。\n- 下記にCSSファイルの内容を記載する。\n\n``` css\nh1 {\n    font-size: 30px;\n}\n```\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T22:18:31+09:00","group":null,"id":"8b76ce9f0ec2e6153e72","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"HTML","versions":[]},{"name":"CSS","versions":[]},{"name":"HTML5","versions":[]},{"name":"HTML,CSS","versions":[]}],"title":"HTML の 文字 の サイズ を 設定する","updated_at":"2019-07-09T22:18:31+09:00","url":"https://qiita.com/miriwo/items/8b76ce9f0ec2e6153e72","user":{"description":"Programming beginner\r\nI love shell script","facebook_id":"","followees_count":4,"followers_count":4,"github_login_name":null,"id":"miriwo","items_count":18,"linkedin_id":"","location":"japan","name":"ookawa shun","organization":"","permanent_id":306417,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/306417/profile-images/1557453780","team_only":false,"twitter_screen_name":"mirimiripc","website_url":""},"page_views_count":null},{"rendered_body":"\u003cp\u003eTabBarControllerで実装したボトムタブを選択すると、通常は画面が切り替わります。\u003cbr\u003e\n今回は、特殊なボタンとして画面をModal（下から上へ出現）表示させたい時の実装です。\u003c/p\u003e\n\n\u003cp\u003e（真ん中のボタンが丸く縁取られているアプリに多いと思います）\u003c/p\u003e\n\n\u003cp\u003eModalで開きたい画面クラスが\u003ccode\u003eTargetViewController\u003c/code\u003eと仮定して解説していきます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"ソースコード\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eソースコード\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"swift\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eTabBarController.swift\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kd\"\u003eimport\u003c/span\u003e \u003cspan class=\"kt\"\u003eUIKit\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003efinal\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"kt\"\u003eTabBarController\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nf\"\u003eUITabBarController\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"kd\"\u003efunc\u003c/span\u003e \u003cspan class=\"nf\"\u003eviewDidLoad\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003esuper\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eviewDidLoad\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003edelegate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eself\u003c/span\u003e \u003cspan class=\"c1\"\u003e// UITabBarControllerDelegate\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// MARK: - UITabBarControllerDelegateに適合\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eextension\u003c/span\u003e \u003cspan class=\"kt\"\u003eTabBarController\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nf\"\u003eUITabBarControllerDelegate\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// TabBarItemが選択された時に呼ばれる\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003efunc\u003c/span\u003e \u003cspan class=\"nf\"\u003etabBarController\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e \u003cspan class=\"nv\"\u003etabBarController\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kt\"\u003eUITabBarController\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eshouldSelect\u003c/span\u003e \u003cspan class=\"nv\"\u003eviewController\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kt\"\u003eUIViewController\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"nf\"\u003eBool\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// TabBarItemタップでModal表示をする画面を指定して実装\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003eviewController\u003c/span\u003e \u003cspan class=\"k\"\u003eis\u003c/span\u003e \u003cspan class=\"nf\"\u003eTargetViewController\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"k\"\u003elet\u003c/span\u003e \u003cspan class=\"nv\"\u003enewVC\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eUIStoryboard\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Target\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nv\"\u003ebundle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003enil\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003einstantiateInitialViewController\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003etabBarController\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003epresent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003enewVC\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nv\"\u003eanimated\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nv\"\u003ecompletion\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003enil\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"kc\"\u003efalse\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"実装手順\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85%E6%89%8B%E9%A0%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装手順\u003c/h2\u003e\n\n\u003col\u003e\n\u003cli\u003e\n\u003ccode\u003edelegate = self\u003c/code\u003eを書くのを忘れない\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003eextention\u003c/code\u003eで\u003ccode\u003eUITabBarControllerDelegate\u003c/code\u003eに適合する\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003etabBarController(_:shouldSelect:)-\u0026gt;Bool\u003c/code\u003eメソッドを実装\u003c/li\u003e\n\u003cli\u003e開かれるViewControllerが対象のものだったら、という条件でif分岐\u003c/li\u003e\n\u003cli\u003eあとは、ViewControllerをインスタンス化し、\u003ccode\u003epresent(_:animated:completion)\u003c/code\u003eメソッドで画面をModal表示させればOKです！\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"navigationcontrollerを使用している場合\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#navigationcontroller%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E5%A0%B4%E5%90%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNavigationControllerを使用している場合\u003c/h2\u003e\n\n\u003cp\u003eTargetViewControllerでNavigationItemを使いたい等の理由でNavigationControllerを使用する場合\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"swift\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eTabBarController.swift\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003eviewController\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003echildren\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efirst\u003c/span\u003e \u003cspan class=\"k\"\u003eis\u003c/span\u003e \u003cspan class=\"nf\"\u003eTargetViewController\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eというようにすればNavigationControllerが間にあっても判定可能です。\u003c/p\u003e\n\n\u003cp\u003eもし、もっと簡単な方法があればぜひ教えてください。\u003c/p\u003e\n","body":"TabBarControllerで実装したボトムタブを選択すると、通常は画面が切り替わります。\n今回は、特殊なボタンとして画面をModal（下から上へ出現）表示させたい時の実装です。\n\n（真ん中のボタンが丸く縁取られているアプリに多いと思います）\n\nModalで開きたい画面クラスが`TargetViewController`と仮定して解説していきます。\n## ソースコード\n```TabBarController.swift\nimport UIKit\n\nfinal class TabBarController: UITabBarController {\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        \n        delegate = self // UITabBarControllerDelegate\n    }\n}\n\n// MARK: - UITabBarControllerDelegateに適合\nextension TabBarController: UITabBarControllerDelegate {\n    // TabBarItemが選択された時に呼ばれる\n    func tabBarController(_ tabBarController: UITabBarController, shouldSelect viewController: UIViewController) -\u003e Bool {\n        // TabBarItemタップでModal表示をする画面を指定して実装\n        if viewController is TargetViewController {\n            if let newVC = UIStoryboard(name: \"Target\", bundle: nil).instantiateInitialViewController() {\n                tabBarController.present(newVC, animated: true, completion: nil)\n                return false\n            }\n        }\n        return true\n    }\n}\n```\n## 実装手順\n1. `delegate = self`を書くのを忘れない\n2. `extention`で`UITabBarControllerDelegate`に適合する\n3. `tabBarController(_:shouldSelect:)-\u003eBool`メソッドを実装\n4. 開かれるViewControllerが対象のものだったら、という条件でif分岐\n5. あとは、ViewControllerをインスタンス化し、`present(_:animated:completion)`メソッドで画面をModal表示させればOKです！\n\n## NavigationControllerを使用している場合\nTargetViewControllerでNavigationItemを使いたい等の理由でNavigationControllerを使用する場合\n\n```TabBarController.swift\nif viewController.children.first is TargetViewController {\n```\n\nというようにすればNavigationControllerが間にあっても判定可能です。\n\nもし、もっと簡単な方法があればぜひ教えてください。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T22:17:28+09:00","group":null,"id":"161448d57736ed0b143b","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"Xcode","versions":[]},{"name":"iOS","versions":[]},{"name":"Swift","versions":[]}],"title":"[Swift 5]TabBarのボタン(TabBarItem)をタップで画面をModal表示する簡単な方法","updated_at":"2019-07-09T22:17:28+09:00","url":"https://qiita.com/Riscait/items/161448d57736ed0b143b","user":{"description":"現役iOSアプリ開発者です。主にSwiftとXcodeで日々アプリを開発しています。\r\nSwiftUIを積極的にキャッチアップ中","facebook_id":"","followees_count":12,"followers_count":8,"github_login_name":"Riscait","id":"Riscait","items_count":12,"linkedin_id":"","location":"Japan","name":"Ryunosuke Muramatsu","organization":"nerco studio","permanent_id":54170,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/54170/profile-images/1555852498","team_only":false,"twitter_screen_name":"nercostudio","website_url":"https://nerco.jp"},"page_views_count":null},{"rendered_body":"\u003cp\u003egf jhgfjhg fjhfjhgfhgfhf\u003c/p\u003e\n","body":"gf jhgfjhg fjhfjhgfhgfhf\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T22:14:17+09:00","group":null,"id":"6b92bbee57408ec3ff04","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"online","versions":[]},{"name":"sport","versions":[]}],"title":"Fortuna Köln v Preußen Münster LIVE Stream#","updated_at":"2019-07-09T22:14:17+09:00","url":"https://qiita.com/BlakeFisher288174/items/6b92bbee57408ec3ff04","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"BlakeFisher288174","items_count":1,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":454622,"profile_image_url":"https://secure.gravatar.com/avatar/b92d2d5f80dabe45436e45133121124c","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\n\u003ch2\u003e\n\u003cspan id=\"やりたいこと\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eやりたいこと\u003c/h2\u003e\n\n\u003cp\u003eNTT西日本管内の2箇所にあるフレッツ回線を使って，フレッツ網内のIPv6だけで，Site-to-SiteのIPsec VPNを張ってみる。使用機材はヤフオクで仕入れたFortigate60D（まだサポートが残っていたのでFortiOSは現時点での最新6.0.5）\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境\u003c/h2\u003e\n\n\u003cp\u003e拠点1：ISPのIPoEオプションを使ってグローバルIPv6の世界を泳げる。\u003cbr\u003e\n拠点2：ISPのIPoEオプション無し，フレッツ払い出しのIPv6のみ。グローバルIPv6の世界を泳げない。フレッツ網内でのユーザ間IPv6通信をするために，v6オプションを申し込んでおく必要があります。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"参考にしたurl\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83%E3%81%AB%E3%81%97%E3%81%9Furl\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考にしたURL\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"https://help.fortinet.com/fos60hlp/60/Content/FortiOS/fortigate-ipsecvpn/IPv6_and_IPsec/Config_Overview.htm#Site-to-3\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://help.fortinet.com/fos60hlp/60/Content/FortiOS/fortigate-ipsecvpn/IPv6_and_IPsec/Config_Overview.htm#Site-to-3\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"遅延は\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%81%85%E5%BB%B6%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e遅延は？\u003c/h2\u003e\n\n\u003cp\u003e京都～岡山間のRTTは15ms～18msと，かなり優秀。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"fortigateのipv6対応\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#fortigate%E3%81%AEipv6%E5%AF%BE%E5%BF%9C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eFortigateのIPv6対応\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003eGUIでIPv6アドレスを入力できないと事がかなりある。\u003c/li\u003e\n\u003cli\u003eDHCPv6との相性が悪い？\u003ca href=\"https://help.fortinet.com/fos50hlp/54/Content/FortiOS/fortigate-whats-new-54/FeatureCatalog-ipv6.htm\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://help.fortinet.com/fos50hlp/54/Content/FortiOS/fortigate-whats-new-54/FeatureCatalog-ipv6.htm\u003c/a\u003e を参考にDHCPv6-PDの設定をしてみたが，diag ipv6 [address | route]\nlistでアドレスを取得している形跡がない。（でもHGWのDHCPv6クライアント一覧には出てくるという不思議。片思いになっている？）\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"fortigateのwan側設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#fortigate%E3%81%AEwan%E5%81%B4%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eFortigateのWAN側設定\u003c/h2\u003e\n\n\u003cp\u003eGUIで，固定のIPv6を設定します。DHCPだとHGWからIPv6アドレスを取得してくれないようです。ゲートウェイは特に設定しなくても外部にいけるようです。\u003c/p\u003e\n","body":"## やりたいこと\nNTT西日本管内の2箇所にあるフレッツ回線を使って，フレッツ網内のIPv6だけで，Site-to-SiteのIPsec VPNを張ってみる。使用機材はヤフオクで仕入れたFortigate60D（まだサポートが残っていたのでFortiOSは現時点での最新6.0.5）\n## 環境\n拠点1：ISPのIPoEオプションを使ってグローバルIPv6の世界を泳げる。\n拠点2：ISPのIPoEオプション無し，フレッツ払い出しのIPv6のみ。グローバルIPv6の世界を泳げない。フレッツ網内でのユーザ間IPv6通信をするために，v6オプションを申し込んでおく必要があります。\n\n## 参考にしたURL\nhttps://help.fortinet.com/fos60hlp/60/Content/FortiOS/fortigate-ipsecvpn/IPv6_and_IPsec/Config_Overview.htm#Site-to-3\n\n## 遅延は？\n京都～岡山間のRTTは15ms～18msと，かなり優秀。\n## FortigateのIPv6対応\n- GUIでIPv6アドレスを入力できないと事がかなりある。\n- DHCPv6との相性が悪い？https://help.fortinet.com/fos50hlp/54/Content/FortiOS/fortigate-whats-new-54/FeatureCatalog-ipv6.htm を参考にDHCPv6-PDの設定をしてみたが，diag ipv6 [address | route]\nlistでアドレスを取得している形跡がない。（でもHGWのDHCPv6クライアント一覧には出てくるという不思議。片思いになっている？）\n\n## FortigateのWAN側設定\nGUIで，固定のIPv6を設定します。DHCPだとHGWからIPv6アドレスを取得してくれないようです。ゲートウェイは特に設定しなくても外部にいけるようです。\n\n\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T22:13:30+09:00","group":null,"id":"0931f46d9741426bc83c","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"fortigate","versions":[]},{"name":"IPsec-VPN","versions":[]}],"title":"Fortigate(6.0.5)でFlets IPv6経由でVPNを張ってみる（途中）","updated_at":"2019-07-09T22:31:27+09:00","url":"https://qiita.com/gaichi/items/0931f46d9741426bc83c","user":{"description":"","facebook_id":"","followees_count":0,"followers_count":0,"github_login_name":null,"id":"gaichi","items_count":1,"linkedin_id":"","location":"","name":"gaichi","organization":"","permanent_id":457890,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/457890/profile-images/1562678572","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"nをrnに変換する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#n%E3%82%92rn%E3%81%AB%E5%A4%89%E6%8F%9B%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\\nを\\r\\nに変換する。\u003c/h1\u003e\n\n\u003cp\u003e以下の様なレシピで可能と思える。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"ruby\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"n\"\u003efile\u003c/span\u003e \u003cspan class=\"s1\"\u003e'/tmp/abc'\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e\n  \u003cspan class=\"n\"\u003econtent\u003c/span\u003e \u003cspan class=\"n\"\u003elazy\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"no\"\u003eFile\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eread\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epath\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003egsub\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"sr\"\u003e/\\r?\\n/\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"se\"\u003e\\r\\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"想定使用ケース\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%83%B3%E5%AE%9A%E4%BD%BF%E7%94%A8%E3%82%B1%E3%83%BC%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e想定使用ケース\u003c/h2\u003e\n\n\u003cp\u003egitでは改行コードとして\\nを用い、そのファイルをWindowsなどにcookbook_fileを用いて配布する場合などに、合わせて使用することを想定。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"考慮事項\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%80%83%E6%85%AE%E4%BA%8B%E9%A0%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e考慮事項\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003eマルチバイト文字中に\\nがあった場合は考慮していない。(\\nが文字中に現れることはありえるのだろうか。。)\u003c/li\u003e\n\u003cli\u003e?を用いて冪等性を担保。\u003c/li\u003e\n\u003cli\u003eOhaiよりWindows環境なら実行などの条件があればbetterか。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"検討事項\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A4%9C%E8%A8%8E%E4%BA%8B%E9%A0%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e検討事項\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003eFileEditに行を分割させればマルチバイトでも大丈夫か？\u003c/li\u003e\n\u003cli\u003e対象システムにnkfが入っているor入れても良いならnkf -Lwなども使えそう。\u003c/li\u003e\n\u003cli\u003eeach_lineやFile.readlines(\"foo\").each { |line| ... } などは\\r\\nをどう扱うのか要確認。\u003c/li\u003e\n\u003c/ul\u003e\n","body":"#\\nを\\r\\nに変換する。\n\n\n以下の様なレシピで可能と思える。\n\n```ruby\nfile '/tmp/abc' do\n  content lazy {\n    File.read(path).gsub(/\\r?\\n/, \"\\r\\n\")\n  }\nend\n\n```\n\n##想定使用ケース\ngitでは改行コードとして\\nを用い、そのファイルをWindowsなどにcookbook_fileを用いて配布する場合などに、合わせて使用することを想定。\n\n##考慮事項\n\n- マルチバイト文字中に\\nがあった場合は考慮していない。(\\nが文字中に現れることはありえるのだろうか。。)\n- ?を用いて冪等性を担保。\n- OhaiよりWindows環境なら実行などの条件があればbetterか。\n\n##検討事項\n- FileEditに行を分割させればマルチバイトでも大丈夫か？\n- 対象システムにnkfが入っているor入れても良いならnkf -Lwなども使えそう。\n- each_lineやFile.readlines(\"foo\").each { |line| ... } などは\\r\\nをどう扱うのか要確認。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T22:12:35+09:00","group":null,"id":"9b93b080e45c0f082574","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Windows","versions":[]},{"name":"chef","versions":[]}],"title":"Chefにて改行コードを\\r\\nに変換するレシピ","updated_at":"2019-07-09T22:38:16+09:00","url":"https://qiita.com/hiroyuki_onodera/items/9b93b080e45c0f082574","user":{"description":"インフラエンジニア。\r\nChef等による自動化、クラスターSW(PowerHA,TSA, pacemaker)などをしています。\r\nこのサイトにおける掲載内容はあくまで私自身の見解であり、必ずしも私の所属団体・企業における立場、戦略、意見を代表するものではありません。","facebook_id":"","followees_count":6,"followers_count":6,"github_login_name":null,"id":"hiroyuki_onodera","items_count":48,"linkedin_id":"","location":"Chiba, Japan","name":"小野寺 洋之","organization":"IBM Japan Systems Engineering Co., Ltd.","permanent_id":187032,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/187032/profile-images/1528087178","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"目的\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%9B%AE%E7%9A%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e目的\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003eHTMLファイルのひな型の記載方法をまとめる。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"この記事のターゲット\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%93%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%AE%E3%82%BF%E3%83%BC%E3%82%B2%E3%83%83%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eこの記事のターゲット\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003eHTMLファイルの最初の記載方法がわからない方\u003c/li\u003e\n\u003cli\u003eHTMLを書きたいが最初に何をすれば良いかわからない方\u003c/li\u003e\n\u003cli\u003eHTMLファイルのひな型を知りたい方\u003c/li\u003e\n\u003cli\u003eHTMLひな型を一から学んでいて嫌になってしまった方\u003c/li\u003e\n\u003cli\u003eひな型のテンプレートをコピーしたい方\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"押さえておきたいポイント\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%8A%BC%E3%81%95%E3%81%88%E3%81%A6%E3%81%8A%E3%81%8D%E3%81%9F%E3%81%84%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e押さえておきたいポイント\u003c/h1\u003e\n\n\u003col\u003e\n\u003cli\u003eHTMLファイルを書くにはひな型が必要になる\u003c/li\u003e\n\u003cli\u003eHTMLファイルのひな型とは、HTMLファイルが正常に表示されるようにする設定のこと\u003c/li\u003e\n\u003cli\u003eひな型はテンプレートのようなものなのでHTMLファイルを作成したら最初に記載する\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"ひな型の書き方\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%B2%E3%81%AA%E5%9E%8B%E3%81%AE%E6%9B%B8%E3%81%8D%E6%96%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eひな型の書き方\u003c/h1\u003e\n\n\u003cp\u003eひな型本体の説明は後述する。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e「ページタイトル」には任意のタイトル(ブラウザのタブ表示される文字)を記入する。\u003c/li\u003e\n\u003cli\u003e「CSSファイルまでのパスとファイル名」はひな型を書くHTMLファイルからCSSファイルまでのファイルパスを相対パスで記載する。\u003cbr\u003e\n※HTMLファイルとCSSファイル同じフォルダ階層に設置している場合はCSSファイル名のみの指定でOK\n※ひな型が必要な方は下記をそのままコピーして上記の必要箇所を記入すれば使用できます。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"cp\"\u003e\u0026lt;!DOCTYPE html\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;html\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;head\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;meta\u003c/span\u003e \u003cspan class=\"na\"\u003echarset=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"utf-8\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;title\u0026gt;\u003c/span\u003eページタイトル\u003cspan class=\"nt\"\u003e\u0026lt;/title\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;link\u003c/span\u003e \u003cspan class=\"na\"\u003erel=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"stylesheet\"\u003c/span\u003e \u003cspan class=\"na\"\u003ehref=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"CSSファイルまでのパスとファイル名\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;/head\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;body\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;header\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;/header\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"main\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;footer\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;/footer\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;/body\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/html\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"ひな型の内容の説明\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%B2%E3%81%AA%E5%9E%8B%E3%81%AE%E5%86%85%E5%AE%B9%E3%81%AE%E8%AA%AC%E6%98%8E\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eひな型の内容の説明\u003c/h1\u003e\n\n\u003cp\u003e下記のひな型の番号にリンクした説明を下記に記す。\u003cbr\u003e\n- ①\u003cbr\u003e\n文章の解釈に使用するDTD(Document Type Definition)と呼ばれる文書の型を宣言している。\u003cbr\u003e\n宣言したHTMLのバージョンで使用する要素(タグ)や属性の名前などの情報が定義される。\u003cbr\u003e\n- ②\u003cbr\u003e\nhtmlタグで囲まれた文書がHTML文書で記載することを指定している。\u003cbr\u003e\n※ちなみにHTMLは「Hyper Text Markup Language」の頭文字を取ったもの\u003cbr\u003e\n- ③\u003cbr\u003e\nheadタグの中に本HTMLファイルの設定を記載する。\u003cbr\u003e\n設定する最低限の内容は下記の3つ\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003e文字コード\u003c/li\u003e\n\u003cli\u003eブラウザタブに表示されるページタイトル\u003c/li\u003e\n\u003cli\u003eリンクするCSSファイルのファイルパスかファイル名\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003e※設定の記載内容は下記で詳しく説明する。\u003cbr\u003e\n- ④\u003cbr\u003e\nmetaタグのcharset属性で文字コードを指定する。\u003cbr\u003e\n文字コードは特に意図がない場合utf-8を指定する。\u003cbr\u003e\n- ⑤\u003cbr\u003e\ntitleタグでページのタイトルを指定する。\u003cbr\u003e\ntitleタグ囲んだ文字がページのタイトルとなり、ブラウザのタブに表示される。\u003cbr\u003e\n- ⑥\u003cbr\u003e\nlinkタグのrel属性でstylesheetを与えることによりCSSファイルを読み込む設定をする。\u003cbr\u003e\nlinkタグのhref属性でCSSのファイルパスかファイル名を与えることによりCSSファイルを読み込む。\u003cbr\u003e\n※CSSファイルの場所による記載方法の違いは本記事に後述する。\u003cbr\u003e\n- ⑦\u003cbr\u003e\nbodyタグを作成しHTMLで実際に表示させたい内容を記載していく。\u003cbr\u003e\nbodyタグ内に作成する要素の基本は下記の3つ\u003cbr\u003e\u003cbr\u003e\n※この部分は好みなので鵜呑みにしなくてOK！\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003eheaderタグ\u003c/li\u003e\n\u003cli\u003edivタグ(クラス名はmain)\u003c/li\u003e\n\u003cli\u003efooterタグ\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cul\u003e\n\u003cli\u003e⑧\u003cbr\u003e\nheaderタグを作成する。\u003cbr\u003e\n表示させる内容のheaderに当たる部分を記載する。\u003c/li\u003e\n\u003cli\u003e⑨\u003cbr\u003e\nクラス名を mainとしたdivタグを作成する。\u003cbr\u003e\n表示させる内容のmainに当たる部分を記載する。\u003c/li\u003e\n\u003cli\u003e⑩\u003cbr\u003e\nfooterタグを作成する。\u003cbr\u003e\n表示させる内容のfooterに当たる部分を記載する。\u003cbr\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"c\"\u003e\u0026lt;!-- ① --\u0026gt;\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e\u0026lt;!DOCTYPE html\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e\u0026lt;!-- ② --\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;html\u0026gt;\u003c/span\u003e\n\n  \u003cspan class=\"c\"\u003e\u0026lt;!-- ③ --\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;head\u0026gt;\u003c/span\u003e\n\n    \u003cspan class=\"c\"\u003e\u0026lt;!-- ④ --\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;meta\u003c/span\u003e \u003cspan class=\"na\"\u003echarset=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"utf-8\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n    \u003cspan class=\"c\"\u003e\u0026lt;!-- ⑤ --\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;title\u0026gt;\u003c/span\u003eページタイトル\u003cspan class=\"nt\"\u003e\u0026lt;/title\u0026gt;\u003c/span\u003e\n\n    \u003cspan class=\"c\"\u003e\u0026lt;!-- ⑥ --\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;link\u003c/span\u003e \u003cspan class=\"na\"\u003erel=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"stylesheet\"\u003c/span\u003e \u003cspan class=\"na\"\u003ehref=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"CSSファイルまでのパスとファイル名\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n  \u003cspan class=\"nt\"\u003e\u0026lt;/head\u0026gt;\u003c/span\u003e\n\n  \u003cspan class=\"c\"\u003e\u0026lt;!-- ⑦ --\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;body\u0026gt;\u003c/span\u003e\n\n    \u003cspan class=\"c\"\u003e\u0026lt;!-- ⑧ --\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;header\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;/header\u0026gt;\u003c/span\u003e\n\n    \u003cspan class=\"c\"\u003e\u0026lt;!-- ⑨ --\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"main\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n\n    \u003cspan class=\"c\"\u003e\u0026lt;!-- ⑩ --\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;footer\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;/footer\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;/body\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/html\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"cssの設置場所の違いによる指定方法時の違い\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#css%E3%81%AE%E8%A8%AD%E7%BD%AE%E5%A0%B4%E6%89%80%E3%81%AE%E9%81%95%E3%81%84%E3%81%AB%E3%82%88%E3%82%8B%E6%8C%87%E5%AE%9A%E6%96%B9%E6%B3%95%E6%99%82%E3%81%AE%E9%81%95%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eCSSの設置場所の違いによる指定方法時の違い\u003c/h1\u003e\n\n\u003cp\u003e具体的な例を用いてhead内でのCSSファイルの読み込み指定方法の違いをまとめる。\u003cbr\u003e\nまた、HTMLファイル名は「tropical_fish.html」とし、CSSファイル名は「preference_file.css」とする。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"cssファイルがhtmlファイルと同じフォルダ階層に存在するとき\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#css%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%8Chtml%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%A8%E5%90%8C%E3%81%98%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E9%9A%8E%E5%B1%A4%E3%81%AB%E5%AD%98%E5%9C%A8%E3%81%99%E3%82%8B%E3%81%A8%E3%81%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eCSSファイルがHTMLファイルと同じフォルダ階層に存在するとき\u003c/h3\u003e\n\n\u003cp\u003eフォルダ階層を下記に記載する。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e# HTMLファイルが設置してあるフォルダ内の構成\n\ntropical_fish.html\npreference_file.css\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e上記のファイル構成の場合はtropical_fish.htmlのheadのlinkにて下記のようにCSSファイルを指定する。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nt\"\u003e\u0026lt;link\u003c/span\u003e \u003cspan class=\"na\"\u003erel=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"stylesheet\"\u003c/span\u003e \u003cspan class=\"na\"\u003ehref=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"preference_file.css\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"cssファイルがhtmlファイルの一つ下のフォルダlove_cssの中に存在するとき\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#css%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%8Chtml%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E4%B8%80%E3%81%A4%E4%B8%8B%E3%81%AE%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80love_css%E3%81%AE%E4%B8%AD%E3%81%AB%E5%AD%98%E5%9C%A8%E3%81%99%E3%82%8B%E3%81%A8%E3%81%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eCSSファイルがHTMLファイルの一つ下のフォルダ「LOVE_CSS」の中に存在するとき\u003c/h3\u003e\n\n\u003cp\u003e※本来CSSファイルを格納するフォルダはわかりやすい名前にするべきです。\u003cbr\u003e\nフォルダ階層を下記に記載する。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003etropical_fish.html\nLOVE_CSSフォルダ\n    ┗preference_file.css\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e上記のファイル構成の場合はtropical_fish.htmlのheadのlinkにて下記のようにCSSファイルを指定する。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nt\"\u003e\u0026lt;link\u003c/span\u003e \u003cspan class=\"na\"\u003erel=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"stylesheet\"\u003c/span\u003e \u003cspan class=\"na\"\u003ehref=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"./LOVE_CSS/preference_file.css\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"まとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまとめ\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003eHTMLファイルのひな型の記載をまとめた。\u003c/li\u003e\n\u003cli\u003eCSSファイルの設定にはHTMLファイルとの位置関係を意識する。\u003c/li\u003e\n\u003c/ul\u003e\n","body":"# 目的\n- HTMLファイルのひな型の記載方法をまとめる。\n\n# この記事のターゲット\n- HTMLファイルの最初の記載方法がわからない方\n- HTMLを書きたいが最初に何をすれば良いかわからない方\n- HTMLファイルのひな型を知りたい方\n- HTMLひな型を一から学んでいて嫌になってしまった方\n- ひな型のテンプレートをコピーしたい方\n\n# 押さえておきたいポイント\n1. HTMLファイルを書くにはひな型が必要になる\n1. HTMLファイルのひな型とは、HTMLファイルが正常に表示されるようにする設定のこと\n1. ひな型はテンプレートのようなものなのでHTMLファイルを作成したら最初に記載する\n\n# ひな型の書き方\nひな型本体の説明は後述する。\n\n- 「ページタイトル」には任意のタイトル(ブラウザのタブ表示される文字)を記入する。\n- 「CSSファイルまでのパスとファイル名」はひな型を書くHTMLファイルからCSSファイルまでのファイルパスを相対パスで記載する。  \n※HTMLファイルとCSSファイル同じフォルダ階層に設置している場合はCSSファイル名のみの指定でOK\n※ひな型が必要な方は下記をそのままコピーして上記の必要箇所を記入すれば使用できます。\n\n``` html\n\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n  \u003chead\u003e\n    \u003cmeta charset=\"utf-8\"\u003e\n    \u003ctitle\u003eページタイトル\u003c/title\u003e\n    \u003clink rel=\"stylesheet\" href=\"CSSファイルまでのパスとファイル名\"\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003cheader\u003e\n    \u003c/header\u003e\n    \u003cdiv class=\"main\"\u003e\n    \u003c/div\u003e\n    \u003cfooter\u003e\n    \u003c/footer\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\n```\n\n# ひな型の内容の説明\n下記のひな型の番号にリンクした説明を下記に記す。\n- ①\n文章の解釈に使用するDTD(Document Type Definition)と呼ばれる文書の型を宣言している。\n宣言したHTMLのバージョンで使用する要素(タグ)や属性の名前などの情報が定義される。\n- ②\nhtmlタグで囲まれた文書がHTML文書で記載することを指定している。\n※ちなみにHTMLは「Hyper Text Markup Language」の頭文字を取ったもの\n- ③\nheadタグの中に本HTMLファイルの設定を記載する。\n設定する最低限の内容は下記の3つ\n   \n   1. 文字コード\n   1. ブラウザタブに表示されるページタイトル\n   1. リンクするCSSファイルのファイルパスかファイル名\n\n※設定の記載内容は下記で詳しく説明する。\n- ④\nmetaタグのcharset属性で文字コードを指定する。\n文字コードは特に意図がない場合utf-8を指定する。\n- ⑤\ntitleタグでページのタイトルを指定する。\ntitleタグ囲んだ文字がページのタイトルとなり、ブラウザのタブに表示される。\n- ⑥\nlinkタグのrel属性でstylesheetを与えることによりCSSファイルを読み込む設定をする。\nlinkタグのhref属性でCSSのファイルパスかファイル名を与えることによりCSSファイルを読み込む。\n※CSSファイルの場所による記載方法の違いは本記事に後述する。\n- ⑦\nbodyタグを作成しHTMLで実際に表示させたい内容を記載していく。\nbodyタグ内に作成する要素の基本は下記の3つ  \n※この部分は好みなので鵜呑みにしなくてOK！\n\n   1. headerタグ\n   1. divタグ(クラス名はmain)\n   1. footerタグ\n\n- ⑧  \nheaderタグを作成する。  \n表示させる内容のheaderに当たる部分を記載する。\n- ⑨  \nクラス名を mainとしたdivタグを作成する。  \n表示させる内容のmainに当たる部分を記載する。\n- ⑩  \nfooterタグを作成する。  \n表示させる内容のfooterに当たる部分を記載する。  \n\n``` html\n\u003c!-- ① --\u003e\n\u003c!DOCTYPE html\u003e\n\n\u003c!-- ② --\u003e\n\u003chtml\u003e\n\n  \u003c!-- ③ --\u003e\n  \u003chead\u003e\n\n    \u003c!-- ④ --\u003e\n    \u003cmeta charset=\"utf-8\"\u003e\n\n    \u003c!-- ⑤ --\u003e\n    \u003ctitle\u003eページタイトル\u003c/title\u003e\n\n    \u003c!-- ⑥ --\u003e\n    \u003clink rel=\"stylesheet\" href=\"CSSファイルまでのパスとファイル名\"\u003e\n\n  \u003c/head\u003e\n\n  \u003c!-- ⑦ --\u003e\n  \u003cbody\u003e\n\n    \u003c!-- ⑧ --\u003e\n    \u003cheader\u003e\n    \u003c/header\u003e\n\n    \u003c!-- ⑨ --\u003e\n    \u003cdiv class=\"main\"\u003e\n    \u003c/div\u003e\n\n    \u003c!-- ⑩ --\u003e\n    \u003cfooter\u003e\n    \u003c/footer\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\n```\n\n# CSSの設置場所の違いによる指定方法時の違い\n\n具体的な例を用いてhead内でのCSSファイルの読み込み指定方法の違いをまとめる。\nまた、HTMLファイル名は「tropical_fish.html」とし、CSSファイル名は「preference_file.css」とする。\n\n### CSSファイルがHTMLファイルと同じフォルダ階層に存在するとき\nフォルダ階層を下記に記載する。\n\n``` \n# HTMLファイルが設置してあるフォルダ内の構成\n\ntropical_fish.html\npreference_file.css\n```\n\n上記のファイル構成の場合はtropical_fish.htmlのheadのlinkにて下記のようにCSSファイルを指定する。\n\n``` html\n\u003clink rel=\"stylesheet\" href=\"preference_file.css\"\u003e\n```\n\n### CSSファイルがHTMLファイルの一つ下のフォルダ「LOVE_CSS」の中に存在するとき\n※本来CSSファイルを格納するフォルダはわかりやすい名前にするべきです。\nフォルダ階層を下記に記載する。\n\n```\ntropical_fish.html\nLOVE_CSSフォルダ\n    ┗preference_file.css\n```\n\n上記のファイル構成の場合はtropical_fish.htmlのheadのlinkにて下記のようにCSSファイルを指定する。\n\n``` html\n\u003clink rel=\"stylesheet\" href=\"./LOVE_CSS/preference_file.css\"\u003e\n```\n\n# まとめ\n- HTMLファイルのひな型の記載をまとめた。\n- CSSファイルの設定にはHTMLファイルとの位置関係を意識する。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T22:11:02+09:00","group":null,"id":"7277779308e845482fc3","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"HTML","versions":[]},{"name":"CSS","versions":[]},{"name":"HTML5","versions":[]},{"name":"HTML,CSS","versions":[]}],"title":"HTML の ひな型 の 記載方法","updated_at":"2019-07-09T22:11:50+09:00","url":"https://qiita.com/miriwo/items/7277779308e845482fc3","user":{"description":"Programming beginner\r\nI love shell script","facebook_id":"","followees_count":4,"followers_count":4,"github_login_name":null,"id":"miriwo","items_count":18,"linkedin_id":"","location":"japan","name":"ookawa shun","organization":"","permanent_id":306417,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/306417/profile-images/1557453780","team_only":false,"twitter_screen_name":"mirimiripc","website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"日付範囲にあるデータ件数を取得集計する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%97%A5%E4%BB%98%E7%AF%84%E5%9B%B2%E3%81%AB%E3%81%82%E3%82%8B%E3%83%87%E3%83%BC%E3%82%BF%E4%BB%B6%E6%95%B0%E3%82%92%E5%8F%96%E5%BE%97%E9%9B%86%E8%A8%88%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e日付範囲にあるデータ件数を取得・集計する\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"モデル\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%A2%E3%83%87%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eモデル\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e集計要素\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003estart_date/end_date：開始日、終了日をもつ\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e分類するための属性\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eitem_type：タイプ\u003c/li\u003e\n\u003cli\u003egenre_cd:種別\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"最終的な目標-表のイメージ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E7%B5%82%E7%9A%84%E3%81%AA%E7%9B%AE%E6%A8%99-%E8%A1%A8%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最終的な目標 表のイメージ\u003c/h2\u003e\n\n\u003cp\u003e日付を縦軸に、その日付が開始日・終了日に含まれているレコード件数\u003cbr\u003e\n締め切りとその件数のようなイメージ\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e締め切り\u003c/th\u003e\n\u003cth\u003e件数\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e7/1\u003c/td\u003e\n\u003ctd\u003e10件\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e7/2\u003c/td\u003e\n\u003ctd\u003e4件\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e7/3\u003c/td\u003e\n\u003ctd\u003e1件\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e7/4\u003c/td\u003e\n\u003ctd\u003e0件\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"--１テーブル作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#--%EF%BC%91%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e--　１）テーブル作成\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003ecreate table item(\n    item_no serial primary key,\n    item_type integer not null,\n    genre_cd integer not null,\n    start_date date,\n    end_date date,\n    start_time time\n);\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"サンプル投入\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB%E6%8A%95%E5%85%A5\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eサンプル投入\u003c/h2\u003e\n\n\u003cp\u003einsert into item (item_type,genre_cd,start_date,end_date) values\u003cbr\u003e\n  (1,100,'2019-07-01','2019-07-03'),\u003cbr\u003e\n  (1,100,'2019-07-01','2019-07-02'),\u003cbr\u003e\n  (1,100,'2019-07-02','2019-07-02'),\u003cbr\u003e\n  (1,100,'2019-07-03','2019-07-03'),\u003cbr\u003e\n  (1,100,'2019-07-05','2019-07-05'),\u003cbr\u003e\n  (1,102,'2019-07-11','2019-07-12'),\u003cbr\u003e\n  (1,102,'2019-07-12','2019-07-12'),\u003cbr\u003e\n  (1,102,'2019-07-14','2019-07-14'),\u003cbr\u003e\n  (1,102,'2019-07-14','2019-07-15'),\u003cbr\u003e\n  (1,102,'2019-07-15','2019-07-16')\u003cbr\u003e\n;\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"縦軸になる日付\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B8%A6%E8%BB%B8%E3%81%AB%E3%81%AA%E3%82%8B%E6%97%A5%E4%BB%98\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e縦軸になる日付\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e範囲＝最小値/最大値から求める。\u003c/li\u003e\n\u003cli\u003eGENERATE_SERIESが便利\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\nSELECT GENERATE_SERIES(\n      (select cast(min(start_date) as date) from item as X) \n    , (select cast(max(end_date) as date) from item as Y)\n    ,'1 day'\n);\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"小計集計-表示\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%B0%8F%E8%A8%88%E9%9B%86%E8%A8%88-%E8%A1%A8%E7%A4%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e小計・集計 表示\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\nselect\n    CZ.axis\n    ,count(CZ.item_no)\n\nfrom\n    (\n    SELECT\n        TO_DATE(TO_CHAR(X.axis, 'YYYY/MM/DD'),'YYYY/MM/DD') as axis\n        ,CX.item_no\n        ,CX.item_type\n        ,CX.genre_cd\n        ,CX.start_date\n        ,CX.end_date\n    from\n        ( SELECT GENERATE_SERIES(\n              (select cast(min(start_date) as date) from item  as X) \n            , (select cast(max(end_date) as date) from item  as Y)\n            ,'1 day'\n        )as axis\n    ) as X\n    LEFT JOIN\n        item as CX\n    ON\n        (CX.start_date\u0026lt;= X.axis and CX.end_date\u0026gt;=X.axis)\n    where\n        item_no \u0026lt;\u0026gt; 0\n    order by\n        X.axis\n    ) as CZ\ngroup by\n    CZ.axis\norder by\n    CZ.axis\n;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"結果\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E6%9E%9C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結果\u003c/h2\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eaxis\u003c/th\u003e\n\u003cth\u003ecount\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e2019-07-01\u003c/td\u003e\n\u003ctd\u003e2\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e2019-07-02\u003c/td\u003e\n\u003ctd\u003e3\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e2019-07-03\u003c/td\u003e\n\u003ctd\u003e2\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e2019-07-05\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e2019-07-11\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e2019-07-12\u003c/td\u003e\n\u003ctd\u003e2\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e2019-07-14\u003c/td\u003e\n\u003ctd\u003e2\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e2019-07-15\u003c/td\u003e\n\u003ctd\u003e2\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e2019-07-16\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003e(9 行)\u003c/p\u003e\n","body":"# 日付範囲にあるデータ件数を取得・集計する\n\n## モデル\n\n* 集計要素\n - start_date/end_date：開始日、終了日をもつ\n\n* 分類するための属性\n - item_type：タイプ\n - genre_cd:種別\n\n## 最終的な目標 表のイメージ\n\n日付を縦軸に、その日付が開始日・終了日に含まれているレコード件数\n締め切りとその件数のようなイメージ\n\n締め切り| 件数 \n-------+-------\n7/1 |10件\n7/2 |4件\n7/3 |1件\n7/4 |0件\n\n\n## --　１）テーブル作成\n```\ncreate table item(\n    item_no serial primary key,\n    item_type integer not null,\n    genre_cd integer not null,\n    start_date date,\n    end_date date,\n    start_time time\n);\n```\n## サンプル投入\n\ninsert into item (item_type,genre_cd,start_date,end_date) values\n  (1,100,'2019-07-01','2019-07-03'),\n  (1,100,'2019-07-01','2019-07-02'),\n  (1,100,'2019-07-02','2019-07-02'),\n  (1,100,'2019-07-03','2019-07-03'),\n  (1,100,'2019-07-05','2019-07-05'),\n  (1,102,'2019-07-11','2019-07-12'),\n  (1,102,'2019-07-12','2019-07-12'),\n  (1,102,'2019-07-14','2019-07-14'),\n  (1,102,'2019-07-14','2019-07-15'),\n  (1,102,'2019-07-15','2019-07-16')\n;\n\n\n## 縦軸になる日付\n- 範囲＝最小値/最大値から求める。\n- GENERATE_SERIESが便利\n\n```\n\nSELECT GENERATE_SERIES(\n      (select cast(min(start_date) as date) from item as X) \n    , (select cast(max(end_date) as date) from item as Y)\n    ,'1 day'\n);\n```\n\n\n## 小計・集計 表示\n\n```\n\nselect\n    CZ.axis\n    ,count(CZ.item_no)\n\nfrom\n    (\n    SELECT\n        TO_DATE(TO_CHAR(X.axis, 'YYYY/MM/DD'),'YYYY/MM/DD') as axis\n        ,CX.item_no\n        ,CX.item_type\n        ,CX.genre_cd\n        ,CX.start_date\n        ,CX.end_date\n    from\n        ( SELECT GENERATE_SERIES(\n              (select cast(min(start_date) as date) from item  as X) \n            , (select cast(max(end_date) as date) from item  as Y)\n            ,'1 day'\n        )as axis\n    ) as X\n    LEFT JOIN\n        item as CX\n    ON\n        (CX.start_date\u003c= X.axis and CX.end_date\u003e=X.axis)\n    where\n        item_no \u003c\u003e 0\n    order by\n        X.axis\n    ) as CZ\ngroup by\n    CZ.axis\norder by\n    CZ.axis\n;\n```\n\n\n## 結果\n    axis    | count\n------------+-------\n 2019-07-01 |     2\n 2019-07-02 |     3\n 2019-07-03 |     2\n 2019-07-05 |     1\n 2019-07-11 |     1\n 2019-07-12 |     2\n 2019-07-14 |     2\n 2019-07-15 |     2\n 2019-07-16 |     1\n(9 行)\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T22:11:02+09:00","group":null,"id":"d83fcf9fbebbbe7ce770","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"SQL","versions":[]},{"name":"PostgreSQL","versions":[]},{"name":"集計","versions":[]},{"name":"簡単だよ","versions":[]}],"title":"日付範囲で集計しデータ件数を取得・集計する","updated_at":"2019-07-09T22:11:02+09:00","url":"https://qiita.com/kotaka_blue/items/d83fcf9fbebbbe7ce770","user":{"description":"","facebook_id":"kenzo.kotaka","followees_count":0,"followers_count":0,"github_login_name":null,"id":"kotaka_blue","items_count":1,"linkedin_id":"","location":"Tokyo,Japan","name":" Rider5150 Blues","organization":"","permanent_id":202675,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/202675/profile-images/1531764038","team_only":false,"twitter_screen_name":"kotaka_blue","website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003eちまたにWatson STTの記事が少ないなということで勉強がてら自分で書いてみることにしました。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"watson-sttの特徴\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#watson-stt%E3%81%AE%E7%89%B9%E5%BE%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eWatson STTの特徴\u003c/h1\u003e\n\n\u003cp\u003e私が軽く調べた限り大手ベンダー界隈の音声認識では、\u003cbr\u003e\n各社の音声認識ソリューションについて性能を比較した記事によると、\u003cbr\u003e\n我らがGoogle先生のCloud Speech-to-Textがイケてるという声が目立つかもですね。\u003cbr\u003e\n(きっと検索エンジンの膨大な音声検索のデータとか集めてるからでしょうね)\u003c/p\u003e\n\n\u003cp\u003eWatson STTの売りとしてはカスタマイズできるよっていうところを押しているみたいです。\u003cbr\u003e\n素の状態で使うならGoogleで、ドメインに特化ならWatsonっていう使い分けですかね。\u003c/p\u003e\n\n\u003cp\u003eとりあえずWatsonさんの認識精度がなんぼのもんじゃいという方はこちらから\u003cbr\u003e\n(Watsonさんは素の状態でも、お前なかなかイケるやんってカンジですね。。。)\u003cbr\u003e\n\u003ca href=\"https://speech-to-text-demo.ng.bluemix.net/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://speech-to-text-demo.ng.bluemix.net/\u003c/a\u003e\u003cbr\u003e\n1. Voice Modelに「Japanese model」を選択\u003cbr\u003e\n2. Record Audioをクリックすると音声認識がスタート\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/c562bc26716234d7df2122ec5ec8eb7799a05a0e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133303439322f32343830653564342d373863662d653936382d383734322d6233323634333439303665332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/c562bc26716234d7df2122ec5ec8eb7799a05a0e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133303439322f32343830653564342d373863662d653936382d383734322d6233323634333439303665332e706e67\" alt=\"スクリーンショット 2019-04-03 0.37.37.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/130492/2480e5d4-78cf-e968-8742-b326434906e3.png\"\u003e\u003c/a\u003e\u003cbr\u003e\n「Watsonは日本語は得意ですか」と入力してみたところ、このような結果に。\u003cbr\u003e\n単語毎に確信度や代替案が付与されていますね。\u003cbr\u003e\n音声認識の結果をさらに人手で校正する場合に、この確信度や代替案が使えそうですね。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/c177f2d1b7ba9c74939170cf5ec9b52037b990f9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133303439322f34393934356538332d306634362d613339382d626434332d3037363435353439653262392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/c177f2d1b7ba9c74939170cf5ec9b52037b990f9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133303439322f34393934356538332d306634362d613339382d626434332d3037363435353439653262392e706e67\" alt=\"スクリーンショット 2019-04-03 1.45.51.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/130492/49945e83-0f46-a398-bd43-07645549e2b9.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"カスタマイズすると出来ること\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E3%81%99%E3%82%8B%E3%81%A8%E5%87%BA%E6%9D%A5%E3%82%8B%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eカスタマイズすると出来ること\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://console.bluemix.net/docs/services/speech-to-text/custom.html#customization\" rel=\"nofollow noopener\" target=\"_blank\"\u003eThe customization interface 英語のドキュメント原文\u003c/a\u003e\u003cbr\u003e\nつまり要約すると、、、\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eIBMが一般的な用語をカバーしている事前学習済みのモデルをユーザーが好きにカスタマイズできる\u003c/li\u003e\n\u003cli\u003eカスタマイズにはLanguage model(言語モデル)とAcoustic model(音響モデル)の2種類がある\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: left\"\u003eカスタマイズ\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e学習データ\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003eできること\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003e言語モデル\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eテキストデータ(単語や例文)\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eボキャブラリーの拡張\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003e音響モデル\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e音声ファイル\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eノイズに強くなるor発話スピードの調整or発音の調整\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cul\u003e\n\u003cli\u003e言語モデルの補足：話者の音声から文字へ変換する際に辞書や例文を使っていて、この辞書や例文に登録されてないものに対応するためにはボキャブラリーの拡張が必要ということ\u003c/li\u003e\n\u003cli\u003e音響モデルの補足：モデルを環境や話者へ調整できるということ、雑音の多い環境、早口、英語圏だと方言で異なるアクセントなどに対応できるということ\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e※注意点:カスタマイズはフリープランでは使えません(2019年7月 執筆時点)\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"language-model言語モデルについて\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#language-model%E8%A8%80%E8%AA%9E%E3%83%A2%E3%83%87%E3%83%AB%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eLanguage model(言語モデル)について\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://console.bluemix.net/docs/services/speech-to-text/language-create.html#languageCreate\" rel=\"nofollow noopener\" target=\"_blank\"\u003eCreating a custom language model 英語のドキュメント原文\u003c/a\u003e\u003cbr\u003e\n要約すると、このようなことですね、、、\u003cbr\u003e\ncorpusが例文集のテキストファイル単位を表すというところがちょっと解読しにくかったですね\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003ecustom corporaという例文登録をするURLに、corpus(例文集のテキストファイル)を配置してtrainすると例文を学習できる。\n\n\u003cul\u003e\n\u003cli\u003e/v1/customizations/{customization_id}/corpora/{corpus_name}\u003c/li\u003e\n\u003cli\u003eホストネームはIBM CloudのどのリージョンでSTTのインスタンスを作ったか\u003ca href=\"https://cloud.ibm.com/apidocs/speech-to-text#service-endpoint\" rel=\"nofollow noopener\" target=\"_blank\"\u003eエンドポイント一覧\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e登録の制限は10万語まで(maximum of 10 million total words、日本語だと1語の単位が不明)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003ecustom wordsという単語を登録するURLに、out-of-vocabulary (OOV) な単語をjsonで引き渡してtrainすると未知な単語を学習できる。\n\n\u003cul\u003e\n\u003cli\u003e/v1/customizations/{customization_id}/words\u003c/li\u003e\n\u003cli\u003e登録の制限は3万語まで(30 thousand new (OOV) words、日本語だと1語の単位が不明)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"acoustic-model音響モデルについて\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#acoustic-model%E9%9F%B3%E9%9F%BF%E3%83%A2%E3%83%87%E3%83%AB%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAcoustic model(音響モデル)について\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://console.bluemix.net/docs/services/speech-to-text/acoustic-create.html#acoustic\" rel=\"nofollow noopener\" target=\"_blank\"\u003eCreating a custom acoustic model 英語のドキュメント原文\u003c/a\u003e\u003cbr\u003e\n \u003cdel\u003e日本語用意してくれや\u003c/del\u003e\u003cbr\u003e\nつまり要約するとですね、このようなことですね、はい、、、\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003ecustom acousticという音声ファイルを配置するURLに、オーディオファイルを配置してtrainすると音声ファイルを学習できる。\n\n\u003cul\u003e\n\u003cli\u003e/v1/acoustic_customizations/{customization_id}/audio/{audio_name}\u003c/li\u003e\n\u003cli\u003e音声ファイルの形式は.wavや.mp3や.flacなど一般的な形式にはだいたい対応してる\u003c/li\u003e\n\u003cli\u003e音声ファイルはアーカイブも可(複数ファイルをzipしてまとめたもの)\u003c/li\u003e\n\u003cli\u003e音声ファイルは10分以上〜100時間以下、容量は100MB以下\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"感想\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%84%9F%E6%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e感想\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003e素の状態でも結構イケる。単語単体で発話よりも文章にするとより認識精度が上がる。(まずは単語単体を認識してから文章で補正するからみたい)\u003c/li\u003e\n\u003cli\u003eLanguage model(言語モデル)で、未知の単語を学習させてみたところ、もちろん認識するようになった。単語や例文を増やすほどドメインをカバーでき、音声認識の精度向上が期待できそうです。STTのカスタマイズで行う作業は主に、言語モデルでボキャブラリーを拡充させることと思われる。\u003c/li\u003e\n\u003cli\u003eAcoustic model(音響モデル)で、雑音タップリの音声ファイルを学習してみたところ、不容易に文字起こししにくくなった。ただし、拾ってほしいところも拾いにくくなるデメリットもあった。トレーニング時間が死ぬほど長い、数時間かかった。データをとにかく増やせばどんどん精度が向上するってわけでもないかも(使い方が間違っとるんかな？定常的な雑音の帯域はカットされとるんかな？知らんけど。)\u003c/li\u003e\n\u003cli\u003eつまりまとめると、言語モデルは音声を文字へ変換する際にどの単語や例文が近いかを判断するための材料(ボキャブラリー)を拡充するもの、テキストなので理解しやすくデータ量を増すほどよさそう。音響モデルは音源の波形から単語を認識する波長や振幅や間隔をチューニングするもの、音声認識の仕組の知識がないとチューニングが難しいかもしれませんね。\u003ca href=\"http://recognition.web.fc2.com/\" rel=\"nofollow noopener\" target=\"_blank\"\u003e音声認識のしくみの解説サイト\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003ecurlを使わせるとは、Watsonさんは意外と硬派なんですな\u003cbr\u003e\n\u003ca href=\"https://cloud.ibm.com/apidocs/speech-to-text\" rel=\"nofollow noopener\" target=\"_blank\"\u003ecurlのリファレンス\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"続き\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B6%9A%E3%81%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e続き\u003c/h1\u003e\n\n\u003cp\u003eみなさまご待望の実践編はこちらから\u003cbr\u003e\ncoming soon…\u003c/p\u003e\n","body":"#はじめに\nちまたにWatson STTの記事が少ないなということで勉強がてら自分で書いてみることにしました。\n\n#Watson STTの特徴\n私が軽く調べた限り大手ベンダー界隈の音声認識では、\n各社の音声認識ソリューションについて性能を比較した記事によると、\n我らがGoogle先生のCloud Speech-to-Textがイケてるという声が目立つかもですね。\n(きっと検索エンジンの膨大な音声検索のデータとか集めてるからでしょうね)\n\nWatson STTの売りとしてはカスタマイズできるよっていうところを押しているみたいです。\n素の状態で使うならGoogleで、ドメインに特化ならWatsonっていう使い分けですかね。\n\n\nとりあえずWatsonさんの認識精度がなんぼのもんじゃいという方はこちらから\n(Watsonさんは素の状態でも、お前なかなかイケるやんってカンジですね。。。)\nhttps://speech-to-text-demo.ng.bluemix.net/\n1. Voice Modelに「Japanese model」を選択\n2. Record Audioをクリックすると音声認識がスタート\n![スクリーンショット 2019-04-03 0.37.37.png](https://qiita-image-store.s3.amazonaws.com/0/130492/2480e5d4-78cf-e968-8742-b326434906e3.png)\n「Watsonは日本語は得意ですか」と入力してみたところ、このような結果に。\n単語毎に確信度や代替案が付与されていますね。\n音声認識の結果をさらに人手で校正する場合に、この確信度や代替案が使えそうですね。\n![スクリーンショット 2019-04-03 1.45.51.png](https://qiita-image-store.s3.amazonaws.com/0/130492/49945e83-0f46-a398-bd43-07645549e2b9.png)\n\n#カスタマイズすると出来ること\n[The customization interface 英語のドキュメント原文](https://console.bluemix.net/docs/services/speech-to-text/custom.html#customization)\nつまり要約すると、、、\n\n- IBMが一般的な用語をカバーしている事前学習済みのモデルをユーザーが好きにカスタマイズできる\n- カスタマイズにはLanguage model(言語モデル)とAcoustic model(音響モデル)の2種類がある\n\n|カスタマイズ|学習データ|できること|\n|:----|:----|:-----|\n|言語モデル|テキストデータ(単語や例文)|ボキャブラリーの拡張|\n|音響モデル|音声ファイル|ノイズに強くなるor発話スピードの調整or発音の調整| \n\n- 言語モデルの補足：話者の音声から文字へ変換する際に辞書や例文を使っていて、この辞書や例文に登録されてないものに対応するためにはボキャブラリーの拡張が必要ということ\n- 音響モデルの補足：モデルを環境や話者へ調整できるということ、雑音の多い環境、早口、英語圏だと方言で異なるアクセントなどに対応できるということ\n\n※注意点:カスタマイズはフリープランでは使えません(2019年7月 執筆時点)\n\n#Language model(言語モデル)について\n[Creating a custom language model 英語のドキュメント原文](https://console.bluemix.net/docs/services/speech-to-text/language-create.html#languageCreate)\n要約すると、このようなことですね、、、\ncorpusが例文集のテキストファイル単位を表すというところがちょっと解読しにくかったですね\n\n- custom corporaという例文登録をするURLに、corpus(例文集のテキストファイル)を配置してtrainすると例文を学習できる。\n    - /v1/customizations/{customization_id}/corpora/{corpus_name}\n    - ホストネームはIBM CloudのどのリージョンでSTTのインスタンスを作ったか[エンドポイント一覧](https://cloud.ibm.com/apidocs/speech-to-text#service-endpoint)\n    - 登録の制限は10万語まで(maximum of 10 million total words、日本語だと1語の単位が不明)\n- custom wordsという単語を登録するURLに、out-of-vocabulary (OOV) な単語をjsonで引き渡してtrainすると未知な単語を学習できる。\n    - /v1/customizations/{customization_id}/words\n    - 登録の制限は3万語まで(30 thousand new (OOV) words、日本語だと1語の単位が不明)\n\n#Acoustic model(音響モデル)について\n[Creating a custom acoustic model 英語のドキュメント原文](https://console.bluemix.net/docs/services/speech-to-text/acoustic-create.html#acoustic)\n ~~日本語用意してくれや~~\nつまり要約するとですね、このようなことですね、はい、、、\n\n- custom acousticという音声ファイルを配置するURLに、オーディオファイルを配置してtrainすると音声ファイルを学習できる。\n    - /v1/acoustic_customizations/{customization_id}/audio/{audio_name}\n    - 音声ファイルの形式は.wavや.mp3や.flacなど一般的な形式にはだいたい対応してる\n    - 音声ファイルはアーカイブも可(複数ファイルをzipしてまとめたもの)\n    - 音声ファイルは10分以上〜100時間以下、容量は100MB以下\n\n#感想\n- 素の状態でも結構イケる。単語単体で発話よりも文章にするとより認識精度が上がる。(まずは単語単体を認識してから文章で補正するからみたい)\n- Language model(言語モデル)で、未知の単語を学習させてみたところ、もちろん認識するようになった。単語や例文を増やすほどドメインをカバーでき、音声認識の精度向上が期待できそうです。STTのカスタマイズで行う作業は主に、言語モデルでボキャブラリーを拡充させることと思われる。\n- Acoustic model(音響モデル)で、雑音タップリの音声ファイルを学習してみたところ、不容易に文字起こししにくくなった。ただし、拾ってほしいところも拾いにくくなるデメリットもあった。トレーニング時間が死ぬほど長い、数時間かかった。データをとにかく増やせばどんどん精度が向上するってわけでもないかも(使い方が間違っとるんかな？定常的な雑音の帯域はカットされとるんかな？知らんけど。)\n- つまりまとめると、言語モデルは音声を文字へ変換する際にどの単語や例文が近いかを判断するための材料(ボキャブラリー)を拡充するもの、テキストなので理解しやすくデータ量を増すほどよさそう。音響モデルは音源の波形から単語を認識する波長や振幅や間隔をチューニングするもの、音声認識の仕組の知識がないとチューニングが難しいかもしれませんね。[音声認識のしくみの解説サイト](http://recognition.web.fc2.com/)\n- curlを使わせるとは、Watsonさんは意外と硬派なんですな\u003cbr\u003e\n[curlのリファレンス](https://cloud.ibm.com/apidocs/speech-to-text)\n\n#続き\nみなさまご待望の実践編はこちらから\ncoming soon…\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T22:10:53+09:00","group":null,"id":"9e24e5b0074bfe5f6bf2","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"AI","versions":[]},{"name":"音声認識","versions":[]},{"name":"Watson","versions":[]},{"name":"ibmcloud","versions":[]},{"name":"SpeechToText","versions":[]}],"title":"Watson Speech to Text (STT) 概要編","updated_at":"2019-07-09T22:14:23+09:00","url":"https://qiita.com/Kchan/items/9e24e5b0074bfe5f6bf2","user":{"description":"ラーメンが好きです。","facebook_id":"","followees_count":0,"followers_count":2,"github_login_name":null,"id":"Kchan","items_count":6,"linkedin_id":"","location":"東京","name":"","organization":"某ITベンダー(非公式な場なので開発者目線で好き勝手なこと書きます。)","permanent_id":130492,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/130492/profile-images/1473717924","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch2\u003e\n\u003cspan id=\"概要\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A6%82%E8%A6%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e概要\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e個人的によく使うものを記載してあります。\u003c/li\u003e\n\u003cli\u003e今年からMac版Excelも使うようになったのでMac用のショートカットも載せてあります。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"windows10で確認\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#windows10%E3%81%A7%E7%A2%BA%E8%AA%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eWindows(10で確認)\u003c/h2\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: left\"\u003eコマンド\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e用途\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003ectrl + shift + カーソル左\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eグループ化\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003ectrl + shift + カーソル右\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eグループ解除\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eAlt + O + H + R\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eシート名変更\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eAlt + O + D\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e条件付き書式設定\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eshift + F11\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eシート追加\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eAlt + E + L\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eシート削除\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"machigh-sierraで確認\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#machigh-sierra%E3%81%A7%E7%A2%BA%E8%AA%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eMac(High Sierraで確認)\u003c/h2\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: left\"\u003eコマンド\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e用途\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003ectrl + U\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eセル内フォーカスイン※F2と同様\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003ecommand +shift + +\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e行追加\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003ecommand + -\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e行削除\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eshift + F11\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eシート追加※自環境だと失敗することが多い。システム環境設定からF11に割り当たっているMission Controlを解除する必要がある。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003ecommand + )\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e行非表示\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003ecommand + shift + (\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e行再表示\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eoption + Enter\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eセル内改行\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n","body":"## 概要\n+ 個人的によく使うものを記載してあります。\n+ 今年からMac版Excelも使うようになったので\b\bMac用のショートカットも載せてあります。\n\n## Windows(10で確認)\n|コマンド|用途|\n|:--|:--|\n|ctrl + shift + カーソル左|グループ化|\n|ctrl + shift + カーソル右|グループ解除|\n|Alt + O + H + R|シート名変更|\n|Alt + O + D|条件付き書式設定|\n|shift + F11|シート追加|\n|Alt + E + L|シート削除|\n\n## Mac(High Sierraで確認)\n|コマンド|用途|\n|:--|:--|\n|ctrl + U|セル内フォーカスイン※F2と同様|\n|command +shift + +|行追加|\n|command + -|行削除|\n|shift + F11|シート追加\u003c/br\u003e※自環境だと失敗することが多い。\u003c/br\u003eシステム環境設定からF11に割り当たっているMission Controlを解除する必要がある。|\n|command + )|行非表示|\n|command + shift + (|行再表示|\n|option + Enter|セル内改行|\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T22:10:49+09:00","group":null,"id":"72f157fc5b9c9bfe7331","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Mac","versions":[]},{"name":"Excel","versions":[]},{"name":"Windows10","versions":[]}],"title":"Excelショートカット(Win Mac)","updated_at":"2019-07-09T22:10:49+09:00","url":"https://qiita.com/kaz_qiita/items/72f157fc5b9c9bfe7331","user":{"description":null,"facebook_id":null,"followees_count":1,"followers_count":1,"github_login_name":null,"id":"kaz_qiita","items_count":2,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":65810,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/65810/profile-images/1561626625","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\u003cp\u003eテーブルを設計する際に、属性の値が複数ある場合はどうしましょうか。\u003cbr\u003e\nWordpressを例にしてみます。\u003cbr\u003e\n記事には複数のカテゴリ、タグがつける事ができますよね。\u003cbr\u003e\nDB上ではそれらをどうやって表現するのでしょうか。\u003c/p\u003e\n\n\u003cp\u003e下記のようなテーブル設計はアンチパターンとなります。\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: center\"\u003epost_id\u003c/th\u003e\n\u003cth style=\"text-align: center\"\u003etitle\u003c/th\u003e\n\u003cth style=\"text-align: center\"\u003ecategory_1\u003c/th\u003e\n\u003cth style=\"text-align: center\"\u003ecategory_2\u003c/th\u003e\n\u003cth style=\"text-align: center\"\u003ecategory_3\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e1\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e今日は晴れ\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e日常\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eお出かけ\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e家族\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e2\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e今日は曇り\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e日常\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e3\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e今日は雨\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e日常\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e家事\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"テーブル定義の更新する時\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB%E5%AE%9A%E7%BE%A9%E3%81%AE%E6%9B%B4%E6%96%B0%E3%81%99%E3%82%8B%E6%99%82\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eテーブル定義の更新する時\u003c/h3\u003e\n\n\u003cp\u003eこの場合、カテゴリーが増えたらどうなるでしょう。\u003cbr\u003e\nテーブル定義を更新しなければなりません。\u003cbr\u003e\nまた、NULL値も入ってしまうので、無駄な列が存在してしまいます。\u003cbr\u003e\n更新する時はテーブルをロックする必要が出てくるかもしれません。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"検索する時\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A4%9C%E7%B4%A2%E3%81%99%E3%82%8B%E6%99%82\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e検索する時\u003c/h3\u003e\n\n\u003cp\u003e複数の列からある値を元に検索する場合、下記のようなSQLになります。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"sql\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"k\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"k\"\u003eFROM\u003c/span\u003e \u003cspan class=\"n\"\u003ePosts\u003c/span\u003e\n\u003cspan class=\"k\"\u003eWHERE\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecategory_1\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nv\"\u003e\"日常\"\u003c/span\u003e \u003cspan class=\"k\"\u003eOR\u003c/span\u003e \u003cspan class=\"n\"\u003ecategory_2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nv\"\u003e\"日常\"\u003c/span\u003e \u003cspan class=\"k\"\u003eOR\u003c/span\u003e \u003cspan class=\"n\"\u003ecategory_3\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nv\"\u003e\"日常\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \n\u003cspan class=\"k\"\u003eAND\u003c/span\u003e \n\u003cspan class=\"k\"\u003eWHERE\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecategory_1\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nv\"\u003e\"家族\"\u003c/span\u003e \u003cspan class=\"k\"\u003eOR\u003c/span\u003e \u003cspan class=\"n\"\u003ecategory_2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nv\"\u003e\"家族\"\u003c/span\u003e \u003cspan class=\"k\"\u003eOR\u003c/span\u003e \u003cspan class=\"n\"\u003ecategory_3\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nv\"\u003e\"家族\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこのような検索クエリは冗長です。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"更新を行う時\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9B%B4%E6%96%B0%E3%82%92%E8%A1%8C%E3%81%86%E6%99%82\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e更新を行う時\u003c/h3\u003e\n\n\u003cp\u003e値の上書きを防ぐためには、まず \u003ccode\u003eSELECT\u003c/code\u003e文で値が入っていないかを確かめ\u003cbr\u003e\n次に\u003ccode\u003eUPDATE\u003c/code\u003e文を発行することになります。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"値の一意性\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%80%A4%E3%81%AE%E4%B8%80%E6%84%8F%E6%80%A7\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e値の一意性\u003c/h3\u003e\n\n\u003cp\u003e\u003ccode\u003ecategory_1\u003c/code\u003e \u003ccode\u003ecategory_2\u003c/code\u003e \u003ccode\u003ecategory_3\u003c/code\u003e それぞれに対して\u003cbr\u003e\n値が重複しないようにするためには手間がかかります。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"このアンチパターンが許されるケース\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%93%E3%81%AE%E3%82%A2%E3%83%B3%E3%83%81%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E3%81%8C%E8%A8%B1%E3%81%95%E3%82%8C%E3%82%8B%E3%82%B1%E3%83%BC%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eこのアンチパターンが許されるケース\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003ecategory_hogehoge\u003c/code\u003e が増えないという事\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003ecategory_hogehoge\u003c/code\u003e のそれぞれがそれぞれの意味を個別に持っているという事\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e以上に当てはまる場合はこのアンチパターンを用いても大丈夫かもしれません。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"解決策\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A7%A3%E6%B1%BA%E7%AD%96\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e解決策\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"従属テーブル\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%BE%93%E5%B1%9E%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e従属テーブル\u003c/h3\u003e\n\n\u003cp\u003e今回の例では、\u003ccode\u003epost_id\u003c/code\u003e を外部キーとして持つCategoryテーブルを作成すれば良いでしょう。\u003cbr\u003e\nあるカテゴリが紐づけられている記事にどのようなものがあるか、検索する事が容易になります。\u003c/p\u003e\n\n\u003cp\u003e必要な数だけカテゴリを記事に対して紐づける事ができます。\u003cbr\u003e\nまた、\u003ccode\u003ePRIMARY KEY\u003c/code\u003e制約 もしくは \u003ccode\u003eUNIQUE\u003c/code\u003e制約を利用する事で、同じカテゴリが記事に結びつけられるといった事も防ぐ事ができます。\u003c/p\u003e\n","body":"\nテーブルを設計する際に、属性の値が複数ある場合はどうしましょうか。\nWordpressを例にしてみます。\n記事には複数のカテゴリ、タグがつける事ができますよね。\nDB上ではそれらをどうやって表現するのでしょうか。\n\n下記のようなテーブル設計はアンチパターンとなります。\n\n|post_id|title|category_1|category_2|category_3|\n|:--:|:--:|:--:|:--:|:--:|\n|1|今日は晴れ|日常|お出かけ|家族|\n|2|今日は曇り|日常|||\n|3|今日は雨|日常|家事||\n\n### テーブル定義の更新する時\nこの場合、カテゴリーが増えたらどうなるでしょう。\nテーブル定義を更新しなければなりません。\nまた、NULL値も入ってしまうので、無駄な列が存在してしまいます。\n更新する時はテーブルをロックする必要が出てくるかもしれません。\n\n### 検索する時\n複数の列からある値を元に検索する場合、下記のようなSQLになります。\n\n```sql\nSELECT * FROM Posts\nWHERE (category_1 = \"日常\" OR category_2 = \"日常\" OR category_3 = \"日常\") \nAND \nWHERE (category_1 = \"家族\" OR category_2 = \"家族\" OR category_3 = \"家族\") \n```\nこのような検索クエリは冗長です。\n\n\n### 更新を行う時\n値の上書きを防ぐためには、まず ` SELECT`文で値が入っていないかを確かめ\n次に`UPDATE`文を発行することになります。\n\n\n### 値の一意性\n`category_1` `category_2` `category_3` それぞれに対して\n値が重複しないようにするためには手間がかかります。\n\n\n### このアンチパターンが許されるケース\n- `category_hogehoge` が増えないという事\n- `category_hogehoge` のそれぞれがそれぞれの意味を個別に持っているという事\n\n以上に当てはまる場合はこのアンチパターンを用いても大丈夫かもしれません。\n\n\n## 解決策\n\n### 従属テーブル\n今回の例では、`post_id` を外部キーとして持つCategoryテーブルを作成すれば良いでしょう。\nあるカテゴリが紐づけられている記事にどのようなものがあるか、検索する事が容易になります。\n\n必要な数だけカテゴリを記事に対して紐づける事ができます。\nまた、`PRIMARY KEY`制約 もしくは `UNIQUE `制約を利用する事で、同じカテゴリが記事に結びつけられるといった事も防ぐ事ができます。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T22:09:22+09:00","group":null,"id":"9587b00fa756226fe77d","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"SQL","versions":[]},{"name":"DB","versions":[]}],"title":"SQLアンチパターン-7章 マルチカラムアトリビュート-まとめ","updated_at":"2019-07-09T22:09:22+09:00","url":"https://qiita.com/aaaaanochira/items/9587b00fa756226fe77d","user":{"description":"","facebook_id":"","followees_count":4,"followers_count":8,"github_login_name":null,"id":"aaaaanochira","items_count":8,"linkedin_id":"","location":"","name":"aihara yuki","organization":"","permanent_id":64689,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/64689/profile-images/1553173358","team_only":false,"twitter_screen_name":"aaaaanochira","website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"1-本記事の概要\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-%E6%9C%AC%E8%A8%98%E4%BA%8B%E3%81%AE%E6%A6%82%E8%A6%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. 本記事の概要\u003c/h1\u003e\n\n\u003cp\u003eNPな色々な問題に対してIsingで定式化した論文arxiv1302.5843があります。\u003cbr\u003e\nD-waveの勉強がてら、それを実装してみようというもの。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://arxiv.org/abs/1302.5843\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://arxiv.org/abs/1302.5843\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"2-本記事の想定読者\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E6%9C%AC%E8%A8%98%E4%BA%8B%E3%81%AE%E6%83%B3%E5%AE%9A%E8%AA%AD%E8%80%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. 本記事の想定読者\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003e最適化がなんとなくわかっている\u003c/li\u003e\n\u003cli\u003e理屈はいいから使えればいいや\u003c/li\u003e\n\u003cli\u003ePythonなんとなくわかる\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eレベルの人\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"3-対象の問題\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-%E5%AF%BE%E8%B1%A1%E3%81%AE%E5%95%8F%E9%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. 対象の問題\u003c/h1\u003e\n\n\u003cp\u003e「2.2. Graph Partitioning」を対象とする。\u003c/p\u003e\n\n\u003cp\u003e頂点の数 $N=|V|$が偶数である無向グラフ $ G=(V,E) $ において、頂点数が同数の$N/2$ となるようグラフを分割した際に、エッジ数（辺）が最小となる分割方法は？\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"4-ising式\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#4-ising%E5%BC%8F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e4. Ising式\u003c/h1\u003e\n\n\u003cp\u003e論文を見ると2つのパーツに分かれていますね。頂点が同数となるような制限事項$H_A$と辺のCut方法$H_B$からなるようです。\u003cbr\u003e\nすなわち、\u003cbr\u003e\n$$ H_A = A(\\sum_{n=1}^N s_i)^2 　$$\u003c/p\u003e\n\n\u003cp\u003e$$ H_B = B(\\sum_{(uv) \\in E} \\frac{1-s_us_v}{2}) 　$$\u003c/p\u003e\n\n\u003cp\u003eだそうです。（Qiitaはきれいな数式が書けるので気持ちいですね！）\u003c/p\u003e\n\n\u003cp\u003eさて、グダグダ言わず、実装に移りましょう。（ほんと、Pyqubo超絶便利です。というか私、Pyquboなくしては何もできないんですが、いいのか！？）\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e問題生成\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\n\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"n\"\u003ematplotlib\u003c/span\u003e \u003cspan class=\"n\"\u003einline\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003ematplotlib.pyplot\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003eplt\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003enetworkx\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003enx\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003enumpy\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003enp\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003erandom\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003epyqubo\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003ePlaceholder\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eArray\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eConstraint\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eSum\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003esolve_qubo\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eSIZE\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e8\u003c/span\u003e\n\u003cspan class=\"n\"\u003eG\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enx\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGraph\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e#サイズ分のVertixを作成し、適当にEdgeをつなぐ\u003c/span\u003e\n\u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"nb\"\u003erange\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSIZE\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eG\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eadd_node\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"nb\"\u003erange\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003erandom\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erandint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e)):\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eNew_line\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003erandom\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erandint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eG\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget_edge_data\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eNew_line\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"bp\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eG\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eadd_edge\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eNew_line\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eW\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e#グラフの出来具合を確認する\u003c/span\u003e\n\u003cspan class=\"n\"\u003epos\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enx\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003espring_layout\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ek\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mf\"\u003e5.\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eseed\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003enx\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edraw_networkx\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003epos\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003eplt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ercParams\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e'figure.figsize'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mf\"\u003e7.0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e7.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003eplt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eshow\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e今回生成された問題は以下のようなもの。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/c34b509bbea5e200d66f605b00224c9dec62f2cf/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3132313935302f66326663313634392d373963322d663530312d366465302d3934373132303637343131662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/c34b509bbea5e200d66f605b00224c9dec62f2cf/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3132313935302f66326663313634392d373963322d663530312d366465302d3934373132303637343131662e706e67\" alt=\"SnapCrab_NoName_2019-7-9_21-55-6_No-00.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/121950/f2fc1649-79c2-f501-6de0-94712067411f.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eSAで解を確認\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"c\"\u003e#ハミルトニアンを構成\u003c/span\u003e\n\u003cspan class=\"n\"\u003eA\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePlaceholder\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"A\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003eB\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePlaceholder\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"B\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eArray\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecreate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e'x'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eSIZE\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"s\"\u003e'SPIN'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eH_A\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eConstraint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSum\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eSIZE\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003elambda\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\u003cspan class=\"o\"\u003e**\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003elabel\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"H_A\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eH_B\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.0\u003c/span\u003e\n\u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"nb\"\u003erange\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSIZE\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"nb\"\u003erange\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSIZE\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eG\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget_edge_data\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003ej\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"bp\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eH_B\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eH_B\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ej\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"mf\"\u003e2.0\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eH\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eA\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eH_A\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eB\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eH_B\u003c/span\u003e\n\n\n\u003cspan class=\"c\"\u003e# モデルをコンパイル\u003c/span\u003e\n\u003cspan class=\"n\"\u003emodel\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eH\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003ecompile\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# QUBOを作成\u003c/span\u003e\n\u003cspan class=\"n\"\u003efeed_dict\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e'A'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"s\"\u003e'B'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"mf\"\u003e0.1\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"n\"\u003equbo\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoffset\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eto_qubo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efeed_dict\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003efeed_dict\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e#PyquboのSAで解いてみる\u003c/span\u003e\n\u003cspan class=\"n\"\u003esol\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esolve_qubo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003equbo\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#結果表示\u003c/span\u003e\n\u003cspan class=\"n\"\u003epos\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enx\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003espring_layout\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ek\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mf\"\u003e5.\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eseed\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003enx\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edraw_networkx\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003epos\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003enode_color\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nb\"\u003elist\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esol\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evalues\u003c/span\u003e\u003cspan class=\"p\"\u003e()))\u003c/span\u003e\n\u003cspan class=\"n\"\u003eplt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ercParams\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e'figure.figsize'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mf\"\u003e7.0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e7.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003eplt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eshow\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/07985441da84ade61f884b021f4f58e81f1f4363/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3132313935302f32643936343936642d303364302d613536622d653336362d6231366436396664363531632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/07985441da84ade61f884b021f4f58e81f1f4363/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3132313935302f32643936343936642d303364302d613536622d653336362d6231366436396664363531632e706e67\" alt=\"SnapCrab_NoName_2019-7-9_21-58-38_No-00.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/121950/2d96496d-03d0-a56b-e366-b16d69fd651c.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e次にD-waveで試します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eD-WAVEで実行\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003edwave.system.samplers\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eDWaveSampler\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003edwave.system.composites\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eEmbeddingComposite\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003edimod\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003esampler\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEmbeddingComposite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eDWaveSampler\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esolver\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'DW_2000Q_VFYC_5'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"n\"\u003eresponse\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esampler\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esample_qubo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003equbo\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003enum_reads\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eresult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n\u003cspan class=\"n\"\u003eresult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edecode_dimod_response\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003efeed_dict\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003efeed_dict\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003epos\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enx\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003espring_layout\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ek\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mf\"\u003e5.\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eseed\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003enx\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edraw_networkx\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003epos\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003enode_color\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nb\"\u003elist\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"s\"\u003e'x'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evalues\u003c/span\u003e\u003cspan class=\"p\"\u003e()))\u003c/span\u003e\n\u003cspan class=\"n\"\u003eplt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ercParams\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e'figure.figsize'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mf\"\u003e7.0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e7.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003eplt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eshow\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/9a4af327812e44d64ccc9333b63c89f2c54a2936/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3132313935302f30303431666331332d656166622d366266342d616131312d6366333631656337336662332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/9a4af327812e44d64ccc9333b63c89f2c54a2936/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3132313935302f30303431666331332d656166622d366266342d616131312d6366333631656337336662332e706e67\" alt=\"SnapCrab_NoName_2019-7-9_22-2-0_No-00.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/121950/0041fc13-eafb-6bf4-aa11-cf361ec73fb3.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eお、無事いい感じの答えが出ました！\u003c/p\u003e\n\n\u003cp\u003eめでたしめでたし\u003c/p\u003e\n","body":"#1. 本記事の概要\n\nNPな色々な問題に対してIsingで定式化した論文arxiv1302.5843があります。\nD-waveの勉強がてら、それを実装してみようというもの。\n\nhttps://arxiv.org/abs/1302.5843\n\n#2. 本記事の想定読者\n\n- 最適化がなんとなくわかっている\n- 理屈はいいから使えればいいや\n- Pythonなんとなくわかる\n\nレベルの人\n\n#3. 対象の問題\n「2.2. Graph Partitioning」を対象とする。\n\n頂点の数 $N=|V|$が偶数である無向グラフ $ G=(V,E) $ において、頂点数が同数の$N/2$ となるようグラフを分割した際に、エッジ数（辺）が最小となる分割方法は？\n\n#4. Ising式\n\n論文を見ると2つのパーツに分かれていますね。頂点が同数となるような制限事項$H_A$と辺のCut方法$H_B$からなるようです。\nすなわち、\n$$ H_A = A(\\sum_{n=1}^N s_i)^2 　$$\n\n$$ H_B = B(\\sum_{(uv) \\in E} \\frac{1-s_us_v}{2}) 　$$\n\nだそうです。（Qiitaはきれいな数式が書けるので気持ちいですね！）\n\nさて、グダグダ言わず、実装に移りましょう。（ほんと、Pyqubo超絶便利です。というか私、Pyquboなくしては何もできないんですが、いいのか！？）\n\n```python:問題生成\n\n%matplotlib inline\nimport matplotlib.pyplot as plt\nimport networkx as nx\nimport numpy as np\nimport random\nfrom pyqubo import Placeholder,Array,Constraint,Sum,solve_qubo\n\nSIZE = 8\nG = nx.Graph()\n\n#サイズ分のVertixを作成し、適当にEdgeをつなぐ\nfor i in range(SIZE):\n    G.add_node(i)\n    if i != 0:\n        for j in range(random.randint(1,6)):\n            New_line = random.randint(0,i-1)\n            if (G.get_edge_data(i,New_line) == None):\n                G.add_edge(i,New_line,W=1)\n\n#グラフの出来具合を確認する\npos = nx.spring_layout(G, k=5.,seed=0)\nnx.draw_networkx(G,pos)\nplt.rcParams['figure.figsize'] = (7.0, 7.0)\nplt.show()\n```\n\n今回生成された問題は以下のようなもの。\n\n![SnapCrab_NoName_2019-7-9_21-55-6_No-00.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/121950/f2fc1649-79c2-f501-6de0-94712067411f.png)\n\n```python:SAで解を確認\n#ハミルトニアンを構成\nA = Placeholder(\"A\")\nB = Placeholder(\"B\")\n\nx = Array.create('x',SIZE,'SPIN')\n\nH_A = Constraint(Sum(0,SIZE, lambda i:x[i])**2,label=\"H_A\")\n\nH_B = 0.0\nfor i in range(SIZE):\n    for j in range(SIZE):\n        if (G.get_edge_data(i,j) != None):\n            H_B = H_B + (1.0 - x[i] * x[j]) / 2.0\n            \nH = A * H_A + B * H_B\n\n\n# モデルをコンパイル\nmodel = H.compile()\n# QUBOを作成\nfeed_dict = {'A': 0.2,'B':0.1}\nqubo, offset = model.to_qubo(feed_dict=feed_dict)\n\n#PyquboのSAで解いてみる\nsol = solve_qubo(qubo)\n#結果表示\npos = nx.spring_layout(G, k=5.,seed=0)\nnx.draw_networkx(G,pos,node_color=list(sol.values()))\nplt.rcParams['figure.figsize'] = (7.0, 7.0)\nplt.show()\n```\n\n\n![SnapCrab_NoName_2019-7-9_21-58-38_No-00.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/121950/2d96496d-03d0-a56b-e366-b16d69fd651c.png)\n\n\n次にD-waveで試します。\n\n```python:D-WAVEで実行\nfrom dwave.system.samplers import DWaveSampler\nfrom dwave.system.composites import EmbeddingComposite\nimport dimod\n\nsampler = EmbeddingComposite(DWaveSampler(solver='DW_2000Q_VFYC_5'))\nresponse = sampler.sample_qubo(qubo, num_reads=100)\n\nresult = []\nresult = model.decode_dimod_response(response,feed_dict=feed_dict)\n\npos = nx.spring_layout(G, k=5.,seed=0)\nnx.draw_networkx(G,pos,node_color=list(result[0][0]['x'].values()))\nplt.rcParams['figure.figsize'] = (7.0, 7.0)\nplt.show()\n\n```\n\n![SnapCrab_NoName_2019-7-9_22-2-0_No-00.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/121950/0041fc13-eafb-6bf4-aa11-cf361ec73fb3.png)\n\nお、無事いい感じの答えが出ました！\n\nめでたしめでたし\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T22:05:32+09:00","group":null,"id":"f68af05aa8f5ce91d2e4","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Python","versions":[]},{"name":"最適化","versions":[]},{"name":"量子アニーリング","versions":[]}],"title":"論文arxiv1302.5843 実装その２","updated_at":"2019-07-09T22:14:20+09:00","url":"https://qiita.com/___monta___/items/f68af05aa8f5ce91d2e4","user":{"description":"インフラSE","facebook_id":"","followees_count":3,"followers_count":8,"github_login_name":"84monta","id":"___monta___","items_count":16,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":121950,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/121950/profile-images/1473715077","team_only":false,"twitter_screen_name":"___monta___","website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"導入\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%B0%8E%E5%85%A5\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e導入\u003c/h1\u003e\n\n\u003cp\u003eCNTK は 2.7 で最終版となります。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"内容\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%86%85%E5%AE%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e内容\u003c/h1\u003e\n\n\u003cp\u003e・Windows と Linux の両方で CUDA 10 に移行\u003cbr\u003e\n・ONNX における RNN ループをサポート（省略）\u003cbr\u003e\n・ONNX における 2GB より大きなモデルのエクスポートできる（省略）\u003cbr\u003e\n・Brain Script での訓練時に FP16 をサポート（省略）\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"windows-と-linux-の両方で-cuda-10-に移行\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#windows-%E3%81%A8-linux-%E3%81%AE%E4%B8%A1%E6%96%B9%E3%81%A7-cuda-10-%E3%81%AB%E7%A7%BB%E8%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eWindows と Linux の両方で CUDA 10 に移行\u003c/h2\u003e\n\n\u003cp\u003eCNTK 2.7 の対応する CUDA のバージョンは 10.0 になります。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://docs.microsoft.com/en-us/cognitive-toolkit/releasenotes/cntk_2_7_release_notes\" rel=\"nofollow noopener\" target=\"_blank\"\u003eCNTK 2.7 Release Notes\u003c/a\u003e\u003c/p\u003e\n","body":"#導入\n\nCNTK は 2.7 で最終版となります。\n\n#内容\n\n・Windows と Linux の両方で CUDA 10 に移行\n・ONNX における RNN ループをサポート（省略）\n・ONNX における 2GB より大きなモデルのエクスポートできる（省略）\n・Brain Script での訓練時に FP16 をサポート（省略）\n\n##Windows と Linux の両方で CUDA 10 に移行\n\nCNTK 2.7 の対応する CUDA のバージョンは 10.0 になります。\n\n\n#参考\n\n[CNTK 2.7 Release Notes](https://docs.microsoft.com/en-us/cognitive-toolkit/releasenotes/cntk_2_7_release_notes)\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T22:01:10+09:00","group":null,"id":"dbac8100a653f0ec67e0","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Python","versions":[]},{"name":"DeepLearning","versions":[]},{"name":"CNTK","versions":[]}],"title":"CNTK 2.7 Release Notes","updated_at":"2019-07-09T22:01:10+09:00","url":"https://qiita.com/sho_watari/items/dbac8100a653f0ec67e0","user":{"description":"人工知能と宇宙に興味があります。","facebook_id":"","followees_count":1,"followers_count":0,"github_login_name":null,"id":"sho_watari","items_count":2,"linkedin_id":"","location":"Japan","name":"Sho Watari","organization":"","permanent_id":176315,"profile_image_url":"https://lh3.googleusercontent.com/-DX1DawRzqiQ/AAAAAAAAAAI/AAAAAAAAAGk/lKt9JFOzO78/photo.jpg?sz=50","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"導入\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%B0%8E%E5%85%A5\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e導入\u003c/h1\u003e\n\n\u003cp\u003eCNTK 2.6 で更新された主な特徴を紹介します。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"内容\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%86%85%E5%AE%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e内容\u003c/h1\u003e\n\n\u003cp\u003e・.NET をサポート（省略）\u003cbr\u003e\n・Group Convolution のパフォーマンス改善\u003cbr\u003e\n・Sequential Convolution の改善\u003cbr\u003e\n・Operators の追加と改善\u003cbr\u003e\n・default arguments order の変更\u003cbr\u003e\n・ONNX 関係のアップデートと変換におけるオプションをサポート（省略）\u003cbr\u003e\n・バグ修正\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"group-convolution-のパフォーマンス改善\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#group-convolution-%E3%81%AE%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9%E6%94%B9%E5%96%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGroup Convolution のパフォーマンス改善\u003c/h2\u003e\n\n\u003cp\u003eGroup Convolution はチャネル方向に対する畳み込みを実行します。\u003c/p\u003e\n\n\u003cp\u003e以下の条件で旧版と新版の性能を比較。\u003cbr\u003e\n・Input tensor (C, H, W) = (32, 128, 128)\u003cbr\u003e\n・Number of output channels = 32 (channel multiplier is 1)\u003cbr\u003e\n・Groups = 32 (depth-wise convolution)\u003cbr\u003e\n・Kernel size = (5, 5)\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: left\"\u003e\u003c/th\u003e\n\u003cth style=\"text-align: center\"\u003eGPU time (msec., 1000 run avg.)\u003c/th\u003e\n\u003cth style=\"text-align: center\"\u003eCPU time (msec., 1000 run avg.)\u003c/th\u003e\n\u003cth style=\"text-align: center\"\u003eModel size (KB, CNTK format)\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eOld implementation\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e9.349\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e41.921\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e38\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eNew implementation\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e6.581\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e9.963\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e5\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eSpeedup/savings Approx.\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e30%\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e65-75%\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e87%\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eGPU では3割、CPU では6~7割の計算速度の改善が見られます。さらにモデルの容量も85%以上抑えられています。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"sequential-convolution-の改善\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#sequential-convolution-%E3%81%AE%E6%94%B9%E5%96%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eSequential Convolution の改善\u003c/h2\u003e\n\n\u003cp\u003eSeparate Sequential Convolution が実行可能になった。これは通常の畳み込みと異なり、Dynamic Axis に適用でき、filter_shape[0] がそれに対応します。CNTK 2.6 では、Sequential Axis に対するストライドが１より大きくなる場合に対応できるようになった。\u003c/p\u003e\n\n\u003cp\u003e例えば、画像の高さは 640 の固定で、幅が可変のカラー画像に適用するとき、(width, channel, height) とすると (*, 3, 640) になります。* は、Dynamic Axis を表します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"Python\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u0026gt;\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSequentialConvolution\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"mi\"\u003e32\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003epad\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"bp\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003estrides\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"n\"\u003eactivation\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eC\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erelu\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026gt;\u0026gt;\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eC\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003einput_variable\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e**\u003c/span\u003e\u003cspan class=\"n\"\u003eSequence\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eTensor\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e640\u003c/span\u003e\u003cspan class=\"p\"\u003e]])\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026gt;\u0026gt;\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e'Input'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"c\"\u003e#, *], [3 x 640])\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026gt;\u0026gt;\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eh\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026gt;\u0026gt;\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eh\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eshape\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e32\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e320\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこのとき、width は任意のサイズを受け取って実行することができます。ストライドが (2, 2) なので出力の高さは半分になっています。幅は Dynamic Axis なので可変なため、この時点では表示されていません。このように、Dynamic Axis を用いることで可変サイズにも対応できます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"operators-の追加と改善\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#operators-%E3%81%AE%E8%BF%BD%E5%8A%A0%E3%81%A8%E6%94%B9%E5%96%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eOperators の追加と改善\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"depth_to_space-と-space_to_depth\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#depth_to_space-%E3%81%A8-space_to_depth\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003edepth_to_space() と space_to_depth()\u003c/h3\u003e\n\n\u003cp\u003eONNX で他のライブラリと合わせるための更新で、Depth dimension と Spatial dimension の permutation を行うための演算子の追加。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"tan-と-atan\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#tan-%E3%81%A8-atan\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003etan() と atan()\u003c/h3\u003e\n\n\u003cp\u003etan 関数と arctan 関数の追加。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"elu\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#elu\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eelu()\u003c/h3\u003e\n\n\u003cp\u003eExponential Linear Unit は以下のような性質をもつ関数。\u003c/p\u003e\n\n\u003cp\u003e$x \\geq 0$ のとき、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"math\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003ey = ReLU(x)\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e$x \u0026lt; 0$ のとき、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"math\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003ey = \\alpha * (\\exp(x) -1)\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこの関数は以下の図のようになります。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/c2eec4f5c424b5e3d694630516ba07bf11b85eac/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3137363331352f36376464636238652d323465332d653534302d396132662d3938383264663765383839302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/c2eec4f5c424b5e3d694630516ba07bf11b85eac/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3137363331352f36376464636238652d323465332d653534302d396132662d3938383264663765383839302e706e67\" alt=\"elu.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/176315/67ddcb8e-24e3-e540-9a2f-9882df7e8890.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"convolution\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#convolution\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eConvolution()\u003c/h3\u003e\n\n\u003cp\u003eCPU で効率的に対称 Padding をする自動 Padding アルゴリズムを更新。\u003cbr\u003e\n最終的な畳み込みの出力値には影響なし。\u003cbr\u003e\nMKL API でカバーできる範囲の拡張とパフォーマンスの向上。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"default-arguments-order-の変更\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#default-arguments-order-%E3%81%AE%E5%A4%89%E6%9B%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003edefault arguments order の変更\u003c/h2\u003e\n\n\u003cp\u003eC++ 形式から Python 形式に変更。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"バグ修正\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%90%E3%82%B0%E4%BF%AE%E6%AD%A3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eバグ修正\u003c/h2\u003e\n\n\u003cp\u003e・畳み込み層の Group と Dialtion 引数の更新\u003cbr\u003e\n・Group 畳み込みに対する入力の検証追加\u003cbr\u003e\n・LogSoftMax を安定化\u003cbr\u003e\n・不正確な勾配値の修正\u003cbr\u003e\n・Python クローン代用におけるNoneの検証追加\u003cbr\u003e\n・畳み込みにおける Padding チャネル軸の検証追加\u003cbr\u003e\n・Numpy (version \u0026gt;= 1.14) に対する更新\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://docs.microsoft.com/en-us/cognitive-toolkit/ReleaseNotes/CNTK_2_6_Release_Notes\" rel=\"nofollow noopener\" target=\"_blank\"\u003eCNTK 2.6 Release Notes\u003c/a\u003e\u003c/p\u003e\n","body":"#導入\n\nCNTK 2.6 で更新された主な特徴を紹介します。\n\n#内容\n\n・.NET をサポート（省略）\n・Group Convolution のパフォーマンス改善\n・Sequential Convolution の改善\n・Operators の追加と改善\n・default arguments order の変更\n・ONNX 関係のアップデートと変換におけるオプションをサポート（省略）\n・バグ修正\n\n##Group Convolution のパフォーマンス改善\n\nGroup Convolution はチャネル方向に対する畳み込みを実行します。\n\n以下の条件で旧版と新版の性能を比較。\n・Input tensor (C, H, W) = (32, 128, 128)\n・Number of output channels = 32 (channel multiplier is 1)\n・Groups = 32 (depth-wise convolution)\n・Kernel size = (5, 5)\n\n|                         | GPU time (msec., 1000 run avg.) | CPU time (msec., 1000 run avg.) | Model size (KB, CNTK format) |\n|:------------------------|:-------------------------------:|:-------------------------------:|:----------------------------:|\n| Old implementation      |                           9.349 |                          41.921 |                           38 |\n| New implementation      |                           6.581 |                           9.963 |                            5 |\n| Speedup/savings Approx. |                             30% |                          65-75% |                          87% |\n\nGPU では3割、CPU では6~7割の計算速度の改善が見られます。さらにモデルの容量も85%以上抑えられています。\n\n##Sequential Convolution の改善\n\nSeparate Sequential Convolution が実行可能になった。これは通常の畳み込みと異なり、Dynamic Axis に適用でき、filter_shape[0] がそれに対応します。CNTK 2.6 では、Sequential Axis に対するストライドが１より大きくなる場合に対応できるようになった。\n\n例えば、画像の高さは 640 の固定で、幅が可変のカラー画像に適用するとき、(width, channel, height) とすると (\\*, 3, 640) になります。* は、Dynamic Axis を表します。\n\n```Python\n\u003e\u003e\u003e f = SequentialConvolution((3, 3), 32, pad=True, strides=(2, 2), activation=C.relu)\n\u003e\u003e\u003e x = C.input_variable(**Sequence[Tensor[3, 640]])\n\u003e\u003e\u003e x\n    Input('Input', [#, *], [3 x 640])\n\u003e\u003e\u003e h = f(x)\n\u003e\u003e\u003e h.shape\n    (32, 320)\n```\n\nこのとき、width は任意のサイズを受け取って実行することができます。ストライドが (2, 2) なので出力の高さは半分になっています。幅は Dynamic Axis なので可変なため、この時点では表示されていません。このように、Dynamic Axis を用いることで可変サイズにも対応できます。\n\n##Operators の追加と改善\n\n###depth_to_space() と space_to_depth()\nONNX で他のライブラリと合わせるための更新で、Depth dimension と Spatial dimension の permutation を行うための演算子の追加。\n\n###tan() と atan()\n\ntan 関数と arctan 関数の追加。\n\n###elu()\nExponential Linear Unit は以下のような性質をもつ関数。\n\n$x \\geq 0$ のとき、\n\n```math\ny = ReLU(x)\n```\n\n$x \u003c 0$ のとき、\n\n```math\ny = \\alpha * (\\exp(x) -1)\n```\n\nこの関数は以下の図のようになります。\n\n![elu.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/176315/67ddcb8e-24e3-e540-9a2f-9882df7e8890.png)\n\n###Convolution()\nCPU で効率的に対称 Padding をする自動 Padding アルゴリズムを更新。\n最終的な畳み込みの出力値には影響なし。\nMKL API でカバーできる範囲の拡張とパフォーマンスの向上。\n\n##default arguments order の変更\n\nC++ 形式から Python 形式に変更。\n\n##バグ修正\n\n・畳み込み層の Group と Dialtion 引数の更新\n・Group 畳み込みに対する入力の検証追加\n・LogSoftMax を安定化\n・不正確な勾配値の修正\n・Python クローン代用におけるNoneの検証追加\n・畳み込みにおける Padding チャネル軸の検証追加\n・Numpy (version \u003e= 1.14) に対する更新\n\n\n#参考\n\n[CNTK 2.6 Release Notes](https://docs.microsoft.com/en-us/cognitive-toolkit/ReleaseNotes/CNTK_2_6_Release_Notes)\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T22:00:47+09:00","group":null,"id":"6cff90bc9c4cbf69b2d8","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Python","versions":[]},{"name":"DeepLearning","versions":[]},{"name":"CNTK","versions":[]}],"title":"CNTK 2.6 Release Notes","updated_at":"2019-07-09T22:00:47+09:00","url":"https://qiita.com/sho_watari/items/6cff90bc9c4cbf69b2d8","user":{"description":"人工知能と宇宙に興味があります。","facebook_id":"","followees_count":1,"followers_count":0,"github_login_name":null,"id":"sho_watari","items_count":2,"linkedin_id":"","location":"Japan","name":"Sho Watari","organization":"","permanent_id":176315,"profile_image_url":"https://lh3.googleusercontent.com/-DX1DawRzqiQ/AAAAAAAAAAI/AAAAAAAAAGk/lKt9JFOzO78/photo.jpg?sz=50","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"メール受信側の表示について\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%A1%E3%83%BC%E3%83%AB%E5%8F%97%E4%BF%A1%E5%81%B4%E3%81%AE%E8%A1%A8%E7%A4%BA%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eメール受信側の表示について\u003c/h1\u003e\n\n\u003cp\u003e①TEXTメール\u003cbr\u003e\n　⇒表示可能\u003c/p\u003e\n\n\u003cp\u003e②HTMLメール\u003cbr\u003e\n　・HTML認識可能アプリ\u003cbr\u003e\n　　⇒表示可能\u003cbr\u003e\n　・キャリア用にカスタマイズされたHTML認識可能アプリ\u003cbr\u003e\n　　⇒表示可能（一部デザイン崩れ）\u003cbr\u003e\n　・HTML認識不可アプリ（ＭＭＳ含む）\u003cbr\u003e\n　　⇒表示不可 or デザイン崩れで表示\u003c/p\u003e\n\n\u003cp\u003e　※MMSとは、Eメールをラインのように表示するアプリ\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"htmlメールを使用する場合にどのような対応をすればよいか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#html%E3%83%A1%E3%83%BC%E3%83%AB%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88%E3%81%AB%E3%81%A9%E3%81%AE%E3%82%88%E3%81%86%E3%81%AA%E5%AF%BE%E5%BF%9C%E3%82%92%E3%81%99%E3%82%8C%E3%81%B0%E3%82%88%E3%81%84%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eHTMLメールを使用する場合に、どのような対応をすればよいか\u003c/h1\u003e\n\n\u003cp\u003e①マルチパート配信を行う。\u003cbr\u003e\n　（TEXTとHTMLメールを同時に送り、受け取り側で表示可能な方が表示される）\u003cbr\u003e\n　⇒調べてみたが、メール配信大手は基本的にこの対応\u003c/p\u003e\n\n\u003cp\u003e②メールアドレスのドメインでTEXTメールを送信するか、\u003cbr\u003e\n　HTMLメールを送信するか切り替える\u003cbr\u003e\n　⇒一部のドメインは判定できるかもしれないが、完ぺきではない。\u003cbr\u003e\n　　また、メール配信大手が行っていないことから現実的ではないのだろう。\u003c/p\u003e\n\n\u003cp\u003e③ユーザーがメールアドレスを登録する際にHTMLメールを受け取るか、\u003cbr\u003e\n　TEXTメールを受け取るか登録させる。　\u003c/p\u003e\n\n\u003cp\u003e④HTMLメールの本文に「デザインが崩れる場合はこちら」とＵＲＬ表示\u003cbr\u003e\n　デザインが崩れる場合に、ウェブページへ誘導する。\u003cbr\u003e\n　（もちろん、メールと同内容のウェブページを事前作成する必要あり）\u003c/p\u003e\n","body":"# メール受信側の表示について\n\n①TEXTメール\n　⇒表示可能\n\n②HTMLメール\n　・HTML認識可能アプリ\n　　⇒表示可能\n　・キャリア用にカスタマイズされたHTML認識可能アプリ\n　　⇒表示可能（一部デザイン崩れ）\n　・HTML認識不可アプリ（ＭＭＳ含む）\n　　⇒表示不可 or デザイン崩れで表示\n\n　※MMSとは、Eメールをラインのように表示するアプリ\n\n# HTMLメールを使用する場合に、どのような対応をすればよいか\n①マルチパート配信を行う。\n　（TEXTとHTMLメールを同時に送り、受け取り側で表示可能な方が表示される）\n　⇒調べてみたが、メール配信大手は基本的にこの対応\n\n②メールアドレスのドメインでTEXTメールを送信するか、\n　HTMLメールを送信するか切り替える\n　⇒一部のドメインは判定できるかもしれないが、完ぺきではない。\n　　また、メール配信大手が行っていないことから現実的ではないのだろう。\n\n③ユーザーがメールアドレスを登録する際にHTMLメールを受け取るか、\n　TEXTメールを受け取るか登録させる。　\n\n④HTMLメールの本文に「デザインが崩れる場合はこちら」とＵＲＬ表示\n　デザインが崩れる場合に、ウェブページへ誘導する。\n　（もちろん、メールと同内容のウェブページを事前作成する必要あり）\n\n\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:59:50+09:00","group":null,"id":"50ad9be3b7bdf2a55b2e","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"メール送信","versions":[]},{"name":"メール配信","versions":[]}],"title":"HTMLメール配信、表示できない端末はどうするの？","updated_at":"2019-07-09T21:59:50+09:00","url":"https://qiita.com/t20190127/items/50ad9be3b7bdf2a55b2e","user":{"description":"インフラ初心者です。\r\n仕事でAWSを使用することになり、ただいま勉強中です。\r\n\r\n自分用メモ的に記載していきます。\r\n\r\nよろしくお願いいたしますm(__)m","facebook_id":"","followees_count":3,"followers_count":2,"github_login_name":null,"id":"t20190127","items_count":11,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":350277,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/350277/profile-images/1548944237","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"例\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BE%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e例\u003c/h1\u003e\n\n\u003cp\u003e標準出力に出力するための Logger オブジェクトを作りたい \u003cimg alt=\":raised_hands_tone1:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f64c-1f3fb.png\" title=\":raised_hands_tone1:\" width=\"20\"\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"rb\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nb\"\u003erequire\u003c/span\u003e \u003cspan class=\"s1\"\u003e'logger'\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003elogger\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"no\"\u003eLogger\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003enew\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003eSTDOUT\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003elogger\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eformatter\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"no\"\u003eLogger\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"no\"\u003eFormatter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003enew\u003c/span\u003e\n\u003cspan class=\"n\"\u003elogger\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003edatetime_format\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s1\"\u003e'%Y/%m/%d %H:%M:%S '\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003elogger\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003einfo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'BONFIRE LIT'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003elogger\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'YOU DIED'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"stdout\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eI, [2019-07-09T21:40:12.663123 #18929]  INFO -- : BONFIRE LIT\nE, [2019-07-09T21:40:13.036144 #18929] ERROR -- : YOU DIED\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこのような形で毎回 logger オブジェクトを作るのは大変だから、クラス化しよう \u003cimg alt=\":smirk_cat:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f63c.png\" title=\":smirk_cat:\" width=\"20\"\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"rb\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nb\"\u003erequire\u003c/span\u003e \u003cspan class=\"s1\"\u003e'forwardable'\u003c/span\u003e\n\u003cspan class=\"nb\"\u003erequire\u003c/span\u003e \u003cspan class=\"s1\"\u003e'logger'\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eStdoutLogger\u003c/span\u003e\n  \u003cspan class=\"kp\"\u003eextend\u003c/span\u003e \u003cspan class=\"no\"\u003eForwardable\u003c/span\u003e\n\n  \u003cspan class=\"n\"\u003edef_delegators\u003c/span\u003e \u003cspan class=\"ss\"\u003e:logger\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003e:debug\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003e:info\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003e:warn\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003e:error\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003e:fatal\u003c/span\u003e\n\n  \u003cspan class=\"kp\"\u003eprivate\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003elogger\u003c/span\u003e\n    \u003cspan class=\"vi\"\u003e@logger\u003c/span\u003e \u003cspan class=\"o\"\u003e||=\u003c/span\u003e\n      \u003cspan class=\"no\"\u003eLogger\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003enew\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003eSTDOUT\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etap\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003elogger\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\n        \u003cspan class=\"n\"\u003elogger\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eformatter\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"no\"\u003eLogger\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"no\"\u003eFormatter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003enew\u003c/span\u003e\n        \u003cspan class=\"n\"\u003elogger\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003edatetime_format\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s1\"\u003e'%Y/%m/%d %H:%M:%S '\u003c/span\u003e\n      \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003elogger\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"no\"\u003eStdoutLogger\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003enew\u003c/span\u003e\n\u003cspan class=\"n\"\u003elogger\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003einfo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'BONFIRE LIT'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003elogger\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'YOU DIED'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e以前はこのように「Logger オブジェクトである \u003ccode\u003elogger\u003c/code\u003e を所有し、\u003ccode\u003einfo\u003c/code\u003e や \u003ccode\u003eerror\u003c/code\u003e などのメソッドを \u003ccode\u003elogger\u003c/code\u003e に委譲する」というクラスを実装していました。しかし、この方法では委譲したいメソッドが増えた場合、例えば Logger#unknown も委譲したい場合などに \u003ccode\u003edef_delegators\u003c/code\u003e に追記しなくてはいけません \u003cimg alt=\":weary:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f629.png\" title=\":weary:\" width=\"20\"\u003e\u003c/p\u003e\n\n\u003cp\u003eそこで便利なのが \u003ca href=\"https://docs.ruby-lang.org/ja/latest/method/Kernel/i/DelegateClass.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eKernel#DelegateClass\u003c/a\u003e です。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"rb\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nb\"\u003erequire\u003c/span\u003e \u003cspan class=\"s1\"\u003e'delegate'\u003c/span\u003e\n\u003cspan class=\"nb\"\u003erequire\u003c/span\u003e \u003cspan class=\"s1\"\u003e'logger'\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eStdoutLogger\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"no\"\u003eDelegateClass\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003eLogger\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003einitialize\u003c/span\u003e\n    \u003cspan class=\"k\"\u003esuper\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elogger\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"kp\"\u003eprivate\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003elogger\u003c/span\u003e\n    \u003cspan class=\"vi\"\u003e@logger\u003c/span\u003e \u003cspan class=\"o\"\u003e||=\u003c/span\u003e\n      \u003cspan class=\"no\"\u003eLogger\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003enew\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003eSTDOUT\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etap\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003elogger\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\n        \u003cspan class=\"n\"\u003elogger\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eformatter\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"no\"\u003eLogger\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"no\"\u003eFormatter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003enew\u003c/span\u003e\n        \u003cspan class=\"n\"\u003elogger\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003edatetime_format\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s1\"\u003e'%Y/%m/%d %H:%M:%S '\u003c/span\u003e\n      \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003elogger\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"no\"\u003eStdoutLogger\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003enew\u003c/span\u003e\n\u003cspan class=\"n\"\u003elogger\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003einfo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'BONFIRE LIT'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003elogger\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'YOU DIED'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003eDelegateClass(Logger)\u003c/code\u003e を継承することで、Logger のインスタンスメソッドはすべて \u003ccode\u003elogger\u003c/code\u003e に委譲されます。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"最後に\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最後に\u003c/h1\u003e\n\n\u003cp\u003e\u003ccode\u003eDelegateClass\u003c/code\u003e は非常に便利で、例えば Array のラッパークラスを定義したい場合にも使えます。これについては以前書いた\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://qiita.com/QUANON/items/d84fcf417c285721837d\" id=\"reference-08603eeeee90184e639f\"\u003eEnumerable を include する代わりに Enumerator オブジェクトを活用する\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eという記事を参照してください。\u003c/p\u003e\n\n\u003cp\u003eLogger 関連でよろしければこちらの記事もご覧ください。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://qiita.com/QUANON/items/8b212c04f2f3457eec87\" id=\"reference-70ddc989063f773f51a2\"\u003eLogger のログファイルへの出力を標準出力にも出力したい\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","body":"# 例\n\n標準出力に出力するための Logger オブジェクトを作りたい :raised_hands_tone1:\n\n```rb\nrequire 'logger'\n\nlogger = Logger.new(STDOUT)\nlogger.formatter = Logger::Formatter.new\nlogger.datetime_format = '%Y/%m/%d %H:%M:%S '\n\nlogger.info('BONFIRE LIT')\nlogger.error('YOU DIED')\n```\n```stdout\nI, [2019-07-09T21:40:12.663123 #18929]  INFO -- : BONFIRE LIT\nE, [2019-07-09T21:40:13.036144 #18929] ERROR -- : YOU DIED\n```\n\nこのような形で毎回 logger オブジェクトを作るのは大変だから、クラス化しよう :smirk_cat:\n\n```rb\nrequire 'forwardable'\nrequire 'logger'\n\nclass StdoutLogger\n  extend Forwardable\n\n  def_delegators :logger, :debug, :info, :warn, :error, :fatal\n\n  private\n\n  def logger\n    @logger ||=\n      Logger.new(STDOUT).tap do |logger|\n        logger.formatter = Logger::Formatter.new\n        logger.datetime_format = '%Y/%m/%d %H:%M:%S '\n      end\n  end\nend\n\nlogger = StdoutLogger.new\nlogger.info('BONFIRE LIT')\nlogger.error('YOU DIED')\n```\n\n以前はこのように「Logger オブジェクトである `logger` を所有し、`info` や `error` などのメソッドを `logger` に委譲する」というクラスを実装していました。しかし、この方法では委譲したいメソッドが増えた場合、例えば Logger#unknown も委譲したい場合などに `def_delegators` に追記しなくてはいけません :weary:\n\nそこで便利なのが [Kernel#DelegateClass](https://docs.ruby-lang.org/ja/latest/method/Kernel/i/DelegateClass.html) です。\n\n```rb\nrequire 'delegate'\nrequire 'logger'\n\nclass StdoutLogger \u003c DelegateClass(Logger)\n  def initialize\n    super(logger)\n  end\n\n  private\n\n  def logger\n    @logger ||=\n      Logger.new(STDOUT).tap do |logger|\n        logger.formatter = Logger::Formatter.new\n        logger.datetime_format = '%Y/%m/%d %H:%M:%S '\n      end\n  end\nend\n\nlogger = StdoutLogger.new\nlogger.info('BONFIRE LIT')\nlogger.error('YOU DIED')\n```\n\n`DelegateClass(Logger)` を継承することで、Logger のインスタンスメソッドはすべて `logger` に委譲されます。\n\n# 最後に\n\n`DelegateClass` は非常に便利で、例えば Array のラッパークラスを定義したい場合にも使えます。これについては以前書いた\n\n* [Enumerable を include する代わりに Enumerator オブジェクトを活用する](https://qiita.com/QUANON/items/d84fcf417c285721837d)\n\nという記事を参照してください。\n\nLogger 関連でよろしければこちらの記事もご覧ください。\n\n* [Logger のログファイルへの出力を標準出力にも出力したい](https://qiita.com/QUANON/items/8b212c04f2f3457eec87)\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:58:02+09:00","group":null,"id":"2911ea76a62b9426b654","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"Ruby","versions":["2.6.3"]}],"title":"[Ruby] DelegateClass を使って僕だけの Logger を実装する","updated_at":"2019-07-09T22:11:27+09:00","url":"https://qiita.com/QUANON/items/2911ea76a62b9426b654","user":{"description":"あんた、マジなんだな？","facebook_id":"","followees_count":101,"followers_count":168,"github_login_name":"quanon","id":"QUANON","items_count":219,"linkedin_id":"","location":"Fukuoka, Japan","name":"QUANON","organization":"株式会社学びと成長しくみデザイン研究所","permanent_id":6697,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/6697/profile-images/1547603046","team_only":false,"twitter_screen_name":"quanon_jp","website_url":"http://quanon.github.io/"},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"医薬系のデータエンジニアというお仕事\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8C%BB%E8%96%AC%E7%B3%BB%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%8B%E3%82%A2%E3%81%A8%E3%81%84%E3%81%86%E3%81%8A%E4%BB%95%E4%BA%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e医薬系のデータエンジニアというお仕事\u003c/h1\u003e\n\n\u003cp\u003e近年、医薬品（製薬・創薬）関連企業や大学病院などの多くがITエンジニアを積極採用しようとしているのはご存知でしょうか？\u003cbr\u003e\n多くの人に馴染みのある知名度の高いweb系企業とは違い、医薬系企業に注目しているエンジニアの数は少ない気がします。でも、元々がITに強い業界ではないだけに、初心者エンジニアでも採用されやすい狙い目の業界だったりするのです。\u003c/p\u003e\n\n\u003cp\u003e私は某製薬関連企業で、データエンジニアとして働く者。元々はしがないwebエンジニア\u003cem\u003e（正直、web開発者としては手が遅くダメな方だった...）\u003c/em\u003e。\u003cbr\u003e\nいわゆるデータサイエンティストやAIエンジニアになりたい場合、多量のデータを持っている医薬系企業や大学病院で働くことは近道の一つなのです（もちろん、データサイエンスやＡＩを勉強すれば、なれるかも、ですが）。また、グローバル企業も多く、職場がホワイトで待遇も安定しているところが多いです。。\u003cbr\u003e\n医薬品業界の給与水準については以下をご参考に:\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://news.careerconnection.jp/?p=59398\u0026amp;page=2\" rel=\"nofollow noopener\" target=\"_blank\"\u003e最新版】医薬品業界の年収ランキング　1位サノフィは手当充実、賞与年3回「管理職に昇格すると年収900～1000万円まで上がる」\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e...医薬品企業の経営に比較的余裕があるのは、近年まで、日本の多くの人々（特に年齢の高い方々）が薬好きだったことに起因するのかな？\u003c/p\u003e\n\n\u003cp\u003e私はエンジニアとしてはそこそこ長くやってますが、医薬系のデータエンジニアとしての経験自体は2年弱なので偉そうに書くのは少し恥ずかしいのですが、割と良い経験をさせてもらっていることに感謝しつつ、医薬系データエンジニアのはじめ方、おまけに、稼ぎ方（私見）をここに書きます。\u003c/p\u003e\n\n\u003cp\u003eエンジニアのの皆さん、エンジニアになりたい皆さん、医薬系の（データ）エンジニアに興味を持っていただけると幸いです。...そもそもデータエンジニアって何よっていう方は、とりありず、『いろいろなデータを扱うエンジニア』くらいに思ってもらって大丈夫です。\u003c/p\u003e\n\n\u003cp\u003eこの投稿で業界に興味抱いた人や質問ある人は、私のtwitter等にどうぞ（twitterには別に業界のことは書いてませんが...個人情報を扱う職場ゆえ、業務上のソーシャルメディアの使用は禁止ですし...^^;）。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"でお前の今の稼ぎは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%A7%E3%81%8A%E5%89%8D%E3%81%AE%E4%BB%8A%E3%81%AE%E7%A8%BC%E3%81%8E%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e「で、お前の今の稼ぎは？」\u003c/h2\u003e\n\n\u003cp\u003eやはり、気になりますよね。\u003cbr\u003e\nこのあたりを直球で言うのは技術系ブログでは下品な気もしちゃいますが（私は昭和な教育を受けたおっさんです）、\u003cbr\u003e\n近年のqiitaのトレンドにならって、書いておきましょう。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e参考　「\u003ca href=\"https://qiita.com/poly_soft/items/a6db13a6e18efc1e7db8#%E6%AD%A3%E7%A4%BE%E5%93%A1%E3%81%A7%E5%B0%B1%E6%A5%AD%E3%81%99%E3%82%8B%E3%83%87%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88\" id=\"reference-502818845445406bc85f\"\u003e転職ドラフトで1000万円超えのオファーを2度貰ったエンジニアが「評価された理由」と「正社員で働く意味」について考えてみました。\u003c/a\u003e」\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eはい、正社員エンジニア（管理職）として1,000万円超えの年収をいただいております。\u003cbr\u003e\nまた、ありがたいことに年金・個人保険等の福利厚生も充実しています。\u003cbr\u003e\n↑の投稿にならって ご参考までに、私の現在のスキルセット・経験も軽く羅列しておきしょう。\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: left\"\u003e分野\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e内容\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003e言語\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003ePython,Scala,Java,Julia,Go,Nim,COBOL,Delphi,SQL,Perl,C/Objective-C,JavaScript,PHP,ActionScript,Ruby,Kotlin\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003e各種フレームワーク等\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eRuby on Rails,Spring-Boot,Play Framework\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003e各種ミドルウェア等\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eLinux,pandas/numpy/scipy,Tomcat,apache,nginx,Docker,Terraform,ansible,Elasticsearch,kibana,Mecab,Spark,MySQL,Postgresql,Redis, kudu\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eAWS\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eAPIGateway,Lambda,Cognito,EMRSQS,Redshift,RDS,S3,ELB,Route53,CLI\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003e医療分野のサービス等\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eHPC(ハイパフォーマンスコンピューティング環境,パイプラインツール(ゲノム系、治験系、製薬系),Google DeepVariant\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003e↑の投稿の方と比べて大したことないですね。言語の数は結構多いですが、半分くらいは私の趣味です。\u003cbr\u003e\nそこそこの経験あるエンジニアであれば、業界に骨を埋める覚悟をした時点でそこそこのオファーを頂きやすい方だと思います（少なくとも平均給与水準＋αの1000万円くらいまでは）。\u003c/p\u003e\n\n\u003cp\u003eおっさん（私）の話はこれくらいにして、以下、若い皆さんとIT業界の経験がない方向けに書きます。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"医薬系データエンジニアのはじめ方\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8C%BB%E8%96%AC%E7%B3%BB%E3%83%87%E3%83%BC%E3%82%BF%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%8B%E3%82%A2%E3%81%AE%E3%81%AF%E3%81%98%E3%82%81%E6%96%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e医薬系データエンジニアのはじめ方\u003c/h1\u003e\n\n\u003cp\u003e私のおすすめの資質を三行で書きます。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003ePythonを使おう。\u003c/li\u003e\n\u003cli\u003eTSV/CSVデータの扱いに強くなろう。\u003c/li\u003e\n\u003cli\u003e業界用語を知る意欲を持とう。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eこの３つを武器に、医薬系企業への就職・転職活動をしてみてください。\u003cbr\u003e\nもちろん、RやJuliaなど他の言語を知ってもいいし、SQLに強いのも望ましいし、本当は、生物医学などの専門知識がある程度あった方が良いのは事実です。また、.NET限定、XML使うぞ、Excelのマクロが必要などなど、職場によって、各論的な知識はいろいろと求められるでしょう。\u003cbr\u003e\nですが、（そこそこ）若くてやる気が出せる皆さんがこの３つの資質をお持ちならば、多くの医薬品関連企業や病院の採用担当者がデータを扱うエンジニアとして歓迎してくれるはずです。\u003c/p\u003e\n\n\u003cp\u003e以下、これから始める方向けに少し述べておきます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"pythonを使おう\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#python%E3%82%92%E4%BD%BF%E3%81%8A%E3%81%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ePythonを使おう。\u003c/h2\u003e\n\n\u003cp\u003ePythonの基本文法をマスターした後は、まずはpandasです。以下を索引代わりに勉強してください。\u003cbr\u003e\n\u003ca href=\"https://qiita.com/ysdyt/items/9ccca82fc5b504e7913a\" id=\"reference-f32caaf6b2e73625cdec\"\u003eデータ分析で頻出のPandas基本操作\u003c/a\u003e\u003cbr\u003e\n細かいところはpython/pandas周りのTipsを安定して投稿してくださっている以下サイトに学ぶのが良いかと。\u003cbr\u003e\n\u003ca href=\"https://note.nkmk.me/\" rel=\"nofollow noopener\" target=\"_blank\"\u003enote.nkmk.me\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e余裕があったら、numpyで行列を扱ったりしてみるのが良いでしょう（データサイエンティストになりたい人は、行列と線形代数の知識は必須でですよ）。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"tsvcsvデータの扱いに強くなろう\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#tsvcsv%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E6%89%B1%E3%81%84%E3%81%AB%E5%BC%B7%E3%81%8F%E3%81%AA%E3%82%8D%E3%81%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eTSV/CSVデータの扱いに強くなろう。\u003c/h2\u003e\n\n\u003cp\u003epandasをマスターした時点で、当然TSV/CSVは扱えるようになっているはずですが、少し補充しておきます。\u003cbr\u003e\n医薬系企業、大学病院、及び関連研究室では、TSV/CSVを取り扱うシステムは、しばしば「パイプライン」と呼ばれます。原油の代わりに、データを流すというわけですね。このパイプラインでは、複数のCSVを結合することが多いです。そして、ひとつひとつのCSVはかなり大きなものになったりします（例えば、全ゲノム解析に関連するTSVファイルのサイズは、ひとつあたり数百メガバイトになったりします。...\u003cbr\u003e\nそんなのが数千個並んでいたりする。）\u003cbr\u003e\nすなわち、上の『強い』という言葉には、大きなTSV/CSVデータの扱いに強い、という意味があるのです。ただし、ここは実際のノウハウは、大きなサイズのファイルと格闘してみなくては分からないところなので、まずは就職してから先輩に聞きながらノウハウを身に着けていくということで良いかと思います。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"業界用語を知る意欲を持とう\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A5%AD%E7%95%8C%E7%94%A8%E8%AA%9E%E3%82%92%E7%9F%A5%E3%82%8B%E6%84%8F%E6%AC%B2%E3%82%92%E6%8C%81%E3%81%A8%E3%81%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e業界用語を知る意欲を持とう。\u003c/h2\u003e\n\n\u003cp\u003e医薬業界には、専門用語が極めて多いです。また、毎年増え続けています。なので、業界用語を学び続ける意欲が求められます。ただし、深く理解しなくとも何とかなるので、広く浅く業界用語を知る、といったスタンスでも大丈夫です。\u003cbr\u003e\n実務に入った後には、知らない単語を聞いた時にまずはググってみて、わからないことは素直に質問するということができれば良いです（...これは、医薬業界に限らない社会人基礎力ですね）。\u003cbr\u003e\nどんな用語が飛び足してくるかを知りたい方は、例えば、近年の業界のバズワードReal World Data(RWD)あたりからググってみてください。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e参考 : \u003ca href=\"http://www.jpma.or.jp/medicine/shinyaku/tiken/allotment/real_world_data.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://www.jpma.or.jp/medicine/shinyaku/tiken/allotment/real_world_data.html\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eおまけですが、業界内では、医薬IT系の人はドライ(dry)と言われたりします。試験管等で血液や水溶液を扱うウェット(wet)系の人と対比する意味で、ですね。このウェット系の方々はIT業界よりも女性の比率が高いです（臨床検査技師、薬剤師、保健師、看護師等の出身の方が多い）。\u003cbr\u003e\n白衣のきれいなお姉さんを見て、ハァハァ...となる方はだめですが、きれいなお姉さんに素直に質問できる方は大歓迎です。\u003cbr\u003e\nその意味で、女性ITエンジニアの皆さんにもおすすめの業界だったりします。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"おまけ白衣のきれいなお姉さんと一緒じゃないと医薬業界の用語を学べないという方\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%8A%E3%81%BE%E3%81%91%E7%99%BD%E8%A1%A3%E3%81%AE%E3%81%8D%E3%82%8C%E3%81%84%E3%81%AA%E3%81%8A%E5%A7%89%E3%81%95%E3%82%93%E3%81%A8%E4%B8%80%E7%B7%92%E3%81%98%E3%82%83%E3%81%AA%E3%81%84%E3%81%A8%E5%8C%BB%E8%96%AC%E6%A5%AD%E7%95%8C%E3%81%AE%E7%94%A8%E8%AA%9E%E3%82%92%E5%AD%A6%E3%81%B9%E3%81%AA%E3%81%84%E3%81%A8%E3%81%84%E3%81%86%E6%96%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e(おまけ)白衣のきれいなお姉さんと一緒じゃないと医薬業界の用語を学べないという方\u003c/h3\u003e\n\n\u003cp\u003eひとまず、以下のtwitterをフォローして、呪文のような専門用語をググってみてください\u003cbr\u003e\n\u003ca href=\"https://twitter.com/souyakuchan\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://twitter.com/souyakuchan\u003c/a\u003e\u003cbr\u003e\n※ソーシャル創薬(叢薬)の申し子、創薬ちゃん:　\u003ca href=\"https://camo.qiitausercontent.com/d541ef622307b2017662c0faf5f3f5bf309697fd/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f313034393833383339333939383234313739322f786b666a797269685f343030783430302e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/d541ef622307b2017662c0faf5f3f5bf309697fd/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f313034393833383339333939383234313739322f786b666a797269685f343030783430302e6a7067\" alt=\"\" data-canonical-src=\"https://pbs.twimg.com/profile_images/1049838393998241792/xkfjyrih_400x400.jpg\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eはい、きれいなお姉さんですね。つぶやきはケモインフォマティクス業界界隈らしいマニアックなものばかりで私は1/10も分かりませんが、フォローはしています。\u003cbr\u003e\n...というのは半ば冗談として、医薬系の先生方のtwitterをフォローするのは役に立ちます。まずは創薬ちゃんがフォローしているアカウントをチェックしていくあたりから...\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"稼ぎ方のイロハ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%A8%BC%E3%81%8E%E6%96%B9%E3%81%AE%E3%82%A4%E3%83%AD%E3%83%8F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e稼ぎ方のイロハ\u003c/h1\u003e\n\n\u003cp\u003e最後に医薬系企業、又は、医学部・大学病院などに業界に就職した方向けに。\u003cbr\u003e\nまずは就職おめでとうございます。頑張って、職場のドメイン特化型の知識の習得に励んでくださいませ。\u003cbr\u003e\nで、そこからもっと稼げるようになっていくにはどうしたら良いのか。\u003cbr\u003e\nイロハといいつつ、私が言えることはただ一つ、実践的な英語知識です。\u003cbr\u003e\nすなわち、\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eある程度、仕様を英語で理解できる。\u003c/li\u003e\n\u003cli\u003eある程度、医学系の論文が読める。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eあたりが入口で、\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e上司に英語でホウレンソウできる。\u003c/li\u003e\n\u003cli\u003e部下に英語で的確な指示かできる。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eあたりがゴールです。 なぜなら、医薬品業界は欧米企業（特に米国とスイス）が強いためです。\u003cbr\u003e\nグローバル企業の待遇はきちんとしています。\u003c/p\u003e\n\n\u003cp\u003e私は入口を少し超えたくらいですが、２年で年収が倍増しました。\u003cbr\u003e\nこれからはゴールを目指して通勤電車で日々勉強してます。\u003c/p\u003e\n\n\u003cp\u003eどこから英語を学ぶかはそれぞれでしょうが、ひとつだけ:\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://toyokeizai.net/articles/-/190605\" rel=\"nofollow noopener\" target=\"_blank\"\u003e｢糖質制限｣論争に幕？一流医学誌に衝撃論文　｢炭水化物は危険､脂質は安全｣の波紋\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e若干スキャンダラスな話題ゆえにか、コメントが荒れ気味ですね。\u003cbr\u003e\nこの記事で紹介されている論文(以下)を読んでみてください。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://www.thelancet.com/journals/lancet/article/PIIS0140-6736(17)32252-3/fulltext\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.thelancet.com/journals/lancet/article/PIIS0140-6736(17)32252-3/fulltext\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eそして、正しく読めているかはさておき、論文で言っているであろうことと荒れ気味のコメントとの関係を考えてみるのです。\u003cbr\u003e\nコメントの大多数は論文を読んでないものと思いますが、それが良いのです。\u003cbr\u003e\n製薬系のグローバル企業での日本人エンジニアに求められる役割の一つは、日本人の医薬系の専門家・関係者と外国人エンジニアとの橋渡しです。（私をはじめ）多くの日本人にとって英語は鬼門なのです。でも、逆に、外国人エンジニアにとって日本語の細やかな理解は鬼門なのです。\u003cbr\u003e\nこの橋渡し役にやりがいを感じられれば、医薬系エンジニアとしての価値は高まっていきます。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"終わりに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e終わりに\u003c/h1\u003e\n\n\u003cp\u003e偉そうに書いちゃいましたが、医薬系ITは成長産業なんですよ～、これを言いたかった。\u003cbr\u003e\nおしまい。\u003c/p\u003e\n","body":"# 医薬系のデータエンジニアというお仕事\n近年、医薬品（製薬・創薬）関連企業や大学病院などの多くがITエンジニアを積極採用しようとしているのはご存知でしょうか？\n多くの人に馴染みのある知名度の高いweb系企業とは違い、医薬系企業に注目しているエンジニアの数は少ない気がします。でも、元々がITに強い業界ではないだけに、初心者エンジニアでも採用されやすい狙い目の業界だったりするのです。\n\n私は某製薬関連企業で、データエンジニアとして働く者。元々はしがないwebエンジニア*（正直、web開発者としては手が遅くダメな方だった...）*。\nいわゆるデータサイエンティストやAIエンジニアになりたい場合、多量のデータを持っている医薬系企業や大学病院で働くことは近道の一つなのです（もちろん、データサイエンスやＡＩを勉強すれば、なれるかも、ですが）。また、グローバル企業も多く、職場がホワイトで待遇も安定しているところが多いです。。\n医薬品業界の給与水準については以下をご参考に:\n\u003e [最新版】医薬品業界の年収ランキング　1位サノフィは手当充実、賞与年3回「管理職に昇格すると年収900～1000万円まで上がる」](https://news.careerconnection.jp/?p=59398\u0026page=2)\n\n...医薬品企業の経営に比較的余裕があるのは、近年まで、日本の多くの人々（特に年齢の高い方々）が薬好きだったことに起因するのかな？\n\n私はエンジニアとしてはそこそこ長くやってますが、医薬系のデータエンジニアとしての経験自体は2年弱なので偉そうに書くのは少し恥ずかしいのですが、割と良い経験をさせてもらっていることに感謝しつつ、医薬系データエンジニアのはじめ方、おまけに、稼ぎ方（私見）をここに書きます。\n\nエンジニアのの皆さん、エンジニアになりたい皆さん、医薬系の（データ）エンジニアに興味を持っていただけると幸いです。...そもそもデータエンジニアって何よっていう方は、とりありず、『いろいろなデータを扱うエンジニア』くらいに思ってもらって大丈夫です。\n\nこの投稿で業界に興味抱いた人や質問ある人は、私のtwitter等にどうぞ（twitterには別に業界のことは書いてませんが...個人情報を扱う職場ゆえ、業務上のソーシャルメディアの使用は禁止ですし...^^;）。\n\n## 「で、お前の今の稼ぎは？」\nやはり、気になりますよね。\nこのあたりを直球で言うのは技術系ブログでは下品な気もしちゃいますが（私は昭和な教育を受けたおっさんです）、\n近年のqiitaのトレンドにならって、書いておきましょう。\n\u003e 参考　「[転職ドラフトで1000万円超えのオファーを2度貰ったエンジニアが「評価された理由」と「正社員で働く意味」について考えてみました。](https://qiita.com/poly_soft/items/a6db13a6e18efc1e7db8#%E6%AD%A3%E7%A4%BE%E5%93%A1%E3%81%A7%E5%B0%B1%E6%A5%AD%E3%81%99%E3%82%8B%E3%83%87%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88)」\n\nはい、正社員エンジニア（管理職）として1,000万円超えの年収をいただいております。\nまた、ありがたいことに年金・個人保険等の福利厚生も充実しています。\n↑の投稿にならって ご参考までに、私の現在のスキルセット・経験も軽く羅列しておきしょう。\n\n| 分野 | 内容 | \n|:-----------|:------------|\n|言語|Python,Scala,Java,Julia,Go,Nim,COBOL,Delphi,SQL,Perl,C/Objective-C,JavaScript,PHP,ActionScript,Ruby,Kotlin\n|各種フレームワーク等|Ruby on Rails,Spring-Boot,Play Framework|\n|各種ミドルウェア等|Linux,pandas/numpy/scipy,Tomcat,apache,nginx,Docker,Terraform,ansible,Elasticsearch,kibana,Mecab,Spark,MySQL,Postgresql,Redis, kudu|\n|AWS|APIGateway,Lambda,Cognito,EMRSQS,Redshift,RDS,S3,ELB,Route53,CLI|\n|医療分野のサービス等|HPC(ハイパフォーマンスコンピューティング環境,パイプラインツール(ゲノム系、治験系、製薬系),Google DeepVariant|\n\n↑の投稿の方と比べて大したことないですね。言語の数は結構多いですが、半分くらいは私の趣味です。\nそこそこの経験あるエンジニアであれば、業界に骨を埋める覚悟をした時点でそこそこのオファーを頂きやすい方だと思います（少なくとも平均給与水準＋αの1000万円くらいまでは）。\n\nおっさん（私）の話はこれくらいにして、以下、若い皆さんとIT業界の経験がない方向けに書きます。\n\n# 医薬系データエンジニアのはじめ方\n私のおすすめの資質を三行で書きます。\n\n- Pythonを使おう。\n- TSV/CSVデータの扱いに強くなろう。\n- 業界用語を知る意欲を持とう。\n\nこの３つを武器に、医薬系企業への就職・転職活動をしてみてください。\nもちろん、RやJuliaなど他の言語を知ってもいいし、SQLに強いのも望ましいし、本当は、生物医学などの専門知識がある程度あった方が良いのは事実です。また、.NET限定、XML使うぞ、Excelのマクロが必要などなど、職場によって、各論的な知識はいろいろと求められるでしょう。\nですが、（そこそこ）若くてやる気が出せる皆さんがこの３つの資質をお持ちならば、多くの医薬品関連企業や病院の採用担当者がデータを扱うエンジニアとして歓迎してくれるはずです。\n\n以下、これから始める方向けに少し述べておきます。\n\n## Pythonを使おう。\nPythonの基本文法をマスターした後は、まずはpandasです。以下を索引代わりに勉強してください。\n[データ分析で頻出のPandas基本操作](https://qiita.com/ysdyt/items/9ccca82fc5b504e7913a)\n細かいところはpython/pandas周りのTipsを安定して投稿してくださっている以下サイトに学ぶのが良いかと。\n[note.nkmk.me](https://note.nkmk.me/)\n\n余裕があったら、numpyで行列を扱ったりしてみるのが良いでしょう（データサイエンティストになりたい人は、行列と線形代数の知識は必須でですよ）。\n\n## TSV/CSVデータの扱いに強くなろう。\npandasをマスターした時点で、当然TSV/CSVは扱えるようになっているはずですが、少し補充しておきます。\n医薬系企業、大学病院、及び関連研究室では、TSV/CSVを取り扱うシステムは、しばしば「パイプライン」と呼ばれます。原油の代わりに、データを流すというわけですね。このパイプラインでは、複数のCSVを結合することが多いです。そして、ひとつひとつのCSVはかなり大きなものになったりします（例えば、全ゲノム解析に関連するTSVファイルのサイズは、ひとつあたり数百メガバイトになったりします。...\nそんなのが数千個並んでいたりする。）\nすなわち、上の『強い』という言葉には、大きなTSV/CSVデータの扱いに強い、という意味があるのです。ただし、ここは実際のノウハウは、大きなサイズのファイルと格闘してみなくては分からないところなので、まずは就職してから先輩に聞きながらノウハウを身に着けていくということで良いかと思います。\n\n## 業界用語を知る意欲を持とう。\n医薬業界には、専門用語が極めて多いです。また、毎年増え続けています。なので、業界用語を学び続ける意欲が求められます。ただし、深く理解しなくとも何とかなるので、広く浅く業界用語を知る、といったスタンスでも大丈夫です。\n実務に入った後には、知らない単語を聞いた時にまずはググってみて、わからないことは素直に質問するということができれば良いです（...これは、医薬業界に限らない社会人基礎力ですね）。\nどんな用語が飛び足してくるかを知りたい方は、例えば、近年の業界のバズワードReal World Data(RWD)あたりからググってみてください。\n\u003e 参考 : http://www.jpma.or.jp/medicine/shinyaku/tiken/allotment/real_world_data.html\n\nおまけですが、業界内では、医薬IT系の人はドライ(dry)と言われたりします。試験管等で血液や水溶液を扱うウェット(wet)系の人と対比する意味で、ですね。このウェット系の方々はIT業界よりも女性の比率が高いです（臨床検査技師、薬剤師、保健師、看護師等の出身の方が多い）。\n白衣のきれいなお姉さんを見て、ハァハァ...となる方はだめですが、きれいなお姉さんに素直に質問できる方は大歓迎です。\nその意味で、女性ITエンジニアの皆さんにもおすすめの業界だったりします。\n\n### (おまけ)白衣のきれいなお姉さんと一緒じゃないと医薬業界の用語を学べないという方\nひとまず、以下のtwitterをフォローして、呪文のような専門用語をググってみてください\nhttps://twitter.com/souyakuchan\n※ソーシャル創薬(叢薬)の申し子、創薬ちゃん:　![](https://pbs.twimg.com/profile_images/1049838393998241792/xkfjyrih_400x400.jpg)\n\nはい、きれいなお姉さんですね。つぶやきはケモインフォマティクス業界界隈らしいマニアックなものばかりで私は1/10も分かりませんが、フォローはしています。\n...というのは半ば冗談として、医薬系の先生方のtwitterをフォローするのは役に立ちます。まずは創薬ちゃんがフォローしているアカウントをチェックしていくあたりから...\n\n# 稼ぎ方のイロハ\n最後に医薬系企業、又は、医学部・大学病院などに業界に就職した方向けに。\nまずは就職おめでとうございます。頑張って、職場のドメイン特化型の知識の習得に励んでくださいませ。\nで、そこからもっと稼げるようになっていくにはどうしたら良いのか。\nイロハといいつつ、私が言えることはただ一つ、実践的な英語知識です。\nすなわち、\n\n- ある程度、仕様を英語で理解できる。\n- ある程度、医学系の論文が読める。\n\nあたりが入口で、\n\n- 上司に英語でホウレンソウできる。\n- 部下に英語で的確な指示かできる。\n\nあたりがゴールです。 なぜなら、医薬品業界は欧米企業（特に米国とスイス）が強いためです。\nグローバル企業の待遇はきちんとしています。\n\n私は入口を少し超えたくらいですが、２年で年収が倍増しました。\nこれからはゴールを目指して通勤電車で日々勉強してます。\n\nどこから英語を学ぶかはそれぞれでしょうが、ひとつだけ:\n\n\u003e [｢糖質制限｣論争に幕？一流医学誌に衝撃論文　｢炭水化物は危険､脂質は安全｣の波紋](https://toyokeizai.net/articles/-/190605)\n\n若干スキャンダラスな話題ゆえにか、コメントが荒れ気味ですね。\nこの記事で紹介されている論文(以下)を読んでみてください。\n\u003ehttps://www.thelancet.com/journals/lancet/article/PIIS0140-6736(17)32252-3/fulltext\n\nそして、正しく読めているかはさておき、論文で言っているであろうことと荒れ気味のコメントとの関係を考えてみるのです。\nコメントの大多数は論文を読んでないものと思いますが、それが良いのです。\n製薬系のグローバル企業での日本人エンジニアに求められる役割の一つは、日本人の医薬系の専門家・関係者と外国人エンジニアとの橋渡しです。（私をはじめ）多くの日本人にとって英語は鬼門なのです。でも、逆に、外国人エンジニアにとって日本語の細やかな理解は鬼門なのです。\nこの橋渡し役にやりがいを感じられれば、医薬系エンジニアとしての価値は高まっていきます。\n\n#  終わりに\n偉そうに書いちゃいましたが、医薬系ITは成長産業なんですよ～、これを言いたかった。\nおしまい。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:56:44+09:00","group":null,"id":"4fffc8daf1a911fac637","likes_count":2,"private":false,"reactions_count":0,"tags":[{"name":"Python","versions":[]},{"name":"SQL","versions":[]},{"name":"CSV","versions":[]},{"name":"初心者","versions":[]},{"name":"エンジニア","versions":[]}],"title":"医薬系データエンジニアのはじめ方、そして、稼ぎ方のイロハ。","updated_at":"2019-07-09T22:02:34+09:00","url":"https://qiita.com/Nimimal/items/4fffc8daf1a911fac637","user":{"description":"いつかNIMするっすから。DDDの先達にいろいろヒアリングしたい今日この頃。","facebook_id":"","followees_count":31,"followers_count":105,"github_login_name":"kmry","id":"Nimimal","items_count":155,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":16455,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/16455/profile-images/1482447325","team_only":false,"twitter_screen_name":"OQCVmjh9IpChkA6","website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch2\u003e\n\u003cspan id=\"edinet-apiを実行する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#edinet-api%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eEDINET APIを実行する\u003c/h2\u003e\n\n\u003cp\u003e　有報キャッチャーAPIは、証券コードを指定すると該当書類のZIPファイルが取得できるが、任意の日付にどの会社がどういう書類をEDINETに提出したかが分からない（任意の指定した日付で有報キャッチャーAPIが実行できない）ので、2019年春にEDINETのAPIがローンチしているので、そちらのAPIを試してみた。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eedinet_api.py\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003ejson\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003erequests\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003edatetime\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003efn_getzipfile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edocid\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n      \u003cspan class=\"n\"\u003eurl2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"https://disclosure.edinet-fsa.go.jp/api/v1/documents/\"\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003edocid\u003c/span\u003e\n      \u003cspan class=\"n\"\u003eparams2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"s\"\u003e\"type\"\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"n\"\u003efname\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003edocid\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\".zip\"\u003c/span\u003e\n      \u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e'■'\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efname\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\n      \u003cspan class=\"c\"\u003e# EDINET API_2:提出書類のZIP取得\u003c/span\u003e\n      \u003cspan class=\"n\"\u003eres\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003erequests\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eurl2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eparams\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eparams2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n      \u003cspan class=\"c\"\u003e# ファイルへ出力\u003c/span\u003e\n      \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003eres\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estatus_code\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n           \u003cspan class=\"k\"\u003ewith\u003c/span\u003e \u003cspan class=\"nb\"\u003eopen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efilename\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e'wb'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                   \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003echunk\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eres\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eiter_content\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003echunk_size\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e1024\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n                         \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ewrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003echunk\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003efn_rtrv_edinet\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eymd\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n\n      \u003cspan class=\"n\"\u003eurl\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"https://disclosure.edinet-fsa.go.jp/api/v1/documents.json\"\u003c/span\u003e\n      \u003cspan class=\"n\"\u003eparams\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e\"date\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eymd\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"s\"\u003e\"type\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n      \u003cspan class=\"c\"\u003e# EDINET API_1:提出書類の取得\u003c/span\u003e\n      \u003cspan class=\"n\"\u003eres\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003erequests\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eparams\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eparams\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \n\n      \u003cspan class=\"c\"\u003e#print(res.text)\u003c/span\u003e\n      \u003cspan class=\"c\"\u003e#print(len(json_form[\"results\"]))\u003c/span\u003e\n\n      \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\n      \u003cspan class=\"n\"\u003ejson_form\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ejson\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eloads\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eres\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ejsn\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003ejson_form\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"results\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ejsn\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"docDescription\"\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efind\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"有価証券報告書\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ejsn\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"docDescription\"\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efind\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"内国投資信託受益証券\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e==-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ejsn\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"docDescription\"\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efind\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"訂正\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e==-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003edocid\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ejsn\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"docID\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n                        \u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e'■'\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edocid\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\n\n                        \u003cspan class=\"c\"\u003e#print(jsn)\u003c/span\u003e\n\n                        \u003cspan class=\"n\"\u003elst\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e'docID'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"s\"\u003e'SecuritiesCode'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"s\"\u003e'edinetCode'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"s\"\u003e'secCode'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"s\"\u003e'filerName'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003elst\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elst\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e'submitDateTime'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"s\"\u003e'periodStart'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"s\"\u003e'periodEnd'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"s\"\u003e'docDescription'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n                        \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003el\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003elst\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                              \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ejsn\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003el\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003ejsn\u003c/span\u003e \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003el\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n                        \u003cspan class=\"c\"\u003e#fn_getzipfile(docid) \u003c/span\u003e\n      \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e        \n\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003e__name__\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"s\"\u003e'__main__'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n\n      \u003cspan class=\"c\"\u003e# 日付\u003c/span\u003e\n      \u003cspan class=\"n\"\u003edate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e  \u003cspan class=\"n\"\u003edatetime\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edatetime\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etoday\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estrftime\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"si\"\u003e%\u003c/span\u003e\u003cspan class=\"s\"\u003eY-\u003c/span\u003e\u003cspan class=\"si\"\u003e%\u003c/span\u003e\u003cspan class=\"s\"\u003em-\u003c/span\u003e\u003cspan class=\"si\"\u003e%\u003c/span\u003e\u003cspan class=\"s\"\u003ed\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"c\"\u003e#\u003c/span\u003e\n      \u003cspan class=\"n\"\u003edate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"2018-06-28\"\u003c/span\u003e\n      \u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n      \u003cspan class=\"n\"\u003er\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003efn_rtrv_edinet\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003er\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e・まず任意の日付を指定してEDINET API（documents.json）を実行すると、その日に提出された提出書類一覧が取得できる。各書類にはdocidがあるので、このdocidを引数として再度APIを実行して提出書類のZIPを取得する。\u003cbr\u003e\n・過去の提出書類も取得可能のようである。\u003c/p\u003e\n\n\u003cp\u003e※参考\u003cbr\u003e\n\u003ca href=\"http://itref.fc2web.com/lang/python/edinet.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://itref.fc2web.com/lang/python/edinet.html\u003c/a\u003e\u003c/p\u003e\n","body":"##EDINET APIを実行する\n　有報キャッチャーAPIは、証券コードを指定すると該当書類のZIPファイルが取得できるが、任意の日付にどの会社がどういう書類をEDINETに提出したかが分からない（任意の指定した日付で有報キャッチャーAPIが実行できない）ので、2019年春にEDINETのAPIがローンチしているので、そちらのAPIを試してみた。\n\n```python:edinet_api.py\nimport json\nimport requests\nimport datetime\n\ndef fn_getzipfile(docid):\n      url2 = \"https://disclosure.edinet-fsa.go.jp/api/v1/documents/\" + docid\n      params2 = { \"type\" : 1}\n      fname = docid + \".zip\"\n      print('■'+ str(fname))\n      \n      # EDINET API_2:提出書類のZIP取得\n      res = requests.get(url2, params=params2)\n\n      # ファイルへ出力\n      if res.status_code == 200:\n           with open(filename, 'wb') as f:\n                   for chunk in res.iter_content(chunk_size=1024):\n                         f.write(chunk)\n\ndef fn_rtrv_edinet(ymd):\n  \n      url = \"https://disclosure.edinet-fsa.go.jp/api/v1/documents.json\"\n      params = {\"date\": str(ymd), \"type\": 2}\n  \n      # EDINET API_1:提出書類の取得\n      res = requests.get(url, params=params) \n\n      #print(res.text)\n      #print(len(json_form[\"results\"]))\n\n      i = 0\n      json_form = json.loads(res.text)\n      for jsn in json_form[\"results\"]:\n            if str(jsn[\"docDescription\"]).find(\"有価証券報告書\")\u003e-1 :\n                if str(jsn[\"docDescription\"]).find(\"内国投資信託受益証券\")==-1 :\n                    if str(jsn[\"docDescription\"]).find(\"訂正\")==-1 :\n                        docid = jsn[\"docID\"]\n                        print('■' + str(docid))\n                        i = i +1\n\n                        #print(jsn)\n                        \n                        lst = ['docID','SecuritiesCode','edinetCode','secCode','filerName']\n                        lst = lst + ['submitDateTime','periodStart','periodEnd','docDescription']\n                        for l in lst:\n                              x= [print(jsn[l]) for j in jsn if l in j]\n                        #fn_getzipfile(docid) \n      return i        \n        \nif __name__ == '__main__':\n      \n      # 日付\n      date =  datetime.datetime.today().strftime(\"%Y-%m-%d\")\n      #\n      date = \"2018-06-28\"\n      print( date)\n      \n      r=fn_rtrv_edinet(date)\n      print(r)\n```\n・まず任意の日付を指定してEDINET API（documents.json）を実行すると、その日に提出された提出書類一覧が取得できる。各書類にはdocidがあるので、このdocidを引数として再度APIを実行して提出書類のZIPを取得する。\n・過去の提出書類も取得可能のようである。\n\n※参考\nhttp://itref.fc2web.com/lang/python/edinet.html\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:56:28+09:00","group":null,"id":"4ad7faaabcb8a0c53f51","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"Python","versions":[]},{"name":"XML","versions":[]},{"name":"Python3","versions":[]},{"name":"xbrl","versions":[]}],"title":"EDINET APIをpythonで実行するまわりを調べてみた","updated_at":"2019-07-09T21:56:28+09:00","url":"https://qiita.com/Fortinbras/items/4ad7faaabcb8a0c53f51","user":{"description":"「風雪に耐えて梅花麗し」","facebook_id":"","followees_count":0,"followers_count":13,"github_login_name":null,"id":"Fortinbras","items_count":27,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":91974,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/91974/profile-images/1473705485","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003epyhonではじめる機械学習の復習\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"numpy配列\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#numpy%E9%85%8D%E5%88%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNumpy配列\u003c/h1\u003e\n\n\u003cp\u003escikit-learnはNumpy配列でデータを受け取るため，使用するデータはNumpy配列に変換する必要がある。下記の配列がNumpy配列のコアとなる多次元配列（ndarrayクラス）である。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"n\"\u003eIn\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003enumpy\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003enp\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enp\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003earray\u003c/span\u003e\u003cspan class=\"p\"\u003e([[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e]])\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"x:\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"s\"\u003e{}\"\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eformat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eOut\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e\n\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e \u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"scipy\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#scipy\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eSciPy\u003c/h1\u003e\n\n\u003cp\u003eSciPyとはPythonで科学技術計算を行うための関数を集めたもの。scikit-learnではアルゴリズム実装の際にSciPyの関数を使用する。SciPyで最も重要な要素はscipy.sparseであり，これは疎行列（成分のほとんどが0である行列）を表現するもの。疎行列は成分のほとんどがゼロとなっている２次元配列を格納する際に用いられ，scikit-learnで使用されるもう１つのデータ表現である。\u003cbr\u003e\n\u003cstrong\u003e・eye\u003c/strong\u003e\u003cbr\u003e\n\u003cstrong\u003e・csr_matrix\u003c/strong\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"n\"\u003eIn\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e  \u003cspan class=\"c\"\u003e# eye関数\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003enumpy\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003enp\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003escipy\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003esparse\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eeye\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enp\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eeye\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e  \u003cspan class=\"c\"\u003e# 4 x 4の単位行列（対角成分が1で，非対角成分が0の行列）を作成する\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Numpy array:\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"s\"\u003e{}\"\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eformat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eeye\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e  \u003cspan class=\"c\"\u003e# Numpy配列を作成する\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eOut\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e\n\u003cspan class=\"n\"\u003eNumpy\u003c/span\u003e \u003cspan class=\"n\"\u003earray\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[[\u003c/span\u003e\u003cspan class=\"mf\"\u003e1.\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mf\"\u003e0.\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mf\"\u003e0.\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mf\"\u003e0.\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e\n\n\n\u003cspan class=\"n\"\u003eIn\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e  \u003cspan class=\"c\"\u003e# CSR形式\u003c/span\u003e\n\u003cspan class=\"n\"\u003esparse_matrix\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esparse\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecsr_matrix\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eeye\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e  \u003cspan class=\"c\"\u003e# 上記のNumPy配列をCSR形式（NumPy配列の非ゼロ要素の座標を抽出する）に格納する\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"s\"\u003eSciPy sparse CSR matrix:\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"s\"\u003e{}\"\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eformat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esparse_matrix\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eOut\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e\n\u003cspan class=\"n\"\u003eSciPy\u003c/span\u003e \u003cspan class=\"n\"\u003esparse\u003c/span\u003e \u003cspan class=\"n\"\u003eCSR\u003c/span\u003e \u003cspan class=\"n\"\u003ematrix\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e        \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e   \u003cspan class=\"c\"\u003e# NumPy配列の0行0列\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e        \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e   \u003cspan class=\"c\"\u003e# NumPy配列の1行1列\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e        \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e   \u003cspan class=\"c\"\u003e# NumPy配列の2行2列\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e        \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e   \u003cspan class=\"c\"\u003e# NumPy配列の3行3列\u003c/span\u003e\n\n\n\u003cspan class=\"n\"\u003eIn\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e  \u003cspan class=\"c\"\u003e# COO形式\u003c/span\u003e\n\u003cspan class=\"n\"\u003edata\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enp\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eones\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e  \u003cspan class=\"c\"\u003e# 1で埋められ4つの要素を持つ1次元配列を作成\u003c/span\u003e\n\u003cspan class=\"n\"\u003erow_indices\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enp\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003earange\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003ecol_indices\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enp\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003earange\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003eeye_coo\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esparse\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecoo_matrix\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003erow_indices\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecol_indices\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"COO representation:\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"s\"\u003e{}\"\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eformat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eeye_coo\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eOut\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e  \u003cspan class=\"c\"\u003e# 上のものと同じ疎行列をCOO形式で作成する\u003c/span\u003e\n\u003cspan class=\"n\"\u003eCOO\u003c/span\u003e \u003cspan class=\"n\"\u003erepresentation\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e        \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e        \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e        \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e        \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"matplotlib\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#matplotlib\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ematplotlib\u003c/h1\u003e\n\n\u003cp\u003ematplotlibはデータや解析結果を可視化するグラフ描画ライブラリである。グラフの描画にはAnacondaのJupyterNotebookを使用する。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"n\"\u003eIn\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e\n\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"n\"\u003ematplotlib\u003c/span\u003e \u003cspan class=\"n\"\u003einline\u003c/span\u003e  \u003cspan class=\"c\"\u003e# Jupyter Notebookへの表示に必要　%matplotlib notebookでも可\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003enumpy\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003enp\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003ematplotlib.pyplot\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003eplt\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enp\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elinspace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e  \u003cspan class=\"c\"\u003e# -10から10までを100ステップ区切った配列を作成\u003c/span\u003e\n\u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enp\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e  \u003cspan class=\"c\"\u003e# 配列xをsin関数のグラフにする\u003c/span\u003e\n\u003cspan class=\"n\"\u003eplt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eplot\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emarker\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"x\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e  \u003cspan class=\"c\"\u003e# plt.plot(x, y)でグラフを表示　marker=\"x\"で100ステップのマークxを表示する\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e　　　　　　　　　　　　↓\u003cbr\u003e\nOut[5]:\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/8a351df8c915888f368eb0cc94fb578dd3ef6d35/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3430323931352f34346330653562392d353439362d336132632d363433662d3539636161656132343466332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"412\" alt=\"4f79a8d25df0148e2bc764d440fa1b78.png\" src=\"https://camo.qiitausercontent.com/8a351df8c915888f368eb0cc94fb578dd3ef6d35/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3430323931352f34346330653562392d353439362d336132632d363433662d3539636161656132343466332e706e67\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/402915/44c0e5b9-5496-3a2c-643f-59caaea244f3.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"pandas\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#pandas\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003epandas\u003c/h1\u003e\n\n\u003cp\u003epandasはデータ変換・解析を行い，エクセルシートのような形で結果を表示することができる（これをDataFarameという）。また様々なファイルやデータベースからデータを取り込むこともできる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"n\"\u003eIn\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003epandas\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003epd\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003eIPython.display\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003edisplay\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003edata\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e'Name'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"John\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"An\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Peter\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Linda\"\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"s\"\u003e'Location'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"New York\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Paris\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Berlin\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"London\"\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"s\"\u003e'Age'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"20\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"21\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"36\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"43\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]}\u003c/span\u003e\n\u003cspan class=\"n\"\u003edata_pandas\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epd\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDataFrame\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003edisplay\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata_pandas\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eOut[6]:\u003cbr\u003e\n　　　　　　↓\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/510351ae5d06389df53167b684a54d292d841ec0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3430323931352f64626131663236662d343562342d393833372d616239652d3032383033656139643365662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"210\" alt=\"2f0481f1a7b46d8ef5997edfe82c6f1a.png\" src=\"https://camo.qiitausercontent.com/510351ae5d06389df53167b684a54d292d841ec0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3430323931352f64626131663236662d343562342d393833372d616239652d3032383033656139643365662e706e67\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/402915/dba1f26f-45b4-9837-ab9e-02803ea9d3ef.png\"\u003e\u003c/a\u003e\u003cbr\u003e\nまた上記のテーブルに対して，ある条件を満たす項目のみを抽出することができる。下記の例では30歳以上のみを抽出する。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"n\"\u003edisplay\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata_pandas\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"err\"\u003e↓\u003c/span\u003e\n\u003cspan class=\"n\"\u003edisplay\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata_pandas\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAge\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e30\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eとするとテーブルが作成されずエラーが発生した。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/968655ce0eba55b3fe7594e1d6ef57d3870d3283/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3430323931352f32626565656336322d326135622d643331382d373030642d6332323535383733366339362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"639\" alt=\"0c578cdfad27cc1969063f83191c4ed9.png\" src=\"https://camo.qiitausercontent.com/968655ce0eba55b3fe7594e1d6ef57d3870d3283/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3430323931352f32626565656336322d326135622d643331382d373030642d6332323535383733366339362e706e67\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/402915/2beeec62-2a5b-d318-700d-c22558736c96.png\"\u003e\u003c/a\u003e\u003cbr\u003e\n最後の文章を見てみると「TypeError: '\u0026gt;' not supported between instances of 'str' and 'int'」とある。data_pandas.Ageのstr型と30のint型を比較してるけどできません，と言われてるっぽい。よくみると\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"n\"\u003edisplay\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata_pandas\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edata_pandas\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAge\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"s\"\u003e'30'\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# であるべきが\u003c/span\u003e\n\u003cspan class=\"n\"\u003edisplay\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata_pandas\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edata_pandas\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAge\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e30\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# となっていた\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e本書の誤植？いずれにせよ単純なことなので次からこういうミスは無くしたい。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"おわりに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eおわりに\u003c/h1\u003e\n\n\u003cp\u003e次回はアイリスのクラス分類を行う。\u003c/p\u003e\n","body":"#はじめに\npyhonではじめる機械学習の復習\n\n#Numpy配列\nscikit-learnはNumpy配列でデータを受け取るため，使用するデータはNumpy配列に変換する必要がある。下記の配列がNumpy配列のコアとなる多次元配列（ndarrayクラス）である。\n\n```python\nIn[1]:\nimport numpy as np\n\nx = np.array([[1, 2, 3], [4, 5, 6]])\nprint(\"x:\\n{}\".format(x))\n\nOut[1]:\nx:\n[[1 2 3]\n [4 5 6]]\n```\n\n#SciPy\nSciPyとはPythonで科学技術計算を行うための関数を集めたもの。scikit-learnではアルゴリズム実装の際にSciPyの関数を使用する。SciPyで最も重要な要素はscipy.sparseであり，これは疎行列（成分のほとんどが0である行列）を表現するもの。疎行列は成分のほとんどがゼロとなっている２次元配列を格納する際に用いられ，scikit-learnで使用されるもう１つのデータ表現である。\n**・eye**\n**・csr_matrix**\n\n```python\nIn[2]:  # eye関数\nimport numpy as np\nfrom scipy import sparse\n\neye = np.eye(4)  # 4 x 4の単位行列（対角成分が1で，非対角成分が0の行列）を作成する\nprint(\"Numpy array:\\n{}\".format(eye))  # Numpy配列を作成する\n\nOut[2]:\nNumpy array:\n[[1. 0. 0. 0.]\n [0. 1. 0. 0.]\n [0. 0. 1. 0.]\n [0. 0. 0. 1.]]\n\n\nIn[3]:  # CSR形式\nsparse_matrix = sparse.csr_matrix(eye)  # 上記のNumPy配列をCSR形式（NumPy配列の非ゼロ要素の座標を抽出する）に格納する\nprint(\"\\nSciPy sparse CSR matrix:\\n{}\".format(sparse_matrix))\n\nOut[3]:\nSciPy sparse CSR matrix:\n  (0, 0)        1.0   # NumPy配列の0行0列\n  (1, 1)        1.0   # NumPy配列の1行1列\n  (2, 2)        1.0   # NumPy配列の2行2列\n  (3, 3)        1.0   # NumPy配列の3行3列\n\n\nIn[4]:  # COO形式\ndata = np.ones(4)  # 1で埋められ4つの要素を持つ1次元配列を作成\nrow_indices = np.arange(4)\ncol_indices = np.arange(4)\neye_coo = sparse.coo_matrix((data, (row_indices, col_indices)))\nprint(\"COO representation:\\n{}\".format(eye_coo))\n\nOut[4]:  # 上のものと同じ疎行列をCOO形式で作成する\nCOO representation:\n  (0, 0)        1.0\n  (1, 1)        1.0\n  (2, 2)        1.0\n  (3, 3)        1.0\n```\n#matplotlib\nmatplotlibはデータや解析結果を可視化するグラフ描画ライブラリである。グラフの描画にはAnacondaのJupyterNotebookを使用する。\n\n```python\nIn[5]:\n%matplotlib inline  # Jupyter Notebookへの表示に必要　%matplotlib notebookでも可\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nx = np.linspace(-10, 10, 100)  # -10から10までを100ステップ区切った配列を作成\ny = np.sin(x)  # 配列xをsin関数のグラフにする\nplt.plot(x, y, marker=\"x\")  # plt.plot(x, y)でグラフを表示　marker=\"x\"で100ステップのマークxを表示する\n```\n　　　　　　　　　　　　↓\nOut[5]:\n\u003cimg width=\"412\" alt=\"4f79a8d25df0148e2bc764d440fa1b78.png\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/402915/44c0e5b9-5496-3a2c-643f-59caaea244f3.png\"\u003e\n\n#pandas\npandasはデータ変換・解析を行い，エクセルシートのような形で結果を表示することができる（これをDataFarameという）。また様々なファイルやデータベースからデータを取り込むこともできる。\n\n```python\nIn[6]:\nimport pandas as pd\nfrom IPython.display import display\n\ndata = {'Name': [\"John\", \"An\", \"Peter\", \"Linda\"], 'Location': [\"New York\", \"Paris\", \"Berlin\", \"London\"], 'Age': [\"20\", \"21\", \"36\", \"43\"]}\ndata_pandas = pd.DataFrame(data)\ndisplay(data_pandas)\n```\nOut[6]:\n　　　　　　↓\n\u003cimg width=\"210\" alt=\"2f0481f1a7b46d8ef5997edfe82c6f1a.png\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/402915/dba1f26f-45b4-9837-ab9e-02803ea9d3ef.png\"\u003e\nまた上記のテーブルに対して，ある条件を満たす項目のみを抽出することができる。下記の例では30歳以上のみを抽出する。\n\n```python\ndisplay(data_pandas)\n↓\ndisplay(data_pandas.Age \u003e 30)\n```\nとするとテーブルが作成されずエラーが発生した。\n\u003cimg width=\"639\" alt=\"0c578cdfad27cc1969063f83191c4ed9.png\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/402915/2beeec62-2a5b-d318-700d-c22558736c96.png\"\u003e\n最後の文章を見てみると「TypeError: '\u003e' not supported between instances of 'str' and 'int'」とある。data_pandas.Ageのstr型と30のint型を比較してるけどできません，と言われてるっぽい。よくみると\n\n```python\ndisplay(data_pandas[data_pandas.Age \u003e '30'])\n# であるべきが\ndisplay(data_pandas[data_pandas.Age \u003e 30])\n# となっていた\n```\n本書の誤植？いずれにせよ単純なことなので次からこういうミスは無くしたい。\n\n#おわりに\n次回はアイリスのクラス分類を行う。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:54:28+09:00","group":null,"id":"763e5215b1204a94f764","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Python","versions":[]},{"name":"初心者","versions":[]},{"name":"Python3","versions":[]}],"title":"Pythonではじめる機械学習　復習","updated_at":"2019-07-09T21:54:28+09:00","url":"https://qiita.com/mamika311/items/763e5215b1204a94f764","user":{"description":"Rails学習中の初心者です。投稿する記事はかなり初歩的な内容かつ備忘録的な感じです。","facebook_id":"","followees_count":1,"followers_count":0,"github_login_name":null,"id":"mamika311","items_count":9,"linkedin_id":"","location":"大阪府堺市","name":"南","organization":"","permanent_id":402915,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/402915/profile-images/1559029117","team_only":false,"twitter_screen_name":"AnaogBIGlove","website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"なんちゃってオンラインターミナル\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AA%E3%82%93%E3%81%A1%E3%82%83%E3%81%A3%E3%81%A6%E3%82%AA%E3%83%B3%E3%83%A9%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%9F%E3%83%8A%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eなんちゃってオンラインターミナル\u003c/h1\u003e\n\n\u003cp\u003eプロジェクトによってはFTP接続しかできないといった環境にたまに参画することもあります。\u003cbr\u003e\n修正の影響範囲調査、バージョン情報などちょっとしたこともファイルのダウンロードやサーバの管理をしている会社への問い合わせなど時間の無駄を排除すべく最低限のことができるオンラインターミナルを記載します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"php\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ewebconsole.php\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"cp\"\u003e\u0026lt;?php\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$command\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$commandResult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eisset\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$_POST\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'command'\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003e$_POST\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'command'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nv\"\u003e$command\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nv\"\u003e$_POST\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'command'\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n    \u003cspan class=\"nv\"\u003e$result\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eshell_exec\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$command\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$result\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"kc\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nv\"\u003e$commandResult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nv\"\u003e$result\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nv\"\u003e$commandResult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"実行結果はありません。。。\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$html\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eEOM\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;!\u003c/span\u003e\u003cspan class=\"nx\"\u003edoctype\u003c/span\u003e \u003cspan class=\"nx\"\u003ehtml\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003ehtml\u003c/span\u003e \u003cspan class=\"nx\"\u003elang\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"ja\"\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003ehead\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003emeta\u003c/span\u003e \u003cspan class=\"nx\"\u003echarset\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"UTF-8\"\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eオンラインたーみなる\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003escript\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nx\"\u003escript\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nx\"\u003ehead\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003ebody\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nb\"\u003eheader\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eh1\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eオンラインたーみなる\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nx\"\u003eh1\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nb\"\u003eheader\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003ediv\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eform\u003c/span\u003e \u003cspan class=\"nx\"\u003eaction\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"webconsole.php\"\u003c/span\u003e \u003cspan class=\"nx\"\u003emethod\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"post\"\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003einput\u003c/span\u003e \u003cspan class=\"nx\"\u003etype\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"text\"\u003c/span\u003e \u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"command\"\u003c/span\u003e \u003cspan class=\"nx\"\u003ename\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"command\"\u003c/span\u003e \u003cspan class=\"nx\"\u003erequired\u003c/span\u003e \u003cspan class=\"nx\"\u003esize\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"10\"\u003c/span\u003e \u003cspan class=\"nx\"\u003evalue\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nv\"\u003e$command\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"nx\"\u003eplaceholder\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"コマンドを入力してください。\"\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003ebutton\u003c/span\u003e \u003cspan class=\"nx\"\u003etype\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"submit\"\u003c/span\u003e \u003cspan class=\"nx\"\u003evalue\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"ボタン\"\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eボタンの内容\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nx\"\u003ebutton\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nx\"\u003eform\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003ediv\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003epre\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nv\"\u003e$commandResult\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nx\"\u003epre\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nx\"\u003ediv\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nx\"\u003ediv\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003efooter\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eaddress\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eCopyright\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eC\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"nx\"\u003eDsuke\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"nx\"\u003eAllright\u003c/span\u003e \u003cspan class=\"nx\"\u003eReserved\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u0026lt;/\u003c/span\u003e\u003cspan class=\"nx\"\u003eaddress\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nx\"\u003efooter\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nx\"\u003ebody\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nx\"\u003ehtml\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eEOM\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$html\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこのソースだけでも事足りますが多少はデザインはしておきたいところです。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/846d7281c7ebf083745c9c0ea9b4aa36c205395a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3137313132362f38316230663134662d613764312d356437392d666434342d3763333265633939363065622e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"342\" alt=\"00.jpg\" src=\"https://camo.qiitausercontent.com/846d7281c7ebf083745c9c0ea9b4aa36c205395a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3137313132362f38316230663134662d613764312d356437392d666434342d3763333265633939363065622e6a706567\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/171126/81b0f14f-a7d1-5d79-fd44-7c32ec9960eb.jpeg\"\u003e\u003c/a\u003e　　→　　\u003ca href=\"https://camo.qiitausercontent.com/f12dadf2cf28bc49d0c3da0c52a439de8a847a5c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3137313132362f61626437313333362d376330362d386432632d343130352d3330663832306535323939352e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"342\" alt=\"01.jpg\" src=\"https://camo.qiitausercontent.com/f12dadf2cf28bc49d0c3da0c52a439de8a847a5c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3137313132362f61626437313333362d376330362d386432632d343130352d3330663832306535323939352e6a706567\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/171126/abd71336-7c06-8d2c-4105-30f820e52995.jpeg\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e少しやる気を出してデザインした結果が以下です。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"php\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ewebconsole.php\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"cp\"\u003e\u0026lt;?php\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$command\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$commandResult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eisset\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$_POST\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'command'\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003e$_POST\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'command'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nv\"\u003e$command\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nv\"\u003e$_POST\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'command'\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n    \u003cspan class=\"nv\"\u003e$result\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eshell_exec\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$command\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$result\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"kc\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nv\"\u003e$commandResult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nv\"\u003e$result\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nv\"\u003e$commandResult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"実行結果はありません。。。\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"nv\"\u003e$commandResult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u0026lt;div class='box'\u0026gt;\u0026lt;pre\u0026gt;\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nv\"\u003e$commandResult\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026lt;/pre\u0026gt;\u0026lt;/div\u0026gt;\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$html\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eEOM\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;!\u003c/span\u003e\u003cspan class=\"nx\"\u003edoctype\u003c/span\u003e \u003cspan class=\"nx\"\u003ehtml\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003ehtml\u003c/span\u003e \u003cspan class=\"nx\"\u003elang\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"ja\"\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003ehead\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003emeta\u003c/span\u003e \u003cspan class=\"nx\"\u003echarset\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"UTF-8\"\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eオンラインたーみなる\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003estyle\u003c/span\u003e \u003cspan class=\"nx\"\u003etype\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"text/css\"\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;!--\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e#header {\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eposition\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003erelative\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003emargin\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003epadding\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e \u003cspan class=\"mi\"\u003e30\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003efont\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003ebold\u003c/span\u003e \u003cspan class=\"mi\"\u003e22\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"mf\"\u003e1.2\u003c/span\u003e \u003cspan class=\"nx\"\u003eArial\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eHelvetica\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003esans\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003eserif\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"c1\"\u003e#666;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003etext\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003ealign\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003ecenter\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebackground\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"c1\"\u003e#ccc;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eborder\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003etop\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"c1\"\u003e#ccc solid 1px;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eborder\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003eright\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"c1\"\u003e#999 solid 1px;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eborder\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003ebottom\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"c1\"\u003e#999 solid 1px;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eborder\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003eleft\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"c1\"\u003e#ccc solid 1px;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003etext\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003eshadow\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e255\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e255\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e255\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebox\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003eshadow\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"mi\"\u003e0\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e255\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e255\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e255\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mf\"\u003e0.5\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"nx\"\u003einset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebackground\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003eimage\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003ewebkit\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003egradient\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elinear\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eleft\u003c/span\u003e \u003cspan class=\"nx\"\u003etop\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eleft\u003c/span\u003e \u003cspan class=\"nx\"\u003ebottom\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003efrom\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e             \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e220\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e220\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e220\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)),\u003c/span\u003e \n            \u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003estop\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mf\"\u003e0.25\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)),\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003estop\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mf\"\u003e0.30\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)),\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003estop\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mf\"\u003e0.36\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)),\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003estop\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mf\"\u003e0.50\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)),\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003estop\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mf\"\u003e0.80\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e215\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e215\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e215\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)),\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003eto\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e                 \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e210\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e210\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e210\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebackground\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003eimage\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003ewebkit\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003elinear\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003egradient\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etop\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e220\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e220\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e220\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"mi\"\u003e25\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"mi\"\u003e30\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"mi\"\u003e36\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"mi\"\u003e50\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e215\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e215\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e215\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"mi\"\u003e80\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e210\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e210\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e210\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebackground\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003eimage\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003emoz\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003elinear\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003egradient\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etop\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e220\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e220\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e220\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"mi\"\u003e25\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"mi\"\u003e30\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"mi\"\u003e36\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"mi\"\u003e50\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e215\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e215\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e215\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"mi\"\u003e80\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e210\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e210\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e210\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebackground\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003eimage\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003eo\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003elinear\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003egradient\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etop\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e220\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e220\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e220\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"mi\"\u003e25\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"mi\"\u003e30\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"mi\"\u003e36\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"mi\"\u003e50\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e215\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e215\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e215\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"mi\"\u003e80\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e210\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e210\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e210\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebackground\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003eimage\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003elinear\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003egradient\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eto\u003c/span\u003e \u003cspan class=\"nx\"\u003ebottom\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e220\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e220\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e220\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"mi\"\u003e25\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"mi\"\u003e30\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"mi\"\u003e36\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e235\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"mi\"\u003e50\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e215\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e215\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e215\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"mi\"\u003e80\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ergba\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e210\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e210\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e210\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e#header:before {\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003econtent\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"s2\"\u003e\" \"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eposition\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003eabsolute\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003etop\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eleft\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e15\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ewidth\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eheight\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eborder\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003eleft\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"c1\"\u003e#ccc solid 1px;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e#header:after {\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003econtent\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"s2\"\u003e\" \"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eposition\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003eabsolute\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003etop\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eleft\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e16\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ewidth\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eheight\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eborder\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003eright\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"c1\"\u003e#eee solid 1px;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecmd_input\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eposition\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003erelative\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ewidth\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e90\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003emargin\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecmd_input\u003c/span\u003e \u003cspan class=\"nx\"\u003einput\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003etype\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e'text'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003efont\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e15\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"mi\"\u003e24\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e \u003cspan class=\"nx\"\u003esans\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003eserif\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebox\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003esizing\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eborder\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003ebox\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ewidth\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eletter\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003espacing\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003epadding\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003eleft\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"nx\"\u003eem\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e#ffffff;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebackground\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e#000000;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecmd_input\u003c/span\u003e \u003cspan class=\"nx\"\u003einput\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003etype\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e'text'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eoutline\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003enone\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eeffect\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003epadding\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e7\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e \u003cspan class=\"mi\"\u003e14\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003etransition\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.4\u003c/span\u003e\u003cspan class=\"nx\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eborder\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e \u003cspan class=\"nx\"\u003esolid\u003c/span\u003e \u003cspan class=\"c1\"\u003e#000000;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebackground\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003etransparent\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e#ffffff;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebackground\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e#000000;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eeffect\u003c/span\u003e \u003cspan class=\"o\"\u003e~\u003c/span\u003e \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus_line\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003ebefore\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eeffect\u003c/span\u003e \u003cspan class=\"o\"\u003e~\u003c/span\u003e \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus_line\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003eafter\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eposition\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eabsolute\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003etop\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eleft\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e50\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ewidth\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eheight\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003econtent\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e''\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003etransition\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.4\u003c/span\u003e\u003cspan class=\"nx\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebackground\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e#00ff00;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eeffect\u003c/span\u003e \u003cspan class=\"o\"\u003e~\u003c/span\u003e \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus_line\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003eafter\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003etop\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eauto\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebottom\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eeffect\u003c/span\u003e \u003cspan class=\"o\"\u003e~\u003c/span\u003e \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus_line\u003c/span\u003e \u003cspan class=\"nx\"\u003ei\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003ebefore\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eeffect\u003c/span\u003e \u003cspan class=\"o\"\u003e~\u003c/span\u003e \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus_line\u003c/span\u003e \u003cspan class=\"nx\"\u003ei\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003eafter\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eposition\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eabsolute\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003etop\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e50\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eleft\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ewidth\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eheight\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003econtent\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e''\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003etransition\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.6\u003c/span\u003e\u003cspan class=\"nx\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebackground\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e#00ff00;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eeffect\u003c/span\u003e \u003cspan class=\"o\"\u003e~\u003c/span\u003e \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus_line\u003c/span\u003e \u003cspan class=\"nx\"\u003ei\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003eafter\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eright\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eleft\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eauto\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eeffect\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus\u003c/span\u003e \u003cspan class=\"o\"\u003e~\u003c/span\u003e \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus_line\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003ebefore\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eeffect\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus\u003c/span\u003e \u003cspan class=\"o\"\u003e~\u003c/span\u003e \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus_line\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003eafter\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecmd_input\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eef\u003c/span\u003e \u003cspan class=\"o\"\u003e~\u003c/span\u003e \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus_line\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003ebefore\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecmd_input\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eef\u003c/span\u003e \u003cspan class=\"o\"\u003e~\u003c/span\u003e \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus_line\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003eafter\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eleft\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ewidth\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003etransition\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.4\u003c/span\u003e\u003cspan class=\"nx\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eeffect\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus\u003c/span\u003e \u003cspan class=\"o\"\u003e~\u003c/span\u003e \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus_line\u003c/span\u003e \u003cspan class=\"nx\"\u003ei\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003ebefore\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eeffect\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus\u003c/span\u003e \u003cspan class=\"o\"\u003e~\u003c/span\u003e \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus_line\u003c/span\u003e \u003cspan class=\"nx\"\u003ei\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003eafter\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecmd_input\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eef\u003c/span\u003e \u003cspan class=\"o\"\u003e~\u003c/span\u003e \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus_line\u003c/span\u003e \u003cspan class=\"nx\"\u003ei\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003ebefore\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecmd_input\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eef\u003c/span\u003e \u003cspan class=\"o\"\u003e~\u003c/span\u003e \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus_line\u003c/span\u003e \u003cspan class=\"nx\"\u003ei\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003eafter\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003etop\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eheight\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003etransition\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.6\u003c/span\u003e\u003cspan class=\"nx\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eeffect\u003c/span\u003e \u003cspan class=\"o\"\u003e~\u003c/span\u003e \u003cspan class=\"nx\"\u003elabel\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eposition\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eabsolute\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ez\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003eindex\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003etop\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eleft\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e30\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ewidth\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003etransition\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.3\u003c/span\u003e\u003cspan class=\"nx\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eletter\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003espacing\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.5\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e#00ff00;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eeffect\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus\u003c/span\u003e \u003cspan class=\"o\"\u003e~\u003c/span\u003e \u003cspan class=\"nx\"\u003elabel\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecmd_input\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eef\u003c/span\u003e \u003cspan class=\"o\"\u003e~\u003c/span\u003e \u003cspan class=\"nx\"\u003elabel\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003efont\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003esize\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e18\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003etop\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eleft\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003etransition\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.3\u003c/span\u003e\u003cspan class=\"nx\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e#000000;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"nx\"\u003ebutton\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ebutton\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003efont\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003esize\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"nx\"\u003eem\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003efont\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003eweight\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003ebold\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003epadding\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e \u003cspan class=\"mi\"\u003e15\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebackground\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e#c0c0c0;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e#191970;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eborder\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e \u003cspan class=\"nx\"\u003esolid\u003c/span\u003e \u003cspan class=\"c1\"\u003e#000000;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003ebutton\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ebutton\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003ehover\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebackground\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e#000000;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e#00ff00;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ebox\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003epadding\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e8\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e \u003cspan class=\"mi\"\u003e19\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003emargin\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"nx\"\u003eem\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e#2c2c2f;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebackground\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e#cde4ff;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eborder\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003etop\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003esolid\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e \u003cspan class=\"c1\"\u003e#00ff00;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eborder\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003ebottom\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003esolid\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e \u003cspan class=\"c1\"\u003e#00ff00;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebackground\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e#000000;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ebox\u003c/span\u003e \u003cspan class=\"nx\"\u003epre\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003emargin\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \n    \u003cspan class=\"nx\"\u003epadding\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e#ffffff;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"nx\"\u003efooter\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003efont\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003esize\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e80\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ewidth\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e99\u003c/span\u003e\u003cspan class=\"o\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003etext\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003ealign\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003ecenter\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003epadding\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003etop\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003epadding\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003ebottom\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebackground\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e#313131;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eposition\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eabsolute\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebottom\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"nx\"\u003efooter\u003c/span\u003e \u003cspan class=\"nx\"\u003eaddress\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e#ffffff;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eletter\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003espacing\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"nx\"\u003epx\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003efont\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003estyle\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003enormal\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e--\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nx\"\u003estyle\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nx\"\u003ehead\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003ebody\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nb\"\u003eheader\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eh1\u003c/span\u003e \u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"header\"\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eオンラインたーみなる\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nx\"\u003eh1\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nb\"\u003eheader\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eform\u003c/span\u003e \u003cspan class=\"nx\"\u003eaction\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"webconsole.php\"\u003c/span\u003e \u003cspan class=\"nx\"\u003emethod\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"post\"\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003ediv\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e\u003cspan class=\"err\"\u003e=\"\u003c/span\u003e\u003cspan class=\"nc\"\u003ecmd_input\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u0026gt;\n\u0026lt;input class=\"\u003c/span\u003e\u003cspan class=\"nx\"\u003eeffect\u003c/span\u003e\u003cspan class=\"s2\"\u003e\" type=\"\u003c/span\u003e\u003cspan class=\"nx\"\u003etext\u003c/span\u003e\u003cspan class=\"s2\"\u003e\" id=\"\u003c/span\u003e\u003cspan class=\"nx\"\u003ecommand\u003c/span\u003e\u003cspan class=\"s2\"\u003e\" name=\"\u003c/span\u003e\u003cspan class=\"nx\"\u003ecommand\u003c/span\u003e\u003cspan class=\"s2\"\u003e\" value=\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nv\"\u003e$command\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\" placeholder=\"\"\u0026gt;\n\u0026lt;label\u0026gt;コマンドを入力してください。\u0026lt;/label\u0026gt;\n\u0026lt;span class=\"\u003c/span\u003e\u003cspan class=\"nx\"\u003efocus_line\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u0026gt;\u0026lt;i\u0026gt;\u0026lt;/i\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;center\u0026gt;\u0026lt;button class=\"\u003c/span\u003e\u003cspan class=\"nx\"\u003ebutton\u003c/span\u003e\u003cspan class=\"s2\"\u003e\" type=\"\u003c/span\u003e\u003cspan class=\"nx\"\u003esubmit\u003c/span\u003e\u003cspan class=\"s2\"\u003e\" value=\"\u003c/span\u003e\u003cspan class=\"nx\"\u003e実行\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u0026gt;実行\u0026lt;/button\u0026gt;\u0026lt;/center\u0026gt;\n\u0026lt;/form\u0026gt;\n\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nv\"\u003e$commandResult\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u0026lt;footer\u0026gt;\n\u0026lt;address\u0026gt;Copyright(C) Dsuke,Allright Reserved.\u0026lt;/address\u0026gt;\n\u0026lt;/footer\u0026gt;\n\u0026lt;/body\u0026gt;\n\u0026lt;/html\u0026gt;\nEOM;\n\necho \u003c/span\u003e\u003cspan class=\"nv\"\u003e$html\u003c/span\u003e\u003cspan class=\"s2\"\u003e;\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/cab116dd559432d9009a760fc65f7e49b79bfb76/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3137313132362f62303537623935612d383433372d623363392d653662362d3531383030633938616138302e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"342\" alt=\"02.jpg\" src=\"https://camo.qiitausercontent.com/cab116dd559432d9009a760fc65f7e49b79bfb76/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3137313132362f62303537623935612d383433372d623363392d653662362d3531383030633938616138302e6a706567\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/171126/b057b95a-8437-b3c9-e6b6-51800c98aa80.jpeg\"\u003e\u003c/a\u003e　　→　　\u003ca href=\"https://camo.qiitausercontent.com/745d62bd7c6710cdd5e650fa3df91b6a9957ebf1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3137313132362f31346665333537312d643335352d613536312d643831632d3665663736386665643165662e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"342\" alt=\"03.jpg\" src=\"https://camo.qiitausercontent.com/745d62bd7c6710cdd5e650fa3df91b6a9957ebf1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3137313132362f31346665333537312d643335352d613536312d643831632d3665663736386665643165662e6a706567\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/171126/14fe3571-d355-a561-d81c-6ef768fed1ef.jpeg\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e見れるレベルにはなったかと思います。（だれかデザインしてくれ）\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"最後に\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最後に\u003c/h4\u003e\n\n\u003cp\u003e・バリデーションなど行っていないため各自実装してください\u003cbr\u003e\n・適当に流用してください\u003cbr\u003e\n・いい感じのデザイン求む（ください）\u003c/p\u003e\n","body":"#なんちゃってオンラインターミナル\n\nプロジェクトによってはFTP接続しかできないといった環境にたまに参画することもあります。\n修正の影響範囲調査、バージョン情報などちょっとしたこともファイルのダウンロードやサーバの管理をしている会社への問い合わせなど時間の無駄を排除すべく最低限のことができるオンラインターミナルを記載します。\n\n```php:webconsole.php\n\u003c?php\n$command = \"\";\n$commandResult = \"\";\nif (isset($_POST['command']) \u0026\u0026 $_POST['command'] != \"\") {\n    $command = $_POST['command'];\n    $result = shell_exec($command);\n    if ($result != null) {\n        $commandResult = $result;\n    } else {\n        $commandResult = \"実行結果はありません。。。\";\n    }\n}\n$html = \u003c\u003c\u003c EOM\n\u003c!doctype html\u003e\n\u003chtml lang=\"ja\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"UTF-8\"\u003e\n\u003ctitle\u003eオンラインたーみなる\u003c/title\u003e\n\u003cscript\u003e\n\u003c/script\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cheader\u003e\n\u003ch1\u003eオンラインたーみなる\u003c/h1\u003e\n\u003c/header\u003e\n\u003cdiv\u003e\n\u003cform action=\"webconsole.php\" method=\"post\"\u003e\n\u003cinput type=\"text\" id=\"command\" name=\"command\" required size=\"10\" value=\"{$command}\" placeholder=\"コマンドを入力してください。\"\u003e\n\u003cbutton type=\"submit\" value=\"ボタン\"\u003eボタンの内容\u003c/button\u003e\n\u003c/form\u003e\n\u003cdiv\u003e\n\u003cpre\u003e{$commandResult}\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cfooter\u003e\n\u003caddress\u003eCopyright(C) Dsuke,Allright Reserved.\u003c/address\u003e\n\u003c/footer\u003e\n\u003c/body\u003e\n\u003c/html\u003e\nEOM;\n\necho $html;\n```\n\nこのソースだけでも事足りますが多少はデザインはしておきたいところです。\n\u003cimg width=\"342\" alt=\"00.jpg\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/171126/81b0f14f-a7d1-5d79-fd44-7c32ec9960eb.jpeg\"\u003e　　→　　\u003cimg width=\"342\" alt=\"01.jpg\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/171126/abd71336-7c06-8d2c-4105-30f820e52995.jpeg\"\u003e\n\n\n少しやる気を出してデザインした結果が以下です。\n\n```php:webconsole.php\n\u003c?php\n$command = \"\";\n$commandResult = \"\";\nif (isset($_POST['command']) \u0026\u0026 $_POST['command'] != \"\") {\n    $command = $_POST['command'];\n    $result = shell_exec($command);\n    if ($result != null) {\n        $commandResult = $result;\n    } else {\n        $commandResult = \"実行結果はありません。。。\";\n    }\n    $commandResult = \"\u003cdiv class='box'\u003e\u003cpre\u003e{$commandResult}\u003c/pre\u003e\u003c/div\u003e\";\n}\n$html = \u003c\u003c\u003c EOM\n\u003c!doctype html\u003e\n\u003chtml lang=\"ja\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"UTF-8\"\u003e\n\u003ctitle\u003eオンラインたーみなる\u003c/title\u003e\n\u003cstyle type=\"text/css\"\u003e\n\u003c!--\n#header {\n    position:relative;\n    margin:0 10px;\n    padding:10px 10px 10px 30px;\n    font:bold 22px/1.2 Arial, Helvetica, sans-serif;\n    color:#666;\n    text-align: center;\n    background:#ccc;\n    border-top:#ccc solid 1px;\n    border-right:#999 solid 1px;\n    border-bottom:#999 solid 1px;\n    border-left:#ccc solid 1px;\n    text-shadow:1px 1px 0 rgba(255,255,255,1);\n    box-shadow:\n        0 0 0 1px rgba(255,255,255,0.5) inset;\n    background-image: -webkit-gradient(linear, left top, left bottom,\n            from(             rgba(220, 220, 220, 1.0)), \n            color-stop(0.25, rgba(240, 240, 240, 1.0)),\n            color-stop(0.30, rgba(235, 235, 235, 1.0)),\n            color-stop(0.36, rgba(240, 240, 240, 1.0)),\n            color-stop(0.50, rgba(235, 235, 235, 1.0)),\n            color-stop(0.80, rgba(215, 215, 215, 1.0)),\n            to(                 rgba(210, 210, 210, 1.0))\n            );\n    background-image: -webkit-linear-gradient(top,\n            rgba(220, 220, 220, 1.0), \n            rgba(240, 240, 240, 1.0) 25%,\n            rgba(235, 235, 235, 1.0) 30%,\n            rgba(240, 240, 240, 1.0) 36%,\n            rgba(235, 235, 235, 1.0) 50%,\n            rgba(215, 215, 215, 1.0) 80%,\n            rgba(210, 210, 210, 1.0)\n            );\n    background-image: -moz-linear-gradient(top,\n            rgba(220, 220, 220, 1.0), \n            rgba(240, 240, 240, 1.0) 25%,\n            rgba(235, 235, 235, 1.0) 30%,\n            rgba(240, 240, 240, 1.0) 36%,\n            rgba(235, 235, 235, 1.0) 50%,\n            rgba(215, 215, 215, 1.0) 80%,\n            rgba(210, 210, 210, 1.0)\n            );\n    background-image: -o-linear-gradient(top,\n            rgba(220, 220, 220, 1.0), \n            rgba(240, 240, 240, 1.0) 25%,\n            rgba(235, 235, 235, 1.0) 30%,\n            rgba(240, 240, 240, 1.0) 36%,\n            rgba(235, 235, 235, 1.0) 50%,\n            rgba(215, 215, 215, 1.0) 80%,\n            rgba(210, 210, 210, 1.0)\n            );\n    background-image: linear-gradient(to bottom,\n            rgba(220, 220, 220, 1.0), \n            rgba(240, 240, 240, 1.0) 25%,\n            rgba(235, 235, 235, 1.0) 30%,\n            rgba(240, 240, 240, 1.0) 36%,\n            rgba(235, 235, 235, 1.0) 50%,\n            rgba(215, 215, 215, 1.0) 80%,\n            rgba(210, 210, 210, 1.0)\n            );\n}\n#header:before {\n    content:\" \";\n    position:absolute;\n    top:0;\n    left:15px;\n    width:0;\n    height:100%;\n    border-left:#ccc solid 1px;\n}\n#header:after {\n    content:\" \";\n    position:absolute;\n    top:0;\n    left:16px;\n    width:0;\n    height:100%;\n    border-right:#eee solid 1px;\n}\n.cmd_input {\n    position: relative;\n    width: 90%;\n    margin: 40px 3%;\n}\n.cmd_input input[type='text'] {\n    font: 15px/24px sans-serif;\n    box-sizing: border-box;\n    width: 100%;\n    letter-spacing: 1px;\n    padding-left: 1em;\n    color: #ffffff;\n    background-color: #000000;\n}\n.cmd_input input[type='text']:focus {\n    outline: none;\n}\n.effect {\n    padding: 7px 14px;\n    transition: 0.4s;\n    border: 1px solid #000000;\n    background: transparent;\n    color: #ffffff;\n    background-color: #000000;\n}\n.effect ~ .focus_line:before,\n.effect ~ .focus_line:after {\n    position: absolute;\n    top: -1px;\n    left: 50%;\n    width: 0;\n    height: 2px;\n    content: '';\n    transition: 0.4s;\n    background-color: #00ff00;\n}\n.effect ~ .focus_line:after {\n    top: auto;\n    bottom: 0;\n}\n.effect ~ .focus_line i:before,\n.effect ~ .focus_line i:after {\n    position: absolute;\n    top: 50%;\n    left: 0;\n    width: 2px;\n    height: 0;\n    content: '';\n    transition: 0.6s;\n    background-color: #00ff00;\n}\n.effect ~ .focus_line i:after {\n    right: 0;\n    left: auto;\n}\n.effect:focus ~ .focus_line:before,\n.effect:focus ~ .focus_line:after,\n.cmd_input.ef ~ .focus_line:before,\n.cmd_input.ef ~ .focus_line:after {\n    left: 0;\n    width: 100%;\n    transition: 0.4s;\n}\n.effect:focus ~ .focus_line i:before,\n.effect:focus ~ .focus_line i:after,\n.cmd_input.ef ~ .focus_line i:before,\n.cmd_input.ef ~ .focus_line i:after {\n    top: -1px;\n    height: 100%;\n    transition: 0.6s;\n}\n.effect ~ label {\n    position: absolute;\n    z-index: -1;\n    top: 10px;\n    left:30px;\n    width: 100%;\n    transition: 0.3s;\n    letter-spacing: 0.5px;\n    color: #00ff00;\n}\n.effect:focus ~ label,\n.cmd_input.ef ~ label {\n    font-size: 18px;\n    top: -20px;\n    left: 0;\n    transition: 0.3s;\n    color: #000000;\n}\nbutton.button {\n    font-size: 1.0em;\n    font-weight: bold;\n    padding: 5px 15px;\n    background-color: #c0c0c0;\n    color: #191970;\n    border: 2px solid #000000;\n}\n\nbutton.button:hover {\n    background-color: #000000;\n    color: #00ff00;\n}\n.box {\n    padding: 8px 19px;\n    margin: 2em 0;\n    color: #2c2c2f;\n    background: #cde4ff;\n    border-top: solid 5px #00ff00;\n    border-bottom: solid 5px #00ff00;\n    background-color: #000000;\n}\n.box pre {\n    margin: 0; \n    padding: 0;\n    color: #ffffff;\n}\nfooter {\n    font-size: 80%;\n    width: 99%;\n    text-align: center;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    background-color: #313131;\n    position: absolute;\n    bottom: 0;\n}\nfooter address {\n    color: #ffffff;\n    letter-spacing: 5px;\n    font-style: normal;\n}\n--\u003e\n\u003c/style\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cheader\u003e\n\u003ch1 id=\"header\"\u003eオンラインたーみなる\u003c/h1\u003e\n\u003c/header\u003e\n\u003cform action=\"webconsole.php\" method=\"post\"\u003e\n\u003cdiv class=\"cmd_input\"\u003e\n\u003cinput class=\"effect\" type=\"text\" id=\"command\" name=\"command\" value=\"{$command}\" placeholder=\"\"\u003e\n\u003clabel\u003eコマンドを入力してください。\u003c/label\u003e\n\u003cspan class=\"focus_line\"\u003e\u003ci\u003e\u003c/i\u003e\u003c/span\u003e\n\u003c/div\u003e\n\u003ccenter\u003e\u003cbutton class=\"button\" type=\"submit\" value=\"実行\"\u003e実行\u003c/button\u003e\u003c/center\u003e\n\u003c/form\u003e\n{$commandResult}\n\u003cfooter\u003e\n\u003caddress\u003eCopyright(C) Dsuke,Allright Reserved.\u003c/address\u003e\n\u003c/footer\u003e\n\u003c/body\u003e\n\u003c/html\u003e\nEOM;\n\necho $html;\n```\n\n\u003cimg width=\"342\" alt=\"02.jpg\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/171126/b057b95a-8437-b3c9-e6b6-51800c98aa80.jpeg\"\u003e　　→　　\u003cimg width=\"342\" alt=\"03.jpg\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/171126/14fe3571-d355-a561-d81c-6ef768fed1ef.jpeg\"\u003e\n\n\n見れるレベルにはなったかと思います。（だれかデザインしてくれ）\n\n####最後に\n・バリデーションなど行っていないため各自実装してください\n・適当に流用してください\n・いい感じのデザイン求む（ください）\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:53:09+09:00","group":null,"id":"76be99df836a35f8a66f","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"PHP","versions":[]},{"name":"オンラインターミナル","versions":[]}],"title":"なんちゃってオンラインターミナル","updated_at":"2019-07-09T21:53:09+09:00","url":"https://qiita.com/dsk91/items/76be99df836a35f8a66f","user":{"description":"ゆるふわ系ぷろぐらまです","facebook_id":"","followees_count":0,"followers_count":0,"github_login_name":null,"id":"dsk91","items_count":1,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":171126,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/171126/profile-images/1553153073","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch2\u003e\n\u003cspan id=\"差分を追加するよ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%B7%AE%E5%88%86%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B%E3%82%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e差分を追加するよ！\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ git add -A\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"どんなアップデートするか明示\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%A9%E3%82%93%E3%81%AA%E3%82%A2%E3%83%83%E3%83%97%E3%83%87%E3%83%BC%E3%83%88%E3%81%99%E3%82%8B%E3%81%8B%E6%98%8E%E7%A4%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eどんなアップデートするか明示\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ git commit -m \"[コメントここは自分が分かるように記述！]\"\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"herokuに繋げる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#heroku%E3%81%AB%E7%B9%8B%E3%81%92%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eHerokuに繋げる！\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ git push heroku master\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"完了\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%8C%E4%BA%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e完了\u003c/h1\u003e\n","body":"##差分を追加するよ！\n\n```\n$ git add -A\n```\n\n##どんなアップデートするか明示\n\n```\n$ git commit -m \"[コメントここは自分が分かるように記述！]\"\n```\n\n##Herokuに繋げる！\n\n```\n$ git push heroku master\n```\n\n#完了\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:47:47+09:00","group":null,"id":"d7a8f892e8d1a8725323","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Git","versions":[]},{"name":"Heroku","versions":[]},{"name":"AWS","versions":[]}],"title":"デプロイ後、差分をアップデートする方法","updated_at":"2019-07-09T21:47:47+09:00","url":"https://qiita.com/ysk_lab/items/d7a8f892e8d1a8725323","user":{"description":"MARCH現役大学生。大学から情報技術を学びはじめました。","facebook_id":"","followees_count":3,"followers_count":0,"github_login_name":null,"id":"ysk_lab","items_count":5,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":390152,"profile_image_url":"https://pbs.twimg.com/profile_images/1086130106903347200/vcGWA-la_bigger.jpg","team_only":false,"twitter_screen_name":"Innovator_ysk","website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"初めに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%88%9D%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e初めに\u003c/h1\u003e\n\n\u003cp\u003e実務なんかで使えません。\u003cbr\u003e\nフレームワークとか高尚なものは使いません。\u003cbr\u003e\nというか使えません。\u003c/p\u003e\n\n\u003cp\u003eめっちゃ簡単にできたので投稿\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"コメント機能\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%A1%E3%83%B3%E3%83%88%E6%A9%9F%E8%83%BD\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコメント機能\u003c/h1\u003e\n\n\u003cp\u003eフォームを作り、その下にコメントを表示するだけ\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/77dbfca3476dda8cffbc6a3f5a6b75f91e7a854d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3339373231322f30306361316537612d613564362d623036342d343466382d6232393662613037643131622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/77dbfca3476dda8cffbc6a3f5a6b75f91e7a854d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3339373231322f30306361316537612d613564362d623036342d343466382d6232393662613037643131622e706e67\" alt=\"chrome.PNG\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/397212/00ca1e7a-a5d6-b064-44f8-b296ba07d11b.png\"\u003e\u003c/a\u003e\u003cbr\u003e\nコメントを入力、送信\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/08c55911f1f899937184965875d04e5da8a1e938/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3339373231322f33613039653139352d376562342d343233312d383566322d6637366265323065646331362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/08c55911f1f899937184965875d04e5da8a1e938/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3339373231322f33613039653139352d376562342d343233312d383566322d6637366265323065646331362e706e67\" alt=\"chrome2.PNG\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/397212/3a09e195-7eb4-4231-85f2-f76be20edc16.png\"\u003e\u003c/a\u003e\u003cbr\u003e\nコメントが表示される\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/9ee42dd2e9d3ae86925db4eb566a4b7cd2a6717e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3339373231322f34356436366437392d616333612d636565642d363233612d3131346433343762653536302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/9ee42dd2e9d3ae86925db4eb566a4b7cd2a6717e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3339373231322f34356436366437392d616333612d636565642d363233612d3131346433343762653536302e706e67\" alt=\"chrome3.PNG\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/397212/45d66d79-ac3a-ceed-623a-114d347be560.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"手順\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%89%8B%E9%A0%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e手順\u003c/h1\u003e\n\n\u003cp\u003e1.適当なディレクトリ(Aとする)にcgi-binディレクトリを作る。\u003cbr\u003e\n2.その中に以下のプログラムをコピペし、comment.pyと名付ける。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecomment.py\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"c\"\u003e#! /usr/bin/env python3\u003c/span\u003e\n\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003esqlite3\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003ecsv\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003ecgi\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003esys\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003eio\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003edatetime\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003edatetime\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003esys\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estdout\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eio\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTextIOWrapper\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esys\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estdout\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003ebuffer\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eencoding\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"utf-8\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003edb_path\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"./comment.db\"\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003econ\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esqlite3\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econnect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edb_path\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003econ\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erow_factory\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esqlite3\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRow\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003ecur\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003econ\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecursor\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003ehtmlText\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003etry\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n   \u003cspan class=\"n\"\u003ecur\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eexecute\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n       \u003cspan class=\"s\"\u003e\"create table if not exists commentTable(id integer primary key autoincrement, comment text, date datetime);\"\u003c/span\u003e\n   \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexcept\u003c/span\u003e \u003cspan class=\"n\"\u003esqlite3\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n   \u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ERROR:\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eform\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecgi\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFieldStorage\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"n\"\u003einput_comment\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eform\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003egetvalue\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"comment\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003etry\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003einput_comment\u003c/span\u003e \u003cspan class=\"ow\"\u003eis\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"bp\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003edate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003edatetime\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enow\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estrftime\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"si\"\u003e%\u003c/span\u003e\u003cspan class=\"s\"\u003eY/\u003c/span\u003e\u003cspan class=\"si\"\u003e%\u003c/span\u003e\u003cspan class=\"s\"\u003em/\u003c/span\u003e\u003cspan class=\"si\"\u003e%\u003c/span\u003e\u003cspan class=\"s\"\u003ed \u003c/span\u003e\u003cspan class=\"si\"\u003e%\u003c/span\u003e\u003cspan class=\"s\"\u003eH:\u003c/span\u003e\u003cspan class=\"si\"\u003e%\u003c/span\u003e\u003cspan class=\"s\"\u003eM:\u003c/span\u003e\u003cspan class=\"si\"\u003e%\u003c/span\u003e\u003cspan class=\"s\"\u003eS\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ecur\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eexecute\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"insert into commentTable(comment, date)values(?, ?);\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einput_comment\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexcept\u003c/span\u003e \u003cspan class=\"n\"\u003esqlite3\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ERROR:\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eshow_database\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e\n    \u003cspan class=\"k\"\u003etry\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n       \u003cspan class=\"n\"\u003ecur\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eexecute\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"select * from commentTable;\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eexcept\u003c/span\u003e \u003cspan class=\"n\"\u003esqlite3\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n       \u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ERROR:\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n       \u003cspan class=\"n\"\u003edebug\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"except completed\"\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eshow_database\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003erows\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecur\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efetchall\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"n\"\u003erows\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n   \u003cspan class=\"n\"\u003ehtmlText\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"コメントはありません。\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003eelse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n   \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003erow\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003erows\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n       \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003erow\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"id\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]):\u003c/span\u003e\n           \u003cspan class=\"n\"\u003ehtmlText\u003c/span\u003e \u003cspan class=\"o\"\u003e+=\u003c/span\u003e \u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003erow\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"date\"\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\u0026lt;br\u0026gt;\"\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003erow\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"comment\"\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\u0026lt;/br\u0026gt;\"\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003econ\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecommit\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"n\"\u003econ\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eclose\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Content-type: text/html; charset=utf-8\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n   \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"s\"\u003e'''\n    \u0026lt;!DOCTYPE html\u0026gt;\n    \u0026lt;html lang=\"en\" dir=\"ltr\"\u0026gt;\n      \u0026lt;head\u0026gt;\n        \u0026lt;meta charset=\"utf-8\"\u0026gt;\n        \u0026lt;title\u0026gt;コメント\u0026lt;/title\u0026gt;\n      \u0026lt;/head\u0026gt;\n      \u0026lt;body\u0026gt;\n        \u0026lt;div id=\"comment-div\" class=\"\"\u0026gt;\n          \u0026lt;h1\u0026gt;コメント\u0026lt;/h1\u0026gt;\n          \u0026lt;p\u0026gt;コメントを入力して下さい。\u0026lt;/p\u0026gt;\n          \u0026lt;form name=\"comment-form\" class=\"\" action=\"comment.py\" method=\"post\"\u0026gt;\n            \u0026lt;textarea name=\"comment\" rows=\"8\" cols=\"80\"\u0026gt;\u0026lt;/textarea\u0026gt;\u0026lt;br\u0026gt;\n            \u0026lt;input type=\"submit\" name=\"\" value=\"送信\"\u0026gt;\n          \u0026lt;/form\u0026gt;\n          \u0026lt;p\u0026gt;コメント\u0026lt;/p\u0026gt;\n          {htmlText}\n        \u0026lt;/div\u0026gt;\n      \u0026lt;/body\u0026gt;\n    \u0026lt;/html\u0026gt;\n     '''\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e3.ディレクトリAで次のコマンドを実行する。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ python -m http.server --cgi\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれでローカルサーバが立つ。\u003cbr\u003e\nやめるときは\u003ccode\u003ectrl-c\u003c/code\u003e\u003cbr\u003e\n4.以下のurlにアクセスする。\u003cbr\u003e\n\u003ca href=\"http://localhost:8000/cgi-bin/comment.py\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://localhost:8000/cgi-bin/comment.py\u003c/a\u003e\u003c/p\u003e\n","body":"#初めに\n実務なんかで使えません。\nフレームワークとか高尚なものは使いません。\nというか使えません。\n\nめっちゃ簡単にできたので投稿\n\n#コメント機能\nフォームを作り、その下にコメントを表示するだけ\n![chrome.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/397212/00ca1e7a-a5d6-b064-44f8-b296ba07d11b.png)\nコメントを入力、送信\n![chrome2.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/397212/3a09e195-7eb4-4231-85f2-f76be20edc16.png)\nコメントが表示される\n![chrome3.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/397212/45d66d79-ac3a-ceed-623a-114d347be560.png)\n\n#手順\n1.適当なディレクトリ(Aとする)にcgi-binディレクトリを作る。\n2.その中に以下のプログラムをコピペし、comment.pyと名付ける。\n\n\n```python:comment.py\n#! /usr/bin/env python3\n\nimport sqlite3\nimport csv\nimport cgi\nimport sys\nimport io\nfrom datetime import datetime\n\nsys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding=\"utf-8\")\n\ndb_path = \"./comment.db\"\n\ncon = sqlite3.connect(db_path)\n\ncon.row_factory = sqlite3.Row\n\ncur = con.cursor()\n\nhtmlText = \"\"\n\ntry:\n   cur.execute(\n       \"create table if not exists commentTable(id integer primary key autoincrement, comment text, date datetime);\"\n   )\nexcept sqlite3.Error as e:\n   print(\"ERROR:\", e.args[0])\n\nform = cgi.FieldStorage()\ninput_comment = form.getvalue(\"comment\")\n\ntry:\n    if input_comment is not None:\n        date = datetime.now().strftime(\"%Y/%m/%d %H:%M:%S\")\n        cur.execute(\"insert into commentTable(comment, date)values(?, ?);\", (input_comment, date))\n\nexcept sqlite3.Error as e:\n    print(\"ERROR:\", e.args[0])\n\ndef show_database():\n    try:\n       cur.execute(\"select * from commentTable;\")\n    except sqlite3.Error as e:\n       print(\"ERROR:\", e.args[0])\n       debug = \"except completed\"\n    return 0\n\nshow_database()\n\nrows = cur.fetchall()\n\nif not rows:\n   htmlText = \"コメントはありません。\"\nelse:\n   for row in rows:\n       if str(row[\"id\"]):\n           htmlText += str(row[\"date\"]) + \"\u003cbr\u003e\" + str(row[\"comment\"])+ \"\u003c/br\u003e\"\n\ncon.commit()\ncon.close()\n\nprint(\"Content-type: text/html; charset=utf-8\")\n\nprint(\n   f'''\n    \u003c!DOCTYPE html\u003e\n    \u003chtml lang=\"en\" dir=\"ltr\"\u003e\n      \u003chead\u003e\n        \u003cmeta charset=\"utf-8\"\u003e\n        \u003ctitle\u003eコメント\u003c/title\u003e\n      \u003c/head\u003e\n      \u003cbody\u003e\n        \u003cdiv id=\"comment-div\" class=\"\"\u003e\n          \u003ch1\u003eコメント\u003c/h1\u003e\n          \u003cp\u003eコメントを入力して下さい。\u003c/p\u003e\n          \u003cform name=\"comment-form\" class=\"\" action=\"comment.py\" method=\"post\"\u003e\n            \u003ctextarea name=\"comment\" rows=\"8\" cols=\"80\"\u003e\u003c/textarea\u003e\u003cbr\u003e\n            \u003cinput type=\"submit\" name=\"\" value=\"送信\"\u003e\n          \u003c/form\u003e\n          \u003cp\u003eコメント\u003c/p\u003e\n          {htmlText}\n        \u003c/div\u003e\n      \u003c/body\u003e\n    \u003c/html\u003e\n     '''\n)\n```\n\n3.ディレクトリAで次のコマンドを実行する。\n\n```\n$ python -m http.server --cgi\n```\nこれでローカルサーバが立つ。\nやめるときは`ctrl-c`\n4.以下のurlにアクセスする。\nhttp://localhost:8000/cgi-bin/comment.py\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:43:39+09:00","group":null,"id":"97cb556fe6ff925296ab","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Python","versions":[]},{"name":"SQLite3","versions":[]},{"name":"初心者","versions":[]}],"title":"初心者が10分で実装するコメント機能","updated_at":"2019-07-09T21:43:39+09:00","url":"https://qiita.com/Kobayashi2019/items/97cb556fe6ff925296ab","user":{"description":"大阪工業大学学部3年、専門はロボット。大学院で情報系に行くかも","facebook_id":"","followees_count":3,"followers_count":5,"github_login_name":null,"id":"Kobayashi2019","items_count":8,"linkedin_id":"","location":"大阪","name":"","organization":"大阪工業大学、未来電子テクノロジー株式会社","permanent_id":397212,"profile_image_url":"https://secure.gravatar.com/avatar/d01906e75dcdb6505d472f315c17d238","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\u003cp\u003eこれからQiitaで記事を作成するにあたって、基本的なMarkdown記法を知っておく必要があります。\u003cbr\u003e\nなぜなら内容が良くても、分かりにくく記載されていると読み手にとっても理解スピードが遅くなってしまいます。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"リンク\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AA%E3%83%B3%E3%82%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eリンク\u003c/h1\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"記述例\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A8%98%E8%BF%B0%E4%BE%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e記述例\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"markdown\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eリンク\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nv\"\u003e見出し\u003c/span\u003e\u003cspan class=\"p\"\u003e](\u003c/span\u003e\u003cspan class=\"sx\"\u003e#見出し\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nv\"\u003eリスト\u003c/span\u003e\u003cspan class=\"p\"\u003e](\u003c/span\u003e\u003cspan class=\"sx\"\u003e#リスト\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nv\"\u003e番号付きリスト\u003c/span\u003e\u003cspan class=\"p\"\u003e](\u003c/span\u003e\u003cspan class=\"sx\"\u003e#番号付きリスト\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nv\"\u003e引用\u003c/span\u003e\u003cspan class=\"p\"\u003e](\u003c/span\u003e\u003cspan class=\"sx\"\u003e#引用\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nv\"\u003eコードの挿入\u003c/span\u003e\u003cspan class=\"p\"\u003e](\u003c/span\u003e\u003cspan class=\"sx\"\u003e#コードの挿入\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"結果\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E6%9E%9C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結果\u003c/h3\u003e\n\n\u003cblockquote\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#%E8%A6%8B%E5%87%BA%E3%81%97\"\u003e見出し\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#%E3%83%AA%E3%82%B9%E3%83%88\"\u003eリスト\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#%E7%95%AA%E5%8F%B7%E4%BB%98%E3%81%8D%E3%83%AA%E3%82%B9%E3%83%88\"\u003e番号付きリスト\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#%E5%BC%95%E7%94%A8\"\u003e引用\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E6%8C%BF%E5%85%A5\"\u003eコードの挿入\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/blockquote\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"見出し\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A6%8B%E5%87%BA%E3%81%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e見出し\u003c/h1\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"記述例-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A8%98%E8%BF%B0%E4%BE%8B-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e記述例\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"markdown\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"結果-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E6%9E%9C-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結果\u003c/h3\u003e\n\n\u003cblockquote\u003e\n\u003c/blockquote\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"補足\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A3%9C%E8%B6%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e補足\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003e前後の行には影響されません\u003c/li\u003e\n\u003cli\u003e'半角スペース'は無くても影響ないが入れましょう\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"箇条書きリスト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%AE%87%E6%9D%A1%E6%9B%B8%E3%81%8D%E3%83%AA%E3%82%B9%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e箇条書き（リスト）\u003c/h1\u003e\n\n\u003cp\u003e箇条書きは\u003ccode\u003e-\u003c/code\u003eで記述する。リストのレベルを上げるには\u003ccode\u003e[Tab]\u003c/code\u003e、下げるには\u003ccode\u003e[Shift] + [Tab]\u003c/code\u003eで設定する\u003cbr\u003e\nなおQiitaでは、\u003ccode\u003e[Tab]\u003c/code\u003eを押下すると半角スペースが4つ入る様になっており、\u003ccode\u003e-\u003c/code\u003e前に\u003ccode\u003e半角スペース\u003c/code\u003e以外が入ると箇条書きの対象とならない。\u003cbr\u003e\n（リストの後には1行空行を挟まないといけないので注意すること）\u003c/p\u003e\n\n\u003cp class=\"\"\u003e**ポイント** ちょっとした情報です。\u003c/p\u003e\n\n\u003cp class=\"\"\u003e**注意** 気をつけてください\u003c/p\u003e\n\n\u003cp class=\"\"\u003e**警告** 細心の注意を払ってください\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eリストA\n\n\u003cul\u003e\n\u003cli\u003eリストA-1\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eリストA-1-1\n\n\u003cul\u003e\n\u003cli\u003eリストA-1\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eリストB\u003c/li\u003e\n\u003cli\u003eリストC\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"箇条書きリスト-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%AE%87%E6%9D%A1%E6%9B%B8%E3%81%8D%E3%83%AA%E3%82%B9%E3%83%88-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e箇条書き（リスト）\u003c/h1\u003e\n\n\u003cp\u003e番号付きの箇条書きは\u003ccode\u003e半角の数値\u003c/code\u003e＋\u003ccode\u003e.\u003c/code\u003e（半角ドット）で記述する。数値に関してはなんでもいい\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eリストの前後には空行を入れること\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003col\u003e\n\u003cli\u003e内容\n\n\u003col\u003e\n\u003cli\u003e内容\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003e内容\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003e表示例\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"リスト形式\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AA%E3%82%B9%E3%83%88%E5%BD%A2%E5%BC%8F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eリスト形式\u003c/h1\u003e\n\n\u003cp\u003e見出しは1～6までの見出しがあり、\u003ccode\u003e#\u003c/code\u003e（シャープ）で記述する。\u003cbr\u003e\n※基本的には#の後に半角スペースを入れるがプレビューだとなくても大丈夫なようです。\u003c/p\u003e\n\n\u003cp\u003e表示例\u003cbr\u003e\n\u003ccode\u003emarkdown\u003cbr\u003e\n- 階層A\u003cbr\u003e\n\u003c/code\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"引用\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%BC%95%E7%94%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e引用\u003c/h1\u003e\n\n\u003cp\u003e引用は\"\u0026gt;\"で記述します。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"見出し-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A6%8B%E5%87%BA%E3%81%97-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e見出し\u003c/h1\u003e\n\n\u003cp\u003e見出しは\u003ccode\u003e#（シャープ）\u003c/code\u003e+ \u003ccode\u003e半角スペース\u003c/code\u003eで記述する。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"記述例-2\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A8%98%E8%BF%B0%E4%BE%8B-2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e記述例\u003c/h3\u003e\n\n\u003cp\u003e＜ここから＞\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"markdown\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e見出し\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"gh\"\u003e# 見出し1\u003c/span\u003e\n\u003cspan class=\"gu\"\u003e## 見出し2\u003c/span\u003e\n\u003cspan class=\"gu\"\u003e### 見出し3\u003c/span\u003e\n\u003cspan class=\"gu\"\u003e#### 見出し4\u003c/span\u003e\n\u003cspan class=\"gu\"\u003e##### 見出し5\u003c/span\u003e\n\u003cspan class=\"gu\"\u003e###### 見出し6\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"結果-2\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E6%9E%9C-2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結果\u003c/h3\u003e\n\n\u003cblockquote\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"見出し1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A6%8B%E5%87%BA%E3%81%971\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e見出し1\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"見出し2\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A6%8B%E5%87%BA%E3%81%972\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e見出し2\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"見出し3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A6%8B%E5%87%BA%E3%81%973\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e見出し3\u003c/h3\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"見出し4\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A6%8B%E5%87%BA%E3%81%974\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e見出し4\u003c/h4\u003e\n\n\u003ch5\u003e\n\u003cspan id=\"見出し5\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A6%8B%E5%87%BA%E3%81%975\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e見出し5\u003c/h5\u003e\n\n\u003ch6\u003e\n\u003cspan id=\"見出し6\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A6%8B%E5%87%BA%E3%81%976\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e見出し6\u003c/h6\u003e\n\u003c/blockquote\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"補足-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A3%9C%E8%B6%B3-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e補足\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003e前後の行には影響されません\u003c/li\u003e\n\u003cli\u003e'半角スペース'は無くても影響ないが入れましょう\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"リスト箇条書き\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AA%E3%82%B9%E3%83%88%E7%AE%87%E6%9D%A1%E6%9B%B8%E3%81%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eリスト（箇条書き）\u003c/h1\u003e\n\n\u003cp\u003eリストは\u003ccode\u003e-\u003c/code\u003e+ \u003ccode\u003e半角スペース\u003c/code\u003eで記述する。\u003cbr\u003e\n2行目以降のリストのレベルを下げるには\u003ccode\u003e[Tab]\u003c/code\u003e、上げるには\u003ccode\u003e[Shift] + [Tab]\u003c/code\u003eで設定する\u003cbr\u003e\nなおQiitaでは、\u003ccode\u003e[Tab]\u003c/code\u003eを押下すると半角スペースが4つ入る様になっており、\u003ccode\u003e-\u003c/code\u003e前に\u003ccode\u003e半角スペース\u003c/code\u003e以外が入ると箇条書きの対象とならない。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"記述例-3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A8%98%E8%BF%B0%E4%BE%8B-3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e記述例\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"markdown\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eリスト\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"p\"\u003e-\u003c/span\u003e リストA\n\u003cspan class=\"p\"\u003e    -\u003c/span\u003e リストA-1\n\u003cspan class=\"p\"\u003e        -\u003c/span\u003e リストA-1-1\n\u003cspan class=\"p\"\u003e-\u003c/span\u003e リストA-1-1\n\u003cspan class=\"p\"\u003e    -\u003c/span\u003e リストA-1\n\u003cspan class=\"p\"\u003e-\u003c/span\u003e リストB\n\u003cspan class=\"p\"\u003e-\u003c/span\u003e リストC\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"結果-3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E6%9E%9C-3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結果\u003c/h3\u003e\n\n\u003cblockquote\u003e\n\u003cul\u003e\n\u003cli\u003eリストA\n\n\u003cul\u003e\n\u003cli\u003eリストA-1\n\n\u003cul\u003e\n\u003cli\u003eリストA-1-1\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eリストA-1-1\n\n\u003cul\u003e\n\u003cli\u003eリストA-1\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eリストB\u003c/li\u003e\n\u003cli\u003eリストC\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/blockquote\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"補足-2\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A3%9C%E8%B6%B3-2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e補足\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003e後には空行を入れること（前行は詰めて問題なし）\u003c/li\u003e\n\u003cli\u003eリストのレベルについては、\u003ccode\u003e-\u003c/code\u003eを入れた1行目が必ず基準のレベルとなる\n\n\u003cul\u003e\n\u003cli\u003e先頭行に4つ以上の半角スペース入れるとコード記載のように背景が黒くなってしまいます\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e'半角スペース'は無くても影響ないが入れましょう\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"番号付きリスト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%95%AA%E5%8F%B7%E4%BB%98%E3%81%8D%E3%83%AA%E3%82%B9%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e番号付きリスト\u003c/h1\u003e\n\n\u003cp\u003e番号付きリスト（段落番号）は\u003ccode\u003e半角の数値\u003c/code\u003e＋\u003ccode\u003e.（半角ドット）\u003c/code\u003e＋\u003ccode\u003e半角スペース\u003c/code\u003eで記述する。\u003cbr\u003e\n2行目以降のリストのレベルを上げるには\u003ccode\u003e[Tab]\u003c/code\u003e、下げるには\u003ccode\u003e[Shift] + [Tab]\u003c/code\u003eで設定する。\u003cbr\u003e\n◆数値に関しては何桁でもどの数字でも問題ないが、すべて\u003ccode\u003e1.\u003c/code\u003eで記載するのがあとからの修正も楽だと思います。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"記述例-4\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A8%98%E8%BF%B0%E4%BE%8B-4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e記述例\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"markdown\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e番号付きリスト\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"p\"\u003e1.\u003c/span\u003e ああああああ\n\u003cspan class=\"p\"\u003e    1.\u003c/span\u003e いいいいいい\n\u003cspan class=\"p\"\u003e1.\u003c/span\u003e かかかかかか\n\u003cspan class=\"p\"\u003e    1.\u003c/span\u003e ききききき\n\u003cspan class=\"p\"\u003e    1.\u003c/span\u003e くくくくく\n\u003cspan class=\"p\"\u003e1.\u003c/span\u003e ささささささ\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"結果-4\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E6%9E%9C-4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結果\u003c/h3\u003e\n\n\u003cblockquote\u003e\n\u003col\u003e\n\u003cli\u003eああああああ\n\n\u003col\u003e\n\u003cli\u003eいいいいいい\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003eかかかかかか\n\n\u003col\u003e\n\u003cli\u003eききききき\u003c/li\u003e\n\u003cli\u003eくくくくく\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003eささささささ\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/blockquote\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"補足-3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A3%9C%E8%B6%B3-3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e補足\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003e前後には空行を入れること（前行のみ見出しの場合は問題ない）\u003c/li\u003e\n\u003cli\u003eリストのレベルについては、1行目が必ず基準のレベルとなる\n\n\u003cul\u003e\n\u003cli\u003e先頭行に4つ以上の半角スペース入れるとコード記載のように背景が黒くなってしまいます\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"番号付きリスト-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%95%AA%E5%8F%B7%E4%BB%98%E3%81%8D%E3%83%AA%E3%82%B9%E3%83%88-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e番号付きリスト\u003c/h1\u003e\n\n\u003cp\u003e番号付きリスト（段落番号）は\u003ccode\u003e半角の数値\u003c/code\u003e＋\u003ccode\u003e.（半角ドット）\u003c/code\u003e＋\u003ccode\u003e半角スペース\u003c/code\u003eで記述する。\u003cbr\u003e\n2行目以降のリストのレベルを上げるには\u003ccode\u003e[Tab]\u003c/code\u003e、下げるには\u003ccode\u003e[Shift] + [Tab]\u003c/code\u003eで設定する。\u003cbr\u003e\n◆数値に関しては何桁でもどの数字でも問題ないが、すべて\u003ccode\u003e1.\u003c/code\u003eで記載するのがあとからの修正も楽だと思います。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"記述例-5\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A8%98%E8%BF%B0%E4%BE%8B-5\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e記述例\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"markdown\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e番号付きリスト\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"p\"\u003e1.\u003c/span\u003e ああああああ\n\u003cspan class=\"p\"\u003e    1.\u003c/span\u003e いいいいいい\n\u003cspan class=\"p\"\u003e1.\u003c/span\u003e かかかかかか\n\u003cspan class=\"p\"\u003e    1.\u003c/span\u003e ききききき\n\u003cspan class=\"p\"\u003e    1.\u003c/span\u003e くくくくく\n\u003cspan class=\"p\"\u003e1.\u003c/span\u003e ささささささ\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"結果-5\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E6%9E%9C-5\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結果\u003c/h3\u003e\n\n\u003cblockquote\u003e\n\u003col\u003e\n\u003cli\u003eああああああ\n\n\u003col\u003e\n\u003cli\u003eいいいいいい\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003eかかかかかか\n\n\u003col\u003e\n\u003cli\u003eききききき\u003c/li\u003e\n\u003cli\u003eくくくくく\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003eささささささ\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/blockquote\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"補足-4\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A3%9C%E8%B6%B3-4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e補足\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003e前後には空行を入れること（前行のみ見出しの場合は問題ない）\u003c/li\u003e\n\u003cli\u003eリストのレベルについては、1行目が必ず基準のレベルとなる\n\n\u003cul\u003e\n\u003cli\u003e先頭行に4つ以上の半角スペース入れるとコード記載のように背景が黒くなってしまいます\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"引用-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%BC%95%E7%94%A8-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e引用\u003c/h1\u003e\n\n\u003cp\u003e引用は\u003ccode\u003e\u0026gt;\u003c/code\u003e、二重引用は\u003ccode\u003e\u0026gt;\u0026gt;\u003c/code\u003eで記述します。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"記述例-6\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A8%98%E8%BF%B0%E4%BE%8B-6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e記述例\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"markdown\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e引用\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"gt\"\u003e\u0026gt; ○○様\u003c/span\u003e\n\u003cspan class=\"gt\"\u003e\u0026gt; お世話になっております\u003c/span\u003e\n\u003cspan class=\"gt\"\u003e\u0026gt; \u003c/span\u003e\n\u003cspan class=\"gt\"\u003e\u0026gt; 先日はありがとうございました。\u003c/span\u003e\n\u003cspan class=\"gt\"\u003e\u0026gt; \u003c/span\u003e\n\u003cspan class=\"gt\"\u003e\u0026gt; 今後もよろしくお願いいたします。\u003c/span\u003e\n\u003cspan class=\"gt\"\u003e\n\u0026gt;\u0026gt; ××様\u003c/span\u003e\n\u003cspan class=\"gt\"\u003e\u0026gt;\u0026gt; いつもお世話になっております。\u003c/span\u003e\n\u003cspan class=\"gt\"\u003e\u0026gt;\u0026gt; ○○です。\u003c/span\u003e\n\u003cspan class=\"gt\"\u003e\u0026gt;\u0026gt; \u003c/span\u003e\n\u003cspan class=\"gt\"\u003e\u0026gt;\u0026gt; \u003c/span\u003e\n\u003cspan class=\"gt\"\u003e\u0026gt;\u0026gt; またよろしくお願いします。\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"結果-6\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E6%9E%9C-6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結果\u003c/h3\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e○○様\u003cbr\u003e\nお世話になっております\u003c/p\u003e\n\n\u003cp\u003e先日はありがとうございました。\u003c/p\u003e\n\n\u003cp\u003e今後もよろしくお願いいたします。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e××様\u003cbr\u003e\nいつもお世話になっております。\u003cbr\u003e\n○○です。\u003c/p\u003e\n\n\u003cp\u003eまたよろしくお願いします。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/blockquote\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"補足-5\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A3%9C%E8%B6%B3-5\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e補足\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003e前には空行を入れること\u003c/li\u003e\n\u003cli\u003e'半角スペース'は無くても影響ないが入れましょう\u003c/li\u003e\n\u003cli\u003e改行せずに記載する場合については、\u003ccode\u003e\u0026gt;\u003c/code\u003eのみでもいい\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"コードの挿入\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E6%8C%BF%E5%85%A5\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコードの挿入\u003c/h1\u003e\n\n\u003cp\u003eコードの挿入は\u003ccode\u003e```\u003c/code\u003eで記述する。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"記述例-7\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A8%98%E8%BF%B0%E4%BE%8B-7\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e記述例\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"markdown\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eコードの挿入\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"sb\"\u003e```Php:Hello.php\n\u0026lt;?php\n  echo \"Hello World！\";\n?\u0026gt;\n```\u003c/span\u003e　\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"結果-7\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E6%9E%9C-7\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結果\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"php\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eHello.php\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"cp\"\u003e\u0026lt;?php\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Hello World！\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e?\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"補足-6\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A3%9C%E8%B6%B3-6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e補足\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003e前後には空行を入れること（前行のみ見出しの場合は問題ない）\u003c/li\u003e\n\u003c/ul\u003e\n","body":"\nこれからQiitaで記事を作成するにあたって、基本的なMarkdown記法を知っておく必要があります。\nなぜなら内容が良くても、分かりにくく記載されていると読み手にとっても理解スピードが遅くなってしまいます。\n\n\n# リンク\n\n### 記述例\n\n```markdown:リンク\n- [見出し](#見出し)\n- [リスト](#リスト)\n- [番号付きリスト](#番号付きリスト)\n- [引用](#引用)\n- [コードの挿入](#コードの挿入)\n```\n\n### 結果\n\u003e- [見出し](#見出し)\n- [リスト](#リスト)\n- [番号付きリスト](#番号付きリスト)\n- [引用](#引用)\n- [コードの挿入](#コードの挿入)\n\n# 見出し\n\n### 記述例\n\n```markdown:\n```\n\n### 結果\n\u003e\n\n### 補足\n- 前後の行には影響されません\n- '半角スペース'は無くても影響ないが入れましょう\n\n\n# 箇条書き（リスト）\n箇条書きは`-`で記述する。リストのレベルを上げるには`[Tab]`、下げるには`[Shift] + [Tab]`で設定する\nなおQiitaでは、`[Tab]`を押下すると半角スペースが4つ入る様になっており、`-`前に`半角スペース`以外が入ると箇条書きの対象とならない。\n（リストの後には1行空行を挟まないといけないので注意すること）\n\n\u003cp class=\"info\"\u003e**ポイント** ちょっとした情報です。\u003c/p\u003e\n\n\u003cp class=\"warn\"\u003e**注意** 気をつけてください\u003c/p\u003e\n\n\u003cp class=\"alert\"\u003e**警告** 細心の注意を払ってください\u003c/p\u003e\n\n- リストA\n    - リストA-1\n- リストA-1-1\n    - リストA-1\n- リストB\n- リストC\n\n# 箇条書き（リスト）\n番号付きの箇条書きは`半角の数値`＋`.`（半角ドット）で記述する。数値に関してはなんでもいい\n\n- リストの前後には空行を入れること\n\n1. 内容\n 1. 内容\n1. 内容\n\n表示例\n\n\n\n# リスト形式\n見出しは1～6までの見出しがあり、`#`（シャープ）で記述する。\n※基本的には#の後に半角スペースを入れるがプレビューだとなくても大丈夫なようです。\n\n表示例\n```markdown\n- 階層A\n```\n\n# 引用\n引用は\"\u003e\"で記述します。\n\n\n# 見出し\n見出しは`#（シャープ）`+ `半角スペース`で記述する。\n\n### 記述例\n\n\n\n＜ここから＞\n\n```markdown:見出し\n# 見出し1\n## 見出し2\n### 見出し3\n#### 見出し4\n##### 見出し5\n###### 見出し6\n```\n\n### 結果\n\u003e\n# 見出し1\n## 見出し2\n### 見出し3\n#### 見出し4\n##### 見出し5\n###### 見出し6\n\n### 補足\n- 前後の行には影響されません\n- '半角スペース'は無くても影響ないが入れましょう\n\n# リスト（箇条書き）\nリストは`-`+ `半角スペース`で記述する。\n2行目以降のリストのレベルを下げるには`[Tab]`、上げるには`[Shift] + [Tab]`で設定する\nなおQiitaでは、`[Tab]`を押下すると半角スペースが4つ入る様になっており、`-`前に`半角スペース`以外が入ると箇条書きの対象とならない。\n\n### 記述例\n\n```markdown:リスト\n- リストA\n    - リストA-1\n        - リストA-1-1\n- リストA-1-1\n    - リストA-1\n- リストB\n- リストC\n```\n\n### 結果\n\u003e- リストA\n    - リストA-1\n        - リストA-1-1\n- リストA-1-1\n    - リストA-1\n- リストB\n- リストC\n\n### 補足\n- 後には空行を入れること（前行は詰めて問題なし）\n- リストのレベルについては、`-`を入れた1行目が必ず基準のレベルとなる\n    - 先頭行に4つ以上の半角スペース入れるとコード記載のように背景が黒くなってしまいます\n- '半角スペース'は無くても影響ないが入れましょう\n\n# 番号付きリスト\n番号付きリスト（段落番号）は`半角の数値`＋`.（半角ドット）`＋`半角スペース`で記述する。\n2行目以降のリストのレベルを上げるには`[Tab]`、下げるには`[Shift] + [Tab]`で設定する。\n◆数値に関しては何桁でもどの数字でも問題ないが、すべて`1. `で記載するのがあとからの修正も楽だと思います。\n\n### 記述例\n\n```markdown:番号付きリスト\n1. ああああああ\n    1. いいいいいい\n1. かかかかかか\n    1. ききききき\n    1. くくくくく\n1. ささささささ\n```\n\n### 結果\n\n\u003e1. ああああああ\n    1. いいいいいい\n1. かかかかかか\n    1. ききききき\n    1. くくくくく\n1. ささささささ\n\n### 補足\n\n- 前後には空行を入れること（前行のみ見出しの場合は問題ない）\n- リストのレベルについては、1行目が必ず基準のレベルとなる\n    - 先頭行に4つ以上の半角スペース入れるとコード記載のように背景が黒くなってしまいます\n\n# 番号付きリスト\n番号付きリスト（段落番号）は`半角の数値`＋`.（半角ドット）`＋`半角スペース`で記述する。\n2行目以降のリストのレベルを上げるには`[Tab]`、下げるには`[Shift] + [Tab]`で設定する。\n◆数値に関しては何桁でもどの数字でも問題ないが、すべて`1. `で記載するのがあとからの修正も楽だと思います。\n\n### 記述例\n\n```markdown:番号付きリスト\n1. ああああああ\n    1. いいいいいい\n1. かかかかかか\n    1. ききききき\n    1. くくくくく\n1. ささささささ\n```\n\n### 結果\n\n\u003e1. ああああああ\n    1. いいいいいい\n1. かかかかかか\n    1. ききききき\n    1. くくくくく\n1. ささささささ\n\n### 補足\n\n- 前後には空行を入れること（前行のみ見出しの場合は問題ない）\n- リストのレベルについては、1行目が必ず基準のレベルとなる\n    - 先頭行に4つ以上の半角スペース入れるとコード記載のように背景が黒くなってしまいます\n\n# 引用\n引用は`\u003e`、二重引用は`\u003e\u003e`で記述します。\n\n### 記述例\n\n```markdown:引用\n\u003e ○○様\n\u003e お世話になっております\n\u003e \n\u003e 先日はありがとうございました。\n\u003e \n\u003e 今後もよろしくお願いいたします。\n\n\u003e\u003e ××様\n\u003e\u003e いつもお世話になっております。\n\u003e\u003e ○○です。\n\u003e\u003e \n\u003e\u003e \n\u003e\u003e またよろしくお願いします。\n```\n\n### 結果\n\u003e ○○様\n\u003e お世話になっております\n\u003e \n\u003e 先日はありがとうございました。\n\u003e \n\u003e 今後もよろしくお願いいたします。\n\n\u003e\u003e ××様\n\u003e\u003e いつもお世話になっております。\n\u003e\u003e ○○です。\n\u003e\u003e \n\u003e\u003e \n\u003e\u003e またよろしくお願いします。\n\n### 補足\n- 前には空行を入れること\n- '半角スペース'は無くても影響ないが入れましょう\n- 改行せずに記載する場合については、`\u003e`のみでもいい\n\n# コードの挿入\nコードの挿入は```` ``` ````で記述する。\n\n### 記述例\n\n```markdown:コードの挿入\n```Php:Hello.php\n\u003c?php\n  echo \"Hello World！\";\n?\u003e\n```　\n```\n\n### 結果\n```php:Hello.php\n\u003c?php\n  echo \"Hello World！\";\n?\u003e\n```\n\n### 補足\n- 前後には空行を入れること（前行のみ見出しの場合は問題ない）\n","coediting":false,"comments_count":1,"created_at":"2019-07-09T21:43:01+09:00","group":null,"id":"27e7c07c9b651d3b5316","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Qiita","versions":[]},{"name":"Markdown記法","versions":[]}],"title":"Qiitaでの記事作成の手引き（Markdown記法）","updated_at":"2019-07-09T21:43:01+09:00","url":"https://qiita.com/kouheidev/items/27e7c07c9b651d3b5316","user":{"description":"Web系エンジニアへの転身中の身です。元々はC#のSEをやってました。技術より業務寄りだったので、改めて技術習得中です。","facebook_id":"","followees_count":0,"followers_count":0,"github_login_name":null,"id":"kouheidev","items_count":1,"linkedin_id":"","location":"東京","name":"大山 耕平","organization":"","permanent_id":457751,"profile_image_url":"https://lh6.googleusercontent.com/-c2Z1yU9ugbM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdD65mMqsSpKz9Haf2-jAibWSpntQ/s50/photo.jpg","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\u003cp\u003ewhen you are thinking about  to create a website or you have already a website then you should aware while purchasing a website's hosting, you can save upto 90% Off on Hostgator by simply using \u003ca href=\"https://www.webhostingscoupon.com/hostgator-coupon-code.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eHostgator coupons code\u003c/a\u003e. This coupon would serve to save your money.\u003c/p\u003e\n","body":"when you are thinking about  to create a website or you have already a website then you should aware while purchasing a website's hosting, you can save upto 90% Off on Hostgator by simply using \u003ca href=\"https://www.webhostingscoupon.com/hostgator-coupon-code.html\"\u003eHostgator coupons code\u003c/a\u003e. This coupon would serve to save your money.\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:42:35+09:00","group":null,"id":"12f4b329de18d14ad785","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"hostgator","versions":[]},{"name":"codes","versions":[]},{"name":"coupon","versions":[]},{"name":"promo","versions":[]}],"title":"How you can get Upto 90% Off Hostgator Coupon Code on Web Hosting?","updated_at":"2019-07-09T21:42:35+09:00","url":"https://qiita.com/webhostingscoupon/items/12f4b329de18d14ad785","user":{"description":"Our Company revives An Particular Promo And Coupon code Of Hostgator. webhostingscoupon.com Is The Most trustworthy Site To Get Hostgator Discount","facebook_id":"","followees_count":0,"followers_count":0,"github_login_name":null,"id":"webhostingscoupon","items_count":1,"linkedin_id":"webhostingscoupon","location":"USA","name":"Hostgator Web Hosting Coupon","organization":"Hostgator Web Hosting Coupon","permanent_id":452077,"profile_image_url":"https://secure.gravatar.com/avatar/eb131ec43fc5033350d144eca143da2c","team_only":false,"twitter_screen_name":null,"website_url":"https://www.webhostingscoupon.com/"},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003e絶賛待機中でクソ暇なせのです。こんばんは\u003cbr\u003e\n働きたいけど働きたくない（矛盾）\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"cの入門書を進めてる途中進捗だめです\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#c%E3%81%AE%E5%85%A5%E9%96%80%E6%9B%B8%E3%82%92%E9%80%B2%E3%82%81%E3%81%A6%E3%82%8B%E9%80%94%E4%B8%AD%E9%80%B2%E6%8D%97%E3%81%A0%E3%82%81%E3%81%A7%E3%81%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eCの入門書を進めてる途中（進捗だめです）\u003c/h2\u003e\n\n\u003cp\u003eもう何回目の入門だよって感じですけどこれやってます\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://www.amazon.co.jp/C%E8%A8%80%E8%AA%9E%E6%9C%AC%E6%A0%BC%E5%85%A5%E9%96%80-%E5%9F%BA%E7%A4%8E%E7%9F%A5%E8%AD%98%E3%81%8B%E3%82%89%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF%E3%81%AE%E6%9C%AC%E8%B3%AA%E3%81%BE%E3%81%A7-%E7%A8%AE%E7%94%B0-%E5%85%83%E6%A8%B9/dp/4774196169\" rel=\"nofollow noopener\" target=\"_blank\"\u003eC言語本格入門 ~基礎知識からコンピュータの本質まで\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"makemakefile\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#makemakefile\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003emake……？makefile?\u003c/h2\u003e\n\n\u003cp\u003e巷によくある入門書みたいにただ単にコンパイルするだけじゃなくてmakefileを作成してコンパイルを通すやり方で進んでいくので、実践に近い形になってます。（なってるそうです）\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"無知だった自分\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%84%A1%E7%9F%A5%E3%81%A0%E3%81%A3%E3%81%9F%E8%87%AA%E5%88%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e無知だった自分\u003c/h2\u003e\n\n\u003cp\u003e実際にmakeでコンパイルを業務でしたことがあるにもかかわらず、読み進めて「これ実行ファイルの名前を変えてるだけなのにわざわざMakefile作る必要なくね？」と思ってしまったのですが、それをツイッターで呟いたら\u003ca href=\"https://twitter.com/iruka3/status/1147157721487069186\" rel=\"nofollow noopener\" target=\"_blank\"\u003eソースファイルが数百数千個あるでっかいプロジェクトでは便利\u003c/a\u003eというありがたいツッコミがございました\u003c/p\u003e\n\n\u003cp\u003e全く恥ずかしいことにこれまで現場で散々（といっても半年くらいですが）makeのお世話になってたはずなのに、どう書くかもどんなメリットがあるかも知らずにいました\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"makefileをどうやって書くのか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#makefile%E3%82%92%E3%81%A9%E3%81%86%E3%82%84%E3%81%A3%E3%81%A6%E6%9B%B8%E3%81%8F%E3%81%AE%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eMakefileをどうやって書くのか\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMakefile.hoge\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003ePROGRAM = hoge\nOBJS    = hoge.o\nSRCS    = $(OBJS:%.o=%.c)\nCC      = gcc\nCFLAGS  = -g -Wall\nLDFLAGS =\n\n$(PROGRAM):$(OBJS)\n     $(CC) $(CFLAGS) $(LDFLAGS) -o $(OBJS) $(LDLIBS)\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e※PROGRAM行のCCの後ろはタブです。\u003cbr\u003e\nどんな意味があるかを上から解説します。\u003cbr\u003e\nPROGRAM：プログラム名で、実行ファイルの名前になります\u003cbr\u003e\nOBJS：リンクするオブジェクトファイル名をスペース区切りで列挙。hoge.o fuga.oみたいに続けて書くことで複数ファイルを指定できる……って認識であってますかね？\u003cbr\u003e\nSRCS：ソースコードのファイル名指定。ここではOBJSの拡張子を.cにすることでコンパイル対象をhoge.cにしています。\u003cbr\u003e\nCC：Cコンパイラのコマンド名。ここではgcc\u003cbr\u003e\nCFLAGS：コンパイルのオプション指定。ここではデバッガ用の-gと警告を厳しくする-Wallを指定してます。\u003cbr\u003e\nLDFLAGS:リンカのオプション指定（よくわかってないので割愛。特殊なライブラリのリンク等をする際に使用するそうです）\u003cbr\u003e\n$(PROGRAM)：プログラムの生成方法の記述\u003c/p\u003e\n\n\u003cp\u003eMakefileの書き方は他にもあるようなので、まだまだ勉強が必要ですね……\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"makefileを使ってビルド\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#makefile%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%83%93%E3%83%AB%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eMakefileを使ってビルド\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ make -f Makefile.hoge\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eビルドの過程はこんな感じです\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003egcc -g -Wall -c -o hoge.o hoge.c\ngcc -g -Wall -o hoge hoge.o\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれで実行ファイルhogeが出来るので以下で実行できます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ ./hoge\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"まとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまとめ\u003c/h1\u003e\n\n\u003cp\u003e・Makefileは大規模開発で便利\u003cbr\u003e\n・書き方多種多様\u003c/p\u003e\n\n\u003cp\u003e……でも、makeいろんな書き方あるってことだけどググっても書籍が\u003ca href=\"https://www.amazon.co.jp/GNU-Make-%E7%AC%AC3%E7%89%88-Robert-Mecklenburg/dp/4873112699/ref=asc_df_4873112699/?tag=jpgo-22\u0026amp;linkCode=df0\u0026amp;hvadid=295678107984\u0026amp;hvpos=1o2\u0026amp;hvnetw=g\u0026amp;hvrand=26528690058319140\u0026amp;hvpone=\u0026amp;hvptwo=\u0026amp;hvqmt=\u0026amp;hvdev=c\u0026amp;hvdvcmdl=\u0026amp;hvlocint=\u0026amp;hvlocphy=1009247\u0026amp;hvtargid=aud-828501354917:pla-523848454026\u0026amp;psc=1\u0026amp;th=1\u0026amp;psc=1\" rel=\"nofollow noopener\" target=\"_blank\"\u003eオライリー本\u003c/a\u003eしか出てこないのはどういうことなの。調べ方が悪い？\u003c/p\u003e\n","body":"#はじめに\n絶賛待機中でクソ暇なせのです。こんばんは\n働きたいけど働きたくない（矛盾）\n\n##Cの入門書を進めてる途中（進捗だめです）\nもう何回目の入門だよって感じですけどこれやってます\n\n[C言語本格入門 ~基礎知識からコンピュータの本質まで](https://www.amazon.co.jp/C%E8%A8%80%E8%AA%9E%E6%9C%AC%E6%A0%BC%E5%85%A5%E9%96%80-%E5%9F%BA%E7%A4%8E%E7%9F%A5%E8%AD%98%E3%81%8B%E3%82%89%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF%E3%81%AE%E6%9C%AC%E8%B3%AA%E3%81%BE%E3%81%A7-%E7%A8%AE%E7%94%B0-%E5%85%83%E6%A8%B9/dp/4774196169)\n\n##make……？makefile?\n巷によくある入門書みたいにただ単にコンパイルするだけじゃなくてmakefileを作成してコンパイルを通すやり方で進んでいくので、実践に近い形になってます。（なってるそうです）\n\n##無知だった自分\n実際にmakeでコンパイルを業務でしたことがあるにもかかわらず、読み進めて「これ実行ファイルの名前を変えてるだけなのにわざわざMakefile作る必要なくね？」と思ってしまったのですが、それをツイッターで呟いたら[ソースファイルが数百数千個あるでっかいプロジェクトでは便利](https://twitter.com/iruka3/status/1147157721487069186)というありがたいツッコミがございました\n\n全く恥ずかしいことにこれまで現場で散々（といっても半年くらいですが）makeのお世話になってたはずなのに、どう書くかもどんなメリットがあるかも知らずにいました\n\n###Makefileをどうやって書くのか\n\n```Makefile.hoge\nPROGRAM = hoge\nOBJS    = hoge.o\nSRCS    = $(OBJS:%.o=%.c)\nCC      = gcc\nCFLAGS  = -g -Wall\nLDFLAGS =\n\n$(PROGRAM):$(OBJS)\n     $(CC) $(CFLAGS) $(LDFLAGS) -o $(OBJS) $(LDLIBS)\n```\n\n※PROGRAM行のCCの後ろはタブです。\nどんな意味があるかを上から解説します。\nPROGRAM：プログラム名で、実行ファイルの名前になります\nOBJS：リンクするオブジェクトファイル名をスペース区切りで列挙。hoge.o fuga.oみたいに続けて書くことで複数ファイルを指定できる……って認識であってますかね？\nSRCS：ソースコードのファイル名指定。ここではOBJSの拡張子を.cにすることでコンパイル対象をhoge.cにしています。\nCC：Cコンパイラのコマンド名。ここではgcc\nCFLAGS：コンパイルのオプション指定。ここではデバッガ用の-gと警告を厳しくする-Wallを指定してます。\nLDFLAGS:リンカのオプション指定（よくわかってないので割愛。特殊なライブラリのリンク等をする際に使用するそうです）\n$(PROGRAM)：プログラムの生成方法の記述\n\nMakefileの書き方は他にもあるようなので、まだまだ勉強が必要ですね……\n\n###Makefileを使ってビルド\n```\n$ make -f Makefile.hoge\n```\nビルドの過程はこんな感じです\n\n```\ngcc -g -Wall -c -o hoge.o hoge.c\ngcc -g -Wall -o hoge hoge.o\n```\n\nこれで実行ファイルhogeが出来るので以下で実行できます。\n\n```\n$ ./hoge\n```\n\n#まとめ\n・Makefileは大規模開発で便利\n・書き方多種多様\n\n……でも、makeいろんな書き方あるってことだけどググっても書籍が[オライリー本](https://www.amazon.co.jp/GNU-Make-%E7%AC%AC3%E7%89%88-Robert-Mecklenburg/dp/4873112699/ref=asc_df_4873112699/?tag=jpgo-22\u0026linkCode=df0\u0026hvadid=295678107984\u0026hvpos=1o2\u0026hvnetw=g\u0026hvrand=26528690058319140\u0026hvpone=\u0026hvptwo=\u0026hvqmt=\u0026hvdev=c\u0026hvdvcmdl=\u0026hvlocint=\u0026hvlocphy=1009247\u0026hvtargid=aud-828501354917:pla-523848454026\u0026psc=1\u0026th=1\u0026psc=1)しか出てこないのはどういうことなの。調べ方が悪い？\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:41:30+09:00","group":null,"id":"4758a40302770840ea3e","likes_count":4,"private":false,"reactions_count":0,"tags":[{"name":"C","versions":[]},{"name":"Linux","versions":[]},{"name":"UNIX","versions":[]},{"name":"Makefile","versions":[]}],"title":"Makefileを作ってビルドしよう（超初級編）","updated_at":"2019-07-09T21:41:30+09:00","url":"https://qiita.com/seno0x00/items/4758a40302770840ea3e","user":{"description":"再上京した\r\n毎日のように更新できる人すごいと思う\r\n\r\n意図せず組み込みSEとして飯を食う日々","facebook_id":"","followees_count":13,"followers_count":5,"github_login_name":null,"id":"seno0x00","items_count":4,"linkedin_id":"","location":"かんとー","name":"","organization":"某バカでかい派遣会社","permanent_id":94048,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/94048/profile-images/1561979283","team_only":false,"twitter_screen_name":"seno0xFF","website_url":"http://senobro.hatenablog.com"},"page_views_count":null},{"rendered_body":"\u003cul\u003e\n\u003cli\u003e\u003cp\u003e注意：プログラミング歴29日の初心者が書いています\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e注意：間違っていたら優しく教えてください（喜びます）\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"32-静的ページ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#32-%E9%9D%99%E7%9A%84%E3%83%9A%E3%83%BC%E3%82%B8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.2 静的ページ\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"トピックブランチを切る\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%88%E3%83%94%E3%83%83%E3%82%AF%E3%83%96%E3%83%A9%E3%83%B3%E3%83%81%E3%82%92%E5%88%87%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eトピックブランチを切る\u003c/h2\u003e\n\n\u003cp\u003e\u003ccode\u003e$ git checkout -b static-pages\u003c/code\u003e:　変更を行う時には、masterではなく、ブランチを作成して作業します。（ブランチを作成することを「切る」と言います）\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003e作成したブランチ上で、こまめにコミットしながら作業を進めることができます。でも、本流のmasterにはなんの影響も及ぼしませんので思う存分コミットできます。\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eまた、複数人がそれぞれブランチを用意して同時進行で作業することも可能です。\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"321-静的なページの生成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#321-%E9%9D%99%E7%9A%84%E3%81%AA%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%AE%E7%94%9F%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.2.1 静的なページの生成\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"コントローラの生成ルーティングの追加とviewも同時生成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%B3%E3%83%88%E3%83%AD%E3%83%BC%E3%83%A9%E3%81%AE%E7%94%9F%E6%88%90%E3%83%AB%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%81%AE%E8%BF%BD%E5%8A%A0%E3%81%A8view%E3%82%82%E5%90%8C%E6%99%82%E7%94%9F%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコントローラの生成（ルーティングの追加とviewも同時生成）\u003c/h2\u003e\n\n\u003cp\u003e\u003ccode\u003e$ generate controller StaticPages home help\u003c/code\u003e：　StaticPagesコントローラを生成する(そのなかには、\u003ccode\u003ehome\u003c/code\u003eと\u003ccode\u003ehelp\u003c/code\u003eというページへのアクションも含む)\u003c/p\u003e\n\n\u003cp\u003e同時に「routes.rb」ファイルには、StaticPagesコントローラ内のhomeアクションとhelpアクションで使うルーティングが自動で書き込まれます。\u003c/p\u003e\n\n\u003cp\u003eこれによって、今後rootURLの末尾に、\u003ccode\u003e/static_pages/home\u003c/code\u003eや\u003ccode\u003e/static_pages/help\u003c/code\u003eと付け加えることで、StaticPagesコントローラ内のhomeアクションとhelpアクションにアクセスが可能です。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eclass StaticPagesController \u0026lt; ApplicationController\n  def home\n  end\n\n  def help\n  end\nend\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eStaticPagesコントローラ内では、homeアクションとhelpアクションが自動で定義されています。そして、それらによって対応するviewが呼び出されます。\u003c/p\u003e\n\n\u003cp\u003eでは、viewディレクトリを見てみると、こちらにも自動で\u003ccode\u003ehome.html.erb\u003c/code\u003eと\u003ccode\u003ehelp.html.erb\u003c/code\u003eが生成されています。これがブラウザに表示されるHTMLの一部になっています。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"コントローラの中のクラスとメソッドについて\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%B3%E3%83%88%E3%83%AD%E3%83%BC%E3%83%A9%E3%81%AE%E4%B8%AD%E3%81%AE%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%A8%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコントローラの中のクラスとメソッドについて\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eclass StaticPagesController \u0026lt; ApplicationController\n  def home\n  end\n\n  def help\n  end\nend\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eStaticPagesコントローラ内は以下の構成になっています。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003eStaticPagesControllerクラスの定義\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eクラスメソッド（アクション）の定義: \u003ccode\u003edef~end\u003c/code\u003e部分\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eRubyにおいて、メソッドとは関数のことです。\u003cbr\u003e\nここでは、「home」「help」という名前のついた関数が定義されていますが、中身は空っぽです。\u003c/p\u003e\n\n\u003cp\u003e通常、このように中身の空っぽのメソッドは何もしません。\u003c/p\u003e\n\n\u003cp\u003eでは、なぜこれらのメソッドは対応するURLリクエストに反応して適切なviewを返してくれるのでしょうか？\u003c/p\u003e\n\n\u003cp\u003eそれは、StaticPagesControllerクラスがApplicationコントローラクラスを継承しているからです。\u003cbr\u003e\nそして、ApplocationコントローラクラスはActionController::Baseクラスを継承しています。\u003cbr\u003e\nActionController::Baseクラスが、rails特有のコントローラとしての動きを定義しています。\u003c/p\u003e\n\n\u003cp\u003e今回あたらしく作成したStaticPagesControllerクラスと、その中の空っぽのメソッドが機能しているのは、ActionController::Baseクラスのコントローラ機能を継承しているからです。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"33-テストから始める\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#33-%E3%83%86%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E5%A7%8B%E3%82%81%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.3 テストから始める\u003c/h1\u003e\n\n\u003cp\u003eテスト駆動開発（TDD）については、以下の動画をみると一通りやるべきこととその動機がわかります。\u003cbr\u003e\n「50分でわかるテスト駆動開発」\u003cbr\u003e\n\u003ca href=\"https://channel9.msdn.com/Events/de-code/2017/DO03\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://channel9.msdn.com/Events/de-code/2017/DO03\u003c/a\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003etest \"should get home\" do\n  get static_pages_home_url\n  assert_response :success\nend\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e言葉で表すと\u003cbr\u003e\n「Homeページのテスト。\u003cbr\u003e\nGETリクエストをhomeアクションに対して発行 (=送信) せよ。\u003cbr\u003e\nそうすれば、リクエストに対するレスポンスは[成功]になるはず」\u003cbr\u003e\nとなります。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"34-少しだけ動的なページ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#34-%E5%B0%91%E3%81%97%E3%81%A0%E3%81%91%E5%8B%95%E7%9A%84%E3%81%AA%E3%83%9A%E3%83%BC%E3%82%B8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.4 少しだけ動的なページ\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"テストから先に書いてテストが通る実装を書いていく\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%86%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E5%85%88%E3%81%AB%E6%9B%B8%E3%81%84%E3%81%A6%E3%83%86%E3%82%B9%E3%83%88%E3%81%8C%E9%80%9A%E3%82%8B%E5%AE%9F%E8%A3%85%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%84%E3%81%8F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eテストから先に書いて、テストが通る実装を書いていく\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eassert_select \"title\", \"Home | Ruby on Rails Tutorial Sample App\"\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eassert_selectメソッドは、特定のHTMLタグが存在するかどうかをテストします。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eassert_select \"title\", \"タイトル\" # titleタグの文字列が、「タイトル」と一致すれば成功。\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eテストに合わせて、それぞれのviewファイルを修正していきます。\u003cbr\u003e\n１ページ修正するごとにテストを行うと、ちゃんと「failures」が減っていくことがわかります。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"テストコードをリファクタリングする\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%86%E3%82%B9%E3%83%88%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E3%83%AA%E3%83%95%E3%82%A1%E3%82%AF%E3%82%BF%E3%83%AA%E3%83%B3%E3%82%B0%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eテストコードをリファクタリングする\u003c/h2\u003e\n\n\u003cp\u003e\"Ruby on Rails Tutorial Sample App\"　というタイトルの一部がなんども繰り返されています。\u003cbr\u003e\n同じことをなんども繰り返すのは美しくありませんので、変数に格納してから使う形にリファクタリングします。\u003c/p\u003e\n\n\u003cp\u003e以下は\u003ccode\u003etest/controllers/static_pages_controller_test.rb\u003c/code\u003eの一部です。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e  def setup\n    @base_title = \"Ruby on Rails Tutorial Sample App\"\n  end\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eここではまず、\"Ruby on Rails Tutorial Sample App\"を\u003ccode\u003e@base_title\u003c/code\u003eというインスタンス変数に格納しています。\u003cbr\u003e\n「インスタンス変数」とは、同じクラス内で使える変数のことで、頭に＠がついています。\u003cbr\u003e\nここでは\u003ccode\u003eStaticPagesControllerTest\u003c/code\u003eクラスで使用可能なインスタンス変数として、\u003ccode\u003e@base_title\u003c/code\u003eを定義しました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eassert_select \"title\", \"Home | Ruby on Rails Tutorial Sample App\"\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eつづいて上記の\"Ruby on Rails Tutorial Sample App\"を\u003ccode\u003e@base_title\u003c/code\u003eという変数に置き換えていきます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eassert_select \"title\", \"Home | #{@base_title}\"\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003e${@base_title}\u003c/code\u003eという形で、変数が\u003ccode\u003e${}\u003c/code\u003eの中に入っています。\u003cbr\u003e\nこれは、\u003ccode\u003e\"文字列\"\u003c/code\u003eの中で変数を使う時のルールです。\u003cbr\u003e\nこれを「文字列の式展開」といいます。\u003c/p\u003e\n\n\u003cp\u003eもしも変数\u003ccode\u003e@base_title\u003c/code\u003eがもし\u003ccode\u003e${}\u003c/code\u003eの中に入っていなかったら、\u003ccode\u003e\"@base_title\"\u003c/code\u003eという、ただの文字列として処理されてしまいます。\u003cbr\u003e\n\"Ruby on Rails Tutorial Sample App\"として\u003ccode\u003e@base_title\u003c/code\u003eを使う場合は、\u003ccode\u003e${}\u003c/code\u003eの中に入れてあげる必要があるということです。\u003c/p\u003e\n\n\u003cp\u003e変更が終わったら、コンソールからテストを走らせて、エラーがないことをチェックします。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"343-レイアウトと埋め込みruby-refactor\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#343-%E3%83%AC%E3%82%A4%E3%82%A2%E3%82%A6%E3%83%88%E3%81%A8%E5%9F%8B%E3%82%81%E8%BE%BC%E3%81%BFruby-refactor\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.4.3 レイアウトと埋め込みRuby (Refactor)\u003c/h1\u003e\n\n\u003cp\u003eRubyの文法をHTML内で使うときには、\u003ccode\u003e\u0026lt;%  %\u0026gt;\u003c/code\u003eでRubyコードを囲みます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eprovide(:title, \"Home\")\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eここでは、\u003ccode\u003e:title\u003c/code\u003eというシンボルに、文字列\u003ccode\u003e\"Home\"\u003c/code\u003eを紐づけて、擬似的なハッシュのようなものを作っています。\u003cbr\u003e\nただしprovideメソッドで宣言したこのシンボルと文字列の擬似ハッシュは、このHomeページ内でしか使うことはできません。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u0026lt;title\u0026gt;\u0026lt;%= yield(:title) %\u0026gt; | Ruby on Rails Tutorial Sample App\u0026lt;/title\u0026gt;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eその後、\u003ccode\u003eyield(:title)\u003c/code\u003eで\u003ccode\u003e文字列\"Home\"\u003c/code\u003eを呼び出しています。\u003cbr\u003e\nRubyの文法をHTML内で使い、かつ結果を出力するときには、\u003ccode\u003e\u0026lt;%=  %\u0026gt;\u003c/code\u003eでRubyコードを囲みます。\u003c/p\u003e\n\n\u003cp\u003e今回は呼び出した文字列をHTML内に出力したいので、\u003ccode\u003e\u0026lt;%=  %\u0026gt;\u003c/code\u003eでRubyコードを囲んでいます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"レイアウトファイルのリファクタリング\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AC%E3%82%A4%E3%82%A2%E3%82%A6%E3%83%88%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E3%83%AA%E3%83%95%E3%82%A1%E3%82%AF%E3%82%BF%E3%83%AA%E3%83%B3%E3%82%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eレイアウトファイルのリファクタリング\u003c/h2\u003e\n\n\u003cp\u003eレイアウトファイルは、全てのページで共通する\u003c/p\u003eや部分を担うviewです。\n\n\u003cp\u003e共通部分をレイアウトファイルに統一することによって、個別のviewファイルの記述を減らし、シンプルに保つことができます。\u003c/p\u003e\n","body":"* 注意：プログラミング歴29日の初心者が書いています\n\n* 注意：間違っていたら優しく教えてください（喜びます）\n\n\n#3.2 静的ページ\n\n##トピックブランチを切る\n\n`$ git checkout -b static-pages`:　変更を行う時には、masterではなく、ブランチを作成して作業します。（ブランチを作成することを「切る」と言います）\n\n* 作成したブランチ上で、こまめにコミットしながら作業を進めることができます。でも、本流のmasterにはなんの影響も及ぼしませんので思う存分コミットできます。\n\n* また、複数人がそれぞれブランチを用意して同時進行で作業することも可能です。\n\n#3.2.1 静的なページの生成\n\n##コントローラの生成（ルーティングの追加とviewも同時生成）\n`$ generate controller StaticPages home help`：　StaticPagesコントローラを生成する(そのなかには、`home`と`help`というページへのアクションも含む)\n\n同時に「routes.rb」ファイルには、StaticPagesコントローラ内のhomeアクションとhelpアクションで使うルーティングが自動で書き込まれます。\n\nこれによって、今後rootURLの末尾に、`/static_pages/home`や`/static_pages/help`と付け加えることで、StaticPagesコントローラ内のhomeアクションとhelpアクションにアクセスが可能です。\n\n```\nclass StaticPagesController \u003c ApplicationController\n  def home\n  end\n\n  def help\n  end\nend\n```\n\nStaticPagesコントローラ内では、homeアクションとhelpアクションが自動で定義されています。そして、それらによって対応するviewが呼び出されます。\n\nでは、viewディレクトリを見てみると、こちらにも自動で`home.html.erb`と`help.html.erb`が生成されています。これがブラウザに表示されるHTMLの一部になっています。\n\n\n##コントローラの中のクラスとメソッドについて\n\n```\nclass StaticPagesController \u003c ApplicationController\n  def home\n  end\n\n  def help\n  end\nend\n```\nStaticPagesコントローラ内は以下の構成になっています。\n\n* StaticPagesControllerクラスの定義\n\n* クラスメソッド（アクション）の定義: `def~end`部分\n\nRubyにおいて、メソッドとは関数のことです。\nここでは、「home」「help」という名前のついた関数が定義されていますが、中身は空っぽです。\n\n通常、このように中身の空っぽのメソッドは何もしません。\n\nでは、なぜこれらのメソッドは対応するURLリクエストに反応して適切なviewを返してくれるのでしょうか？\n\nそれは、StaticPagesControllerクラスがApplicationコントローラクラスを継承しているからです。\nそして、ApplocationコントローラクラスはActionController::Baseクラスを継承しています。\nActionController::Baseクラスが、rails特有のコントローラとしての動きを定義しています。\n\n今回あたらしく作成したStaticPagesControllerクラスと、その中の空っぽのメソッドが機能しているのは、ActionController::Baseクラスのコントローラ機能を継承しているからです。\n\n\n\n\n#3.3 テストから始める\n\nテスト駆動開発（TDD）については、以下の動画をみると一通りやるべきこととその動機がわかります。\n「50分でわかるテスト駆動開発」\nhttps://channel9.msdn.com/Events/de-code/2017/DO03\n\n```\ntest \"should get home\" do\n  get static_pages_home_url\n  assert_response :success\nend\n```\n\n言葉で表すと\n「Homeページのテスト。\nGETリクエストをhomeアクションに対して発行 (=送信) せよ。\nそうすれば、リクエストに対するレスポンスは[成功]になるはず」\nとなります。\n\n\n#3.4 少しだけ動的なページ\n\n##テストから先に書いて、テストが通る実装を書いていく\n\n```\nassert_select \"title\", \"Home | Ruby on Rails Tutorial Sample App\"\n```\n\nassert_selectメソッドは、特定のHTMLタグが存在するかどうかをテストします。\n\n```\nassert_select \"title\", \"タイトル\" # titleタグの文字列が、「タイトル」と一致すれば成功。\n```\n\nテストに合わせて、それぞれのviewファイルを修正していきます。\n１ページ修正するごとにテストを行うと、ちゃんと「failures」が減っていくことがわかります。\n\n##テストコードをリファクタリングする\n\n\"Ruby on Rails Tutorial Sample App\"　というタイトルの一部がなんども繰り返されています。\n同じことをなんども繰り返すのは美しくありませんので、変数に格納してから使う形にリファクタリングします。\n\n以下は`test/controllers/static_pages_controller_test.rb`の一部です。\n\n```\n  def setup\n    @base_title = \"Ruby on Rails Tutorial Sample App\"\n  end\n```\n\nここではまず、\"Ruby on Rails Tutorial Sample App\"を`@base_title`というインスタンス変数に格納しています。\n「インスタンス変数」とは、同じクラス内で使える変数のことで、頭に＠がついています。\nここでは`StaticPagesControllerTest`クラスで使用可能なインスタンス変数として、`@base_title`を定義しました。\n\n```\nassert_select \"title\", \"Home | Ruby on Rails Tutorial Sample App\"\n```\n\nつづいて上記の\"Ruby on Rails Tutorial Sample App\"を`@base_title`という変数に置き換えていきます。\n\n```\nassert_select \"title\", \"Home | #{@base_title}\"\n```\n\n`${@base_title}`という形で、変数が`${}`の中に入っています。\nこれは、`\"文字列\"`の中で変数を使う時のルールです。\nこれを「文字列の式展開」といいます。\n\nもしも変数`@base_title`がもし`${}`の中に入っていなかったら、`\"@base_title\"`という、ただの文字列として処理されてしまいます。\n\"Ruby on Rails Tutorial Sample App\"として`@base_title`を使う場合は、`${}`の中に入れてあげる必要があるということです。\n\n変更が終わったら、コンソールからテストを走らせて、エラーがないことをチェックします。\n\n#3.4.3 レイアウトと埋め込みRuby (Refactor)\n\nRubyの文法をHTML内で使うときには、`\u003c%  %\u003e`でRubyコードを囲みます。\n\n```\nprovide(:title, \"Home\")\n```\n\nここでは、`:title`というシンボルに、文字列`\"Home\"`を紐づけて、擬似的なハッシュのようなものを作っています。\nただしprovideメソッドで宣言したこのシンボルと文字列の擬似ハッシュは、このHomeページ内でしか使うことはできません。\n\n```\n\u003ctitle\u003e\u003c%= yield(:title) %\u003e | Ruby on Rails Tutorial Sample App\u003c/title\u003e\n```\n\nその後、`yield(:title)`で`文字列\"Home\"`を呼び出しています。\nRubyの文法をHTML内で使い、かつ結果を出力するときには、`\u003c%=  %\u003e`でRubyコードを囲みます。\n\n今回は呼び出した文字列をHTML内に出力したいので、`\u003c%=  %\u003e`でRubyコードを囲んでいます。\n\n\n##レイアウトファイルのリファクタリング\nレイアウトファイルは、全てのページで共通する\u003ctitle\u003eや\u003chead\u003e部分を担うviewです。\n\n共通部分をレイアウトファイルに統一することによって、個別のviewファイルの記述を減らし、シンプルに保つことができます。\n\n\n\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:37:24+09:00","group":null,"id":"607803d72b463cdb850e","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Ruby","versions":[]},{"name":"Rails","versions":[]},{"name":"RubyOnRais","versions":[]}],"title":"あなたはRailsチュートリアルで一体なにを学んだというのか【3章】","updated_at":"2019-07-09T21:37:24+09:00","url":"https://qiita.com/shin-ph/items/607803d72b463cdb850e","user":{"description":"","facebook_id":"","followees_count":0,"followers_count":0,"github_login_name":"ShinKano","id":"shin-ph","items_count":3,"linkedin_id":"","location":"","name":"Shin Kano","organization":"","permanent_id":452235,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/452235/profile-images/1562592472","team_only":false,"twitter_screen_name":null,"website_url":"http://gophilippines.media/author/shinnosuke-kano/"},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"シンプルな例で2つの書き方をまとめる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B7%E3%83%B3%E3%83%97%E3%83%AB%E3%81%AA%E4%BE%8B%E3%81%A72%E3%81%A4%E3%81%AE%E6%9B%B8%E3%81%8D%E6%96%B9%E3%82%92%E3%81%BE%E3%81%A8%E3%82%81%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eシンプルな例で2つの書き方をまとめる\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Statements/async_function\" rel=\"nofollow noopener\" target=\"_blank\"\u003eMDN\u003c/a\u003eなどのリファレンスはとても参考になるのですが、例題が少し難しく感じる・・・ということで、シンプルにPromiseとAsync/Awaitの記法をメモしておきます。\u003c/p\u003e\n\n\u003cp\u003eFetch APIを使う時が一番Promiseを使っている（？）気がするので、便利な\u003cstrong\u003e\u003ca href=\"https://jsonplaceholder.typicode.com\" rel=\"nofollow noopener\" target=\"_blank\"\u003ejsonplaceholder\u003c/a\u003e\u003c/strong\u003eを使ってサンプルを作成します。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"promise\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#promise\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ePromise\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\n\u003cspan class=\"nx\"\u003efetch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'https://jsonplaceholder.typicode.com/photos'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ejson\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003epostDate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003epostDate\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003ecatch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerr\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerr\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eChrome Developerツールを開いて、上記をconsoleへコピペすると、データが取得できる。5000件も！\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eおまけ\u003c/strong\u003e\u003cbr\u003e\n取り扱いが大変な時は、\u003ccode\u003eslice\u003c/code\u003eを使って、件数を制限することも可能。\u003cbr\u003e\n(sliceなどのシンタックスを覚えるのは簡単ですが、どのような場面で使えるのかという視点をなかなか持てなかったので、知った時は結構嬉しかったですw・・・)\u003c/p\u003e\n\n\u003cp\u003efetch()の結果はPromiseで返されます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\n\u003cspan class=\"nx\"\u003efetch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'https://jsonplaceholder.typicode.com/photos'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ejson\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003epostsDate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003epostsDate\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eslice\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e50\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 50件のみ表示\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003ecatch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerr\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerr\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"async-await\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#async-await\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003easync/ await\u003c/h2\u003e\n\n\u003cp\u003e次にES8で登場したasync/awaitを使ったfetchのしかた。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003egetPostData\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kr\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003efetch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'https://jsonplaceholder.typicode.com/photos'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003epostsData\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kr\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ejson\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003epostsData\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003egetPostData\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003eアロー関数\u003c/code\u003eの場合、asyncをどこに書くべきかわからなかったのですが、何パターンか書き方を見ると、置き場所がわかるかと思います。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"c1\"\u003e// ES5\u003c/span\u003e\n\u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003egetPostData\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kr\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003efetch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'https://jsonplaceholder.typicode.com/photos'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003epostsData\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kr\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ejson\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003epostsData\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003egetPostData\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003egetPostData\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e// 省略\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// アロー関数\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003egetPostData\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e// 省略\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003cstrong\u003e\"function\"の前にasync!!!\u003c/strong\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"エラー\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A8%E3%83%A9%E3%83%BC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eエラー\u003c/h3\u003e\n\n\u003cp\u003efetchを使う時は\u003ccode\u003e.catch(err)\u003c/code\u003eでエラー処理を書けるのですが、async/awaitの時は・・・・？？\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003etrycatch\u003c/code\u003eを使います！\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003egetPostData\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003etry\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kr\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003efetch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'https://jsonplaceholder.typicode.com/photos'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003epostsData\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kr\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ejson\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003epostsData\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerr\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerr\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003egetPostData\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003ecatch (err) { /* ここにエラー時の処理を */ }\u003c/code\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"感想\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%84%9F%E6%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e感想\u003c/h2\u003e\n\n\u003cp\u003eNode, Express, MongoDBの勉強をしている際、データベースとのやりとりでasync/awaitが多用されていました。\u003c/p\u003e\n\n\u003cp\u003easyncは慣れると読みやすいし、書きやすいのですが、\u003cstrong\u003eいつ使うのか\u003c/strong\u003eを判断するのがなかなか難しいかったです。\u003c/p\u003e\n\n\u003cp\u003eある程度はパターンなのかもしれませんが、\u003cstrong\u003e一つの処理に時間がかかってその他の処理が止まってしまうのを防ぐために並行処理を行う\u003c/strong\u003eようなので、その視点を持って書いてみようと思います。\u003c/p\u003e\n","body":"# シンプルな例で2つの書き方をまとめる\n\n[MDN](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Statements/async_function)などのリファレンスはとても参考になるのですが、例題が少し難しく感じる・・・ということで、シンプルにPromiseとAsync/Awaitの記法をメモしておきます。\n\nFetch APIを使う時が一番Promiseを使っている（？）気がするので、便利な**[jsonplaceholder](https://jsonplaceholder.typicode.com)**を使ってサンプルを作成します。\n\n## Promise\n\n```javascript\n\nfetch('https://jsonplaceholder.typicode.com/photos')\n  .then(response =\u003e response.json())\n  .then(postDate =\u003e console.log(postDate))\n  .catch(err =\u003e console.error(err));\n```\n\nChrome Developerツールを開いて、上記をconsoleへコピペすると、データが取得できる。5000件も！\n\n**おまけ**\n取り扱いが大変な時は、`slice`を使って、件数を制限することも可能。\n(sliceなどのシンタックスを覚えるのは簡単ですが、どのような場面で使えるのかという視点をなかなか持てなかったので、知った時は結構嬉しかったですw・・・)\n\nfetch()の結果はPromiseで返されます。\n\n```javascript\n\nfetch('https://jsonplaceholder.typicode.com/photos')\n  .then(response =\u003e response.json())\n  .then(postsDate =\u003e console.log(postsDate.slice(0, 50))) // 50件のみ表示\n  .catch(err =\u003e console.error(err));\n```\n\n\n## async/ await\n\n次にES8で登場したasync/awaitを使ったfetchのしかた。\n\n```javascript\nconst getPostData = async () =\u003e {\n  const response = await fetch('https://jsonplaceholder.typicode.com/photos');\n  const postsData = await response.json();\n  console.log(postsData);\n};\n\ngetPostData();\n```\n`アロー関数`の場合、asyncをどこに書くべきかわからなかったのですが、何パターンか書き方を見ると、置き場所がわかるかと思います。\n\n```javascript\n// ES5\nasync function getPostData() {\n  const response = await fetch('https://jsonplaceholder.typicode.com/photos');\n  const postsData = await response.json();\n  console.log(postsData);\n}\n\ngetPostData();\n\n\nconst getPostData = async function () {\n  // 省略\n}\n\n// アロー関数\nconst getPostData = async () =\u003e {\n  // 省略\n}\n```\n**\"function\"の前にasync!!!**\n\n\n### エラー\n\nfetchを使う時は`.catch(err)`でエラー処理を書けるのですが、async/awaitの時は・・・・？？\n\n`trycatch`を使います！\n\n```javascript\nconst getPostData = async () =\u003e {\n  try {\n    const response = await fetch('https://jsonplaceholder.typicode.com/photos');\n    const postsData = await response.json();\n    console.log(postsData);\n  } catch (err) {\n    console.error(err);\n  }\n};\n\ngetPostData();\n```\n`catch (err) { /* ここにエラー時の処理を */ }`\n\n\n## 感想\n\nNode, Express, MongoDBの勉強をしている際、データベースとのやりとりでasync/awaitが多用されていました。\n\nasyncは慣れると読みやすいし、書きやすいのですが、**いつ使うのか**を判断するのがなかなか難しいかったです。\n\nある程度はパターンなのかもしれませんが、**一つの処理に時間がかかってその他の処理が止まってしまうのを防ぐために並行処理を行う**ようなので、その視点を持って書いてみようと思います。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:35:45+09:00","group":null,"id":"66ee955509284e941803","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"JavaScript","versions":[]},{"name":"学習メモ","versions":[]}],"title":"Fetch APIでデーターを取得しながらPromiseとasyc/awaitを学んだまとめ","updated_at":"2019-07-09T21:35:45+09:00","url":"https://qiita.com/Abbiscuit/items/66ee955509284e941803","user":{"description":"異業種からエンジニアを目指してただいま勉強しています。\r\n主にJavaScript（フロントおよびバックエンド）を学んでいます。\r\n\r\n今後の方針変更はあるかと思いますが、とりあえずは学習の中で困ったことやその解決法などを中心に記録を取ろうと思います。","facebook_id":"","followees_count":5,"followers_count":1,"github_login_name":"Abbiscuit","id":"Abbiscuit","items_count":11,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":378452,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/378452/profile-images/1557547415","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"やりたいこと\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eやりたいこと\u003c/h1\u003e\n\n\u003cp\u003e\"\u003cem\u003ef.select\u003c/em\u003e\"で生成されるセレクトボックスの中身（optionタグ）をいじりたい\u003cbr\u003e\n初期値を設定したい\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"概要\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A6%82%E8%A6%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e概要\u003c/h1\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"rb\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eselect\u003c/span\u003e \u003cspan class=\"ss\"\u003e:name\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoptions_for_select\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"err\"\u003eセレクトボックスで表示したい要素配列\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"err\"\u003eセレクトボックスで表示される値\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003evalue\u003c/span\u003e\u003cspan class=\"err\"\u003e属性値にセットしたい値\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"err\"\u003e追加属性記述\u003c/span\u003e\u003cspan class=\"p\"\u003e}]},\u003c/span\u003e \u003cspan class=\"err\"\u003e初期値の\u003c/span\u003e\u003cspan class=\"n\"\u003evalue\u003c/span\u003e\u003cspan class=\"err\"\u003eを選択\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"p\"\u003e{},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"ss\"\u003eclass: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eid: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hogehoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003cem\u003evalue属性値にセットしたい値\u003c/em\u003eの記述をなくすと\u003cbr\u003e\n\"value = セレクトボックスで表示される値\"\u003cbr\u003e\nになります\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"具体例\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%85%B7%E4%BD%93%E4%BE%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e具体例\u003c/h1\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"rb\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"c1\"\u003e#セレクトボックスの選択肢にしたい要素配列\u003c/span\u003e\n\u003cspan class=\"vi\"\u003e@sample_array_1\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'aaa'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'bbb'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'ccc'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"vi\"\u003e@sample_array_2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"ss\"\u003eid: \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003ename: \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"aaa\"\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"ss\"\u003eid: \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003ename: \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"bbb\"\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"ss\"\u003eid: \u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003ename: \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"ccc\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}]\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e#初期値要素（データベースから読み取ったと仮定）\u003c/span\u003e\n\u003cspan class=\"vi\"\u003e@selected_sample_1\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s1\"\u003e'bbb'\u003c/span\u003e\n\u003cspan class=\"vi\"\u003e@selected_sample_2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"ss\"\u003eid: \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003ename: \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"bbb\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e#基本形１\u003c/span\u003e\n\u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eselect\u003c/span\u003e \u003cspan class=\"ss\"\u003e:sample\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"vi\"\u003e@sample_array_1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"ss\"\u003eclass: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eid: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hogehoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e#基本形２\u003c/span\u003e\n\u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eselect\u003c/span\u003e \u003cspan class=\"ss\"\u003e:sample\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoptions_for_select\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"vi\"\u003e@sample_array_2\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"ss\"\u003e:name\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"ss\"\u003e:id\u003c/span\u003e\u003cspan class=\"p\"\u003e]]}),\u003c/span\u003e \u003cspan class=\"p\"\u003e{},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"ss\"\u003eclass: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eid: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hogehoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e#属性追加１\u003c/span\u003e\n\u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eselect\u003c/span\u003e \u003cspan class=\"ss\"\u003e:sample\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoptions_for_select\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"vi\"\u003e@sample_array_1\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s1\"\u003e'data-sample'\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e}]}),\u003c/span\u003e \u003cspan class=\"p\"\u003e{},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"ss\"\u003eclass: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eid: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hogehoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e#属性追加２\u003c/span\u003e\n\u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eselect\u003c/span\u003e \u003cspan class=\"ss\"\u003e:sample\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoptions_for_select\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"vi\"\u003e@sample_array\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"ss\"\u003e:name\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"ss\"\u003e:id\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s1\"\u003e'data-sample'\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"ss\"\u003e:id\u003c/span\u003e\u003cspan class=\"p\"\u003e]}]}),\u003c/span\u003e \u003cspan class=\"p\"\u003e{},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"ss\"\u003eclass: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eid: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hogehoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e#初期値設定1\u003c/span\u003e\n\u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eselect\u003c/span\u003e \u003cspan class=\"ss\"\u003e:sample\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoptions_for_select\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"vi\"\u003e@sample_array_1\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s1\"\u003e'data-sample'\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e}]},\u003c/span\u003e \u003cspan class=\"vi\"\u003e@selected_sample_1\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"p\"\u003e{},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"ss\"\u003eclass: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eid: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hogehoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e#初期値設定2\u003c/span\u003e\n\u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eselect\u003c/span\u003e \u003cspan class=\"ss\"\u003e:sample\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoptions_for_select\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"vi\"\u003e@sample_array\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"ss\"\u003e:name\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"ss\"\u003e:id\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s1\"\u003e'data-sample'\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"ss\"\u003e:id\u003c/span\u003e\u003cspan class=\"p\"\u003e]}]},\u003c/span\u003e \u003cspan class=\"vi\"\u003e@selected_sample_2\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"p\"\u003e{},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"ss\"\u003eclass: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eid: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hogehoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"基本形１\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%9F%BA%E6%9C%AC%E5%BD%A2%EF%BC%91\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e基本形１\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"rb\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eselect\u003c/span\u003e \u003cspan class=\"ss\"\u003e:sample\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"vi\"\u003e@sample_array_1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"ss\"\u003eclass: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eid: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hogehoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e#基本形１\n\u003cspan class=\"nt\"\u003e\u0026lt;select\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"hoge\"\u003c/span\u003e \u003cspan class=\"na\"\u003eid=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"hogehoge\"\u003c/span\u003e \u003cspan class=\"na\"\u003ename=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"sample\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"aaa\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eaaa\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"bbb\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003ebbb\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ccc\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eccc\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/select\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"基本形２\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%9F%BA%E6%9C%AC%E5%BD%A2%EF%BC%92\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e基本形２\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"rb\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eselect\u003c/span\u003e \u003cspan class=\"ss\"\u003e:sample\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoptions_for_select\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"vi\"\u003e@sample_array_2\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"ss\"\u003e:name\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"ss\"\u003e:id\u003c/span\u003e\u003cspan class=\"p\"\u003e]]}),\u003c/span\u003e \u003cspan class=\"p\"\u003e{},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"ss\"\u003eclass: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eid: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hogehoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e#基本形２\n\u003cspan class=\"nt\"\u003e\u0026lt;select\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"hoge\"\u003c/span\u003e \u003cspan class=\"na\"\u003eid=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"hogehoge\"\u003c/span\u003e \u003cspan class=\"na\"\u003ename=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"sample\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eaaa\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"2\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003ebbb\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"3\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eccc\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/select\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"属性追加１\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%B1%9E%E6%80%A7%E8%BF%BD%E5%8A%A0%EF%BC%91\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e属性追加１\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"rb\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eselect\u003c/span\u003e \u003cspan class=\"ss\"\u003e:sample\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoptions_for_select\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"vi\"\u003e@sample_array_1\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s1\"\u003e'data-sample'\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e}]}),\u003c/span\u003e \u003cspan class=\"p\"\u003e{},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"ss\"\u003eclass: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eid: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hogehoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e#属性追加１\n\u003cspan class=\"nt\"\u003e\u0026lt;select\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"hoge\"\u003c/span\u003e \u003cspan class=\"na\"\u003eid=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"hogehoge\"\u003c/span\u003e \u003cspan class=\"na\"\u003ename=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"sample\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003edata-sample=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"aaa\"\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"aaa\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eaaa\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003edata-sample=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"bbb\"\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"bbb\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003ebbb\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003edata-sample=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ccc\"\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ccc\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eccc\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/select\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"属性追加２\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%B1%9E%E6%80%A7%E8%BF%BD%E5%8A%A0%EF%BC%92\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e属性追加２\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"rb\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eselect\u003c/span\u003e \u003cspan class=\"ss\"\u003e:sample\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoptions_for_select\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"vi\"\u003e@sample_array\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"ss\"\u003e:name\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"ss\"\u003e:id\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s1\"\u003e'data-sample'\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"ss\"\u003e:id\u003c/span\u003e\u003cspan class=\"p\"\u003e]}]}),\u003c/span\u003e \u003cspan class=\"p\"\u003e{},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"ss\"\u003eclass: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eid: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hogehoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e#属性追加２\n\u003cspan class=\"nt\"\u003e\u0026lt;select\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"hoge\"\u003c/span\u003e \u003cspan class=\"na\"\u003eid=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"hogehoge\"\u003c/span\u003e \u003cspan class=\"na\"\u003ename=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"sample\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003edata-sample=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eaaa\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003edata-sample=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003ebbb\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003edata-sample=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eccc\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/select\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"初期値設定１\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%88%9D%E6%9C%9F%E5%80%A4%E8%A8%AD%E5%AE%9A%EF%BC%91\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e初期値設定１\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"rb\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eselect\u003c/span\u003e \u003cspan class=\"ss\"\u003e:sample\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoptions_for_select\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"vi\"\u003e@sample_array_1\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s1\"\u003e'data-sample'\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e}]},\u003c/span\u003e \u003cspan class=\"vi\"\u003e@selected_sample_1\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"p\"\u003e{},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"ss\"\u003eclass: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eid: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hogehoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e#初期値設定１\n\u003cspan class=\"nt\"\u003e\u0026lt;select\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"hoge\"\u003c/span\u003e \u003cspan class=\"na\"\u003eid=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"hogehoge\"\u003c/span\u003e \u003cspan class=\"na\"\u003ename=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"sample\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003edata-sample=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"aaa\"\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"aaa\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eaaa\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003eselected=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"selected\"\u003c/span\u003e \u003cspan class=\"na\"\u003edata-sample=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"bbb\"\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"bbb\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003ebbb\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003edata-sample=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ccc\"\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ccc\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eccc\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/select\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"初期値設定２\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%88%9D%E6%9C%9F%E5%80%A4%E8%A8%AD%E5%AE%9A%EF%BC%92\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e初期値設定２\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"rb\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eselect\u003c/span\u003e \u003cspan class=\"ss\"\u003e:sample\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoptions_for_select\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"vi\"\u003e@sample_array\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"ss\"\u003e:name\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"ss\"\u003e:id\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s1\"\u003e'data-sample'\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"ss\"\u003e:id\u003c/span\u003e\u003cspan class=\"p\"\u003e]}]},\u003c/span\u003e \u003cspan class=\"vi\"\u003e@selected_sample_2\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"p\"\u003e{},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"ss\"\u003eclass: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eid: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'hogehoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e#初期値設定２\n\u003cspan class=\"nt\"\u003e\u0026lt;select\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"hoge\"\u003c/span\u003e \u003cspan class=\"na\"\u003eid=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"hogehoge\"\u003c/span\u003e \u003cspan class=\"na\"\u003ename=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"sample\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003edata-sample=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eaaa\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003eselected=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"selected\"\u003c/span\u003e \u003cspan class=\"na\"\u003edata-sample=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003ebbb\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003edata-sample=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eccc\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/select\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://stackoverflow.com/questions/18100834/how-to-make-the-f-select-rails-selected\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://stackoverflow.com/questions/18100834/how-to-make-the-f-select-rails-selected\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://stackoverflow.com/questions/5052889/ruby-on-rails-f-select-options-with-custom-attributes\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://stackoverflow.com/questions/5052889/ruby-on-rails-f-select-options-with-custom-attributes\u003c/a\u003e\u003c/p\u003e\n","body":"#やりたいこと\n\"*f.select*\"で生成されるセレクトボックスの中身（optionタグ）をいじりたい\n初期値を設定したい\n\n#概要\n```.rb\n= f.select :name, options_for_select(セレクトボックスで表示したい要素配列.map{|c|[セレクトボックスで表示される値, value属性値にセットしたい値, {追加属性記述}]}, 初期値のvalueを選択), {}, {class: 'hoge', id: 'hogehoge'}\n```\n*value属性値にセットしたい値*の記述をなくすと\n\"value = セレクトボックスで表示される値\"\nになります\n\n#具体例\n```.rb\n#セレクトボックスの選択肢にしたい要素配列\n@sample_array_1 = ['aaa', 'bbb', 'ccc']\n@sample_array_2 = [{id: 1, name: \"aaa\"}, {id: 2, name: \"bbb\"}, {id: 3, name: \"ccc\"}]\n#初期値要素（データベースから読み取ったと仮定）\n@selected_sample_1 = 'bbb'\n@selected_sample_2 = {id: 2, name: \"bbb\"}\n\n#基本形１\n= f.select :sample, @sample_array_1, {}, {class: 'hoge', id: 'hogehoge'}\n#基本形２\n= f.select :sample, options_for_select(@sample_array_2.map{|c|[c[:name], c[:id]]}), {}, {class: 'hoge', id: 'hogehoge'}\n#属性追加１\n= f.select :sample, options_for_select(@sample_array_1.map{|c|[c, {'data-sample'=\u003ec}]}), {}, {class: 'hoge', id: 'hogehoge'}\n#属性追加２\n= f.select :sample, options_for_select(@sample_array.map{|c|[c[:name], c[:id], {'data-sample'=\u003ec[:id]}]}), {}, {class: 'hoge', id: 'hogehoge'}\n#初期値設定1\n= f.select :sample, options_for_select(@sample_array_1.map{|c|[c, {'data-sample'=\u003ec}]}, @selected_sample_1), {}, {class: 'hoge', id: 'hogehoge'}\n#初期値設定2\n= f.select :sample, options_for_select(@sample_array.map{|c|[c[:name], c[:id], {'data-sample'=\u003ec[:id]}]}, @selected_sample_2.id), {}, {class: 'hoge', id: 'hogehoge'}\n```\n###基本形１\n```.rb\n= f.select :sample, @sample_array_1, {}, {class: 'hoge', id: 'hogehoge'}\n```\n```.html\n#基本形１\n\u003cselect class=\"hoge\" id=\"hogehoge\" name=\"sample\"\u003e\n  \u003coption value=\"aaa\"\u003eaaa\u003c/option\u003e\n  \u003coption value=\"bbb\"\u003ebbb\u003c/option\u003e\n  \u003coption value=\"ccc\"\u003eccc\u003c/option\u003e\n\u003c/select\u003e\n```\n###基本形２\n```.rb\n= f.select :sample, options_for_select(@sample_array_2.map{|c|[c[:name], c[:id]]}), {}, {class: 'hoge', id: 'hogehoge'}\n```\n```.html\n#基本形２\n\u003cselect class=\"hoge\" id=\"hogehoge\" name=\"sample\"\u003e\n  \u003coption value=\"1\"\u003eaaa\u003c/option\u003e\n  \u003coption value=\"2\"\u003ebbb\u003c/option\u003e\n  \u003coption value=\"3\"\u003eccc\u003c/option\u003e\n\u003c/select\u003e\n```\n###属性追加１\n```.rb\n= f.select :sample, options_for_select(@sample_array_1.map{|c|[c, {'data-sample'=\u003ec}]}), {}, {class: 'hoge', id: 'hogehoge'}\n```\n```.html\n#属性追加１\n\u003cselect class=\"hoge\" id=\"hogehoge\" name=\"sample\"\u003e\n  \u003coption data-sample=\"aaa\" value=\"aaa\"\u003eaaa\u003c/option\u003e\n  \u003coption data-sample=\"bbb\" value=\"bbb\"\u003ebbb\u003c/option\u003e\n  \u003coption data-sample=\"ccc\" value=\"ccc\"\u003eccc\u003c/option\u003e\n\u003c/select\u003e\n```\n###属性追加２\n```.rb\n= f.select :sample, options_for_select(@sample_array.map{|c|[c[:name], c[:id], {'data-sample'=\u003ec[:id]}]}), {}, {class: 'hoge', id: 'hogehoge'}\n```\n```.html\n#属性追加２\n\u003cselect class=\"hoge\" id=\"hogehoge\" name=\"sample\"\u003e\n  \u003coption data-sample=\"1\" value=\"1\"\u003eaaa\u003c/option\u003e\n  \u003coption data-sample=\"1\" value=\"1\"\u003ebbb\u003c/option\u003e\n  \u003coption data-sample=\"1\" value=\"1\"\u003eccc\u003c/option\u003e\n\u003c/select\u003e\n```\n###初期値設定１\n```.rb\n= f.select :sample, options_for_select(@sample_array_1.map{|c|[c, {'data-sample'=\u003ec}]}, @selected_sample_1), {}, {class: 'hoge', id: 'hogehoge'}\n```\n```.html\n#初期値設定１\n\u003cselect class=\"hoge\" id=\"hogehoge\" name=\"sample\"\u003e\n  \u003coption data-sample=\"aaa\" value=\"aaa\"\u003eaaa\u003c/option\u003e\n  \u003coption selected=\"selected\" data-sample=\"bbb\" value=\"bbb\"\u003ebbb\u003c/option\u003e\n  \u003coption data-sample=\"ccc\" value=\"ccc\"\u003eccc\u003c/option\u003e\n\u003c/select\u003e\n```\n###初期値設定２\n```.rb\n= f.select :sample, options_for_select(@sample_array.map{|c|[c[:name], c[:id], {'data-sample'=\u003ec[:id]}]}, @selected_sample_2.id), {}, {class: 'hoge', id: 'hogehoge'}\n```\n```.html\n#初期値設定２\n\u003cselect class=\"hoge\" id=\"hogehoge\" name=\"sample\"\u003e\n  \u003coption data-sample=\"1\" value=\"1\"\u003eaaa\u003c/option\u003e\n  \u003coption selected=\"selected\" data-sample=\"1\" value=\"1\"\u003ebbb\u003c/option\u003e\n  \u003coption data-sample=\"1\" value=\"1\"\u003eccc\u003c/option\u003e\n\u003c/select\u003e\n```\n#参考\nhttps://stackoverflow.com/questions/18100834/how-to-make-the-f-select-rails-selected\nhttps://stackoverflow.com/questions/5052889/ruby-on-rails-f-select-options-with-custom-attributes\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:35:18+09:00","group":null,"id":"fc6217412c5bc004ac6c","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Ruby","versions":[]},{"name":"Rails","versions":[]},{"name":"haml","versions":[]}],"title":"f.selectで生成されるoptionタグを改変する","updated_at":"2019-07-09T21:35:18+09:00","url":"https://qiita.com/ATORA1992/items/fc6217412c5bc004ac6c","user":{"description":"Webエンジニアになるべく主にHTML、CSS、Ruby、Ruby on Railsを主として勉強中の身です。\r\n勉強のアウトプットの場として、学習内容をアップしています。\r\nTwitter: @ATORA1992","facebook_id":"","followees_count":0,"followers_count":1,"github_login_name":null,"id":"ATORA1992","items_count":4,"linkedin_id":"","location":"","name":"山田 亜虎","organization":"","permanent_id":417893,"profile_image_url":"https://pbs.twimg.com/profile_images/1122111091859791872/tIRxbtva_bigger.jpg","team_only":false,"twitter_screen_name":"ATORA1992","website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"まえおき\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%88%E3%81%8A%E3%81%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまえおき。\u003c/h1\u003e\n\n\u003cp\u003eJavaがアレなことになってからあちこち放浪した末Pythonにたどり着いて今に至ります。マルチプラットフォームで色々出来る何かということでRaspberry Piをメインにいろいろいじくり回しています。\u003c/p\u003e\n\n\u003cp\u003ePythonとPyGameを利用することでHIDやグラフィック、サウンドその他midiやらなにやらひっくるめて色々出来るのでもっぱらPyGameを使うことが多いです。\u003cbr\u003e\nPyGameはPythonでSDLをとても簡単に利用できる素晴らしいプラットフォームですが手続きが多くロジックに集中出来ないと思ったのでまず面倒なことは裏側ですべてやってもらえるようなミドルウェアというかフレームワーク的なものをつくりました。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://github.com/sugarflower/pyg\" rel=\"nofollow noopener\" target=\"_blank\"\u003epyg\u003c/a\u003e\u003c/strong\u003e\u003cbr\u003e\nガチガチなフレームワークではなくやんわりとPyGameをくるむラッパーとして動作しますのでPyGameの機能にはすべてアクセス可能。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"c\"\u003e#!/usr/bin/python3\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003epyg\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003emain\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003esetup\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"n\"\u003epyg\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esetSize\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"mi\"\u003e128\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e128\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n        \u003cspan class=\"n\"\u003epyg\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esetTitle\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Simple\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eloop\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epass\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003e__name__\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"s\"\u003e\"__main__\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"n\"\u003em\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emain\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"n\"\u003epyg\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erun\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003em\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eウィンドウが出るだけの簡単なサンプル。\u003cbr\u003e\nこれだけで煩わしい初期化処理とかイベント処理とか全部やってもらえます。\u003c/p\u003e\n\n\u003cp\u003ePyGameにはバッドノウハウみたいなものも多いのでそのあたりも吸収させるのが目的。おかげでロジックに集中してコードを書くことが出来るようになりました。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"本題\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%AC%E9%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e本題\u003c/h1\u003e\n\n\u003cp\u003ePyGameはゲームと名前が付いているのでゲーム用と思っている人が多いようですが別にゲーム以外に使うのも自由です。\u003cbr\u003e\nゲーム以外に使う場合のメリットはグラフィックが簡単に扱えること。\u003cbr\u003e\nただ、標準では2Dしか扱えません。\u003cbr\u003e\nOpenGLを併用する例も見受けられるのですが残念なことにRaspberry Pi2ではOpenGLを有効にした途端に画面が表示されなかったりしていろいろアレなのです。\u003c/p\u003e\n\n\u003cp\u003eそこで、自前でフラットシェーディングあたりまで網羅した3Dポリゴンの処理を実装しようと考えました。\u003cbr\u003e\n現実的な速度が出るかというと怪しいです。\u003cbr\u003e\n実用にはならないかもしれないけれども興味は有るのでやってみようということに。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003epoly.py\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"c\"\u003e#!/usr/bin/python3\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003epyg\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003emath\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003emain\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003efaceVect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ev1\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ev2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n        \u003cspan class=\"n\"\u003en0\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ev1\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ev2\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ev1\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ev2\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"n\"\u003en1\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ev1\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ev2\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ev1\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ev2\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"n\"\u003en2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ev1\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ev2\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ev1\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ev2\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eln\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emath\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003en0\u003c/span\u003e\u003cspan class=\"o\"\u003e**\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003en1\u003c/span\u003e\u003cspan class=\"o\"\u003e**\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003en2\u003c/span\u003e\u003cspan class=\"o\"\u003e**\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003eln\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003en0\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003en0\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eln\u003c/span\u003e\n            \u003cspan class=\"n\"\u003en1\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003en1\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eln\u003c/span\u003e\n            \u003cspan class=\"n\"\u003en2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003en2\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eln\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003en0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003en1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003en2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003ecl\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003erotate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003epoints\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003erx\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ery\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003erz\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emath\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eradians\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ery\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emath\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eradians\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003erx\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eg\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emath\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eradians\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003erz\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ep2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epoints\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003elc\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epoints\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"nb\"\u003erange\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elc\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eidx\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ex0\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epoints\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eidx\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ey0\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epoints\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eidx\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ez0\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epoints\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eidx\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ex1\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ex0\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emath\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ez0\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emath\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ez1\u003c/span\u003e \u003cspan class=\"o\"\u003e=-\u003c/span\u003e\u003cspan class=\"n\"\u003ex0\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emath\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ez0\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emath\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ey2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ey0\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emath\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ez1\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emath\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ez2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ey0\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emath\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ez1\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emath\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ex3\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emath\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eg\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ey2\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emath\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eg\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ey3\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emath\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eg\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ey2\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emath\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eg\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ep2\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eidx\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ex3\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ep2\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eidx\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ey3\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ep2\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eidx\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ez2\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ep2\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003etrans\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003epoints\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003erx\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ery\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003erz\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ep2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ec\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e   \n        \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003epoints\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"mi\"\u003e500\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"mi\"\u003e500\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ez\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ep2\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"mi\"\u003e160\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"mi\"\u003e160\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003ez\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ec\u003c/span\u003e \u003cspan class=\"o\"\u003e+=\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ep2\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003elight\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003evec\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"n\"\u003elight\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \n        \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003evec\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003elight\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003evec\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003elight\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ec\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003evec\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003elight\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nb\"\u003eabs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003egetTri\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elink\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eidx\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elink\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eidx\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eidx\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eidx\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eidx\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elink\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eidx\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eidx\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eidx\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eidx\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elink\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ec\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eidx\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eidx\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eidx\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003esetup\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"n\"\u003epyg\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esetSize\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"mi\"\u003e320\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e320\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n        \u003cspan class=\"n\"\u003epyg\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esetTitle\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"polygon\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erx\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ery\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erz\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ep\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elink\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e),(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e),(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e),(\u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e),(\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e),(\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e),(\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eloop\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"n\"\u003epyg\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eclear\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003ep1\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erotate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erx\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ery\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erz\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003el\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elink\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003et\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003egetTri\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ep1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003el\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ev\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efaceVect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ep2\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etrans\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erx\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ery\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erz\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecl\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ep2\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n                \u003cspan class=\"n\"\u003elv\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elight\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ev\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ecl\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emath\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efloor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e64\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003elv\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e190\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ecolor\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epyg\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecl\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003ecl\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003ecl\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003epyg\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003egetGfx\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efilled_polygon\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epyg\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003egetSurface\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e \u003cspan class=\"n\"\u003ep2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecolor\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003epyg\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eisKeyDownCode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e273\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n            \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erx\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erx\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e%\u003c/span\u003e \u003cspan class=\"mi\"\u003e360\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003epyg\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eisKeyDownCode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e274\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n            \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erx\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erx\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e%\u003c/span\u003e \u003cspan class=\"mi\"\u003e360\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003epyg\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eisKeyDownCode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e275\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n            \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ery\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ery\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e%\u003c/span\u003e \u003cspan class=\"mi\"\u003e360\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003epyg\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eisKeyDownCode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e276\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n            \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ery\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ery\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e%\u003c/span\u003e \u003cspan class=\"mi\"\u003e360\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003em\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emain\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"n\"\u003epyg\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erun\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003em\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/4d29f05ba798b10640522f5b556fc4d2717f27af/68747470733a2f2f7375676172666c6f7765722e6769746875622e696f2f736974652f6574632f706f6c792e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/4d29f05ba798b10640522f5b556fc4d2717f27af/68747470733a2f2f7375676172666c6f7765722e6769746875622e696f2f736974652f6574632f706f6c792e706e67\" alt=\"polygon3d\" data-canonical-src=\"https://sugarflower.github.io/site/etc/poly.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e前提として昔々にワイヤーフレームでいろいろなものを回して遊ぶという謎な遊びをしていたので回転と透視変換は元から知識としてありましたという感じです。\u003cbr\u003e\nただし隠面（隠線）処理や法線ベクトル、カリングなんていうのは未知の領域。\u003cbr\u003e\n調べながら少しづつ実装してみました。\u003cbr\u003e\n肝心の速度の方ですが、まあキューブ一個ですので問題もなくすいすい動いてます。複雑なオブジェクトとか、点群データが増えたらどうなのかってところですよね。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"カリング処理とは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AB%E3%83%AA%E3%83%B3%E3%82%B0%E5%87%A6%E7%90%86%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eカリング処理とは\u003c/h2\u003e\n\n\u003cp\u003eポリゴンに表裏がある。というのはちらちらと聞きかじって知っていましたが具体的にどういうことかは理解していませんでした。\u003cbr\u003e\n法線ベクトルの向きによって表裏を判断する。裏側なら描画しない。とすることで隠面処理が出来ます。ということですね。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"法線ベクトル\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%B3%95%E7%B7%9A%E3%83%99%E3%82%AF%E3%83%88%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e法線ベクトル？\u003c/h2\u003e\n\n\u003cp\u003e3点の座標を面としてそこから垂直に伸びる点を求めます、これが法線ベクトル。面がどっちを向いているのか知るために必要です。\u003cbr\u003e\n照明とオブジェクトの法線オブジェクトをかけあわせてやることでオブジェクトへどんな風に光が当たってるか調整出来たりします。\u003cbr\u003e\nちなみに今回利用しているのが面法線、最近のグラフィックでは頂点法線を使うことのほうが多いようですが、ここではPythonで動かしてるという手前あまり負荷はかけられないのでフラットシェーディングまでとして面法線で手を打つことに。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"やってる事\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%84%E3%81%A3%E3%81%A6%E3%82%8B%E4%BA%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eやってる事\u003c/h1\u003e\n\n\u003cp\u003e処理の内容は\u003ccode\u003eloop\u003c/code\u003e で追えます。\u003cbr\u003e\n- すべての点を回転する\u003cbr\u003e\n- 点群をリンク情報を元に3点づつ取り出す\u003cbr\u003e\n- 法線ベクトルを取得\u003cbr\u003e\n- 透視変換\u003cbr\u003e\n- カリング処理、表向きでないなら以下の処理はパス\u003cbr\u003e\n- 法線ベクトルからオブジェクトの明るさを取得する\u003cbr\u003e\n- ポリゴン描画\u003c/p\u003e\n\n\u003cp\u003eといった感じです。\u003cbr\u003e\n調べながら作ってるので効率の悪い部分もあると思いますが、とりあえずいまのところこれが精一杯。\u003cbr\u003e\nなにはなくともいい勉強になった気がします。\u003c/p\u003e\n\n\u003cp\u003eなにかに活かせるといいなー。\u003c/p\u003e\n","body":"# まえおき。\nJavaがアレなことになってからあちこち放浪した末Pythonにたどり着いて今に至ります。マルチプラットフォームで色々出来る何かということでRaspberry Piをメインにいろいろいじくり回しています。\n\nPythonとPyGameを利用することでHIDやグラフィック、サウンドその他midiやらなにやらひっくるめて色々出来るのでもっぱらPyGameを使うことが多いです。\nPyGameはPythonでSDLをとても簡単に利用できる素晴らしいプラットフォームですが手続きが多くロジックに集中出来ないと思ったのでまず面倒なことは裏側ですべてやってもらえるようなミドルウェアというかフレームワーク的なものをつくりました。\n\n**[pyg](https://github.com/sugarflower/pyg)**\nガチガチなフレームワークではなくやんわりとPyGameをくるむラッパーとして動作しますのでPyGameの機能にはすべてアクセス可能。\n\n```python\n#!/usr/bin/python3\nimport pyg\n\nclass main:\n\tdef setup(self):\n\t\tpyg.setSize((128,128))\n\t\tpyg.setTitle(\"Simple\")\n\n\tdef loop(self):\n\t\tpass\n\nif __name__ == \"__main__\":\n\tm = main()\n\tpyg.run(m)\n```\n\nウィンドウが出るだけの簡単なサンプル。\nこれだけで煩わしい初期化処理とかイベント処理とか全部やってもらえます。\n\nPyGameにはバッドノウハウみたいなものも多いのでそのあたりも吸収させるのが目的。おかげでロジックに集中してコードを書くことが出来るようになりました。\n\n# 本題\nPyGameはゲームと名前が付いているのでゲーム用と思っている人が多いようですが別にゲーム以外に使うのも自由です。\nゲーム以外に使う場合のメリットはグラフィックが簡単に扱えること。\nただ、標準では2Dしか扱えません。\nOpenGLを併用する例も見受けられるのですが残念なことにRaspberry Pi2ではOpenGLを有効にした途端に画面が表示されなかったりしていろいろアレなのです。\n\nそこで、自前でフラットシェーディングあたりまで網羅した3Dポリゴンの処理を実装しようと考えました。\n現実的な速度が出るかというと怪しいです。\n実用にはならないかもしれないけれども興味は有るのでやってみようということに。\n\n```python:poly.py\n#!/usr/bin/python3\nimport pyg\nimport math\n\nclass main:\n\n\tdef faceVect(self,p):\n\t\tv1 = (p[1][0] - p[0][0], p[1][1] - p[0][1], p[1][2] - p[0][2])\n\t\tv2 = (p[2][0] - p[0][0], p[2][1] - p[0][1], p[2][2] - p[0][2])\n\t\tn0 = v1[1] * v2[2] - v1[2] * v2[1]\n\t\tn1 = v1[2] * v2[0] - v1[0] * v2[2]\n\t\tn2 = v1[0] * v2[1] - v1[1] * v2[0]\n\t\tln = math.sqrt(n0**2 + n1**2 + n2**2)\n\t\tif ln != 0:\n\t\t\tn0 = n0 / ln\n\t\t\tn1 = n1 / ln\n\t\t\tn2 = n2 / ln\n\t\treturn (n0,n1,n2)\n\n\tdef cl(self,p):\n\t\ta = (p[1][0] - p[0][0]) * (p[2][1] - p[0][1])\n\t\tb = (p[1][1] - p[0][1]) * (p[2][0] - p[0][0])\n\t\treturn a \u003e b\n\n\tdef rotate(self, points, rx, ry, rz):\n\t\tb = math.radians(ry)\n\t\ta = math.radians(rx)\n\t\tg = math.radians(rz)\n\t\tp2 = [0]*len(points)\n\t\tlc = int(len(points)/3)\n\t\tfor i in range(lc):\n\t\t\tidx = i * 3\n\t\t\tx0 = points[idx]\n\t\t\ty0 = points[idx+1]\n\t\t\tz0 = points[idx+2]\n\t\t\tx1 = x0 * math.cos(b) + z0 * math.sin(b)\n\t\t\tz1 =-x0 * math.sin(b) + z0 * math.cos(b)\n\t\t\ty2 = y0 * math.cos(a) - z1 * math.sin(a)\n\t\t\tz2 = y0 * math.sin(a) + z1 * math.cos(a)\n\t\t\tx3 = x1 * math.cos(g) - y2 * math.sin(g)\n\t\t\ty3 = x1 * math.sin(g) + y2 * math.cos(g)\n\t\t\tp2[idx] = x3\n\t\t\tp2[idx+1] = y3\n\t\t\tp2[idx+2] = z2\n\t\treturn p2\n\n\tdef trans(self, points, rx, ry, rz):\n\t\tp2 = [[0,0,0]] * 3\n\t\tc = 0\t\n\t\tfor p in points:\n\t\t\tx = p[0] / ( 10 + p[2] ) * 500\n\t\t\ty = p[1] / ( 10 + p[2] ) * 500\n\t\t\tz = p[2]\n\t\t\tp2[c] = (x+160,y+160,z)\n\t\t\tc += 1\n\t\treturn p2\n\n\tdef light(self,vec):\n\t\tlight = (0,0,-1) \n\t\ta = vec[0] * light[0]\n\t\tb = vec[1] * light[1]\n\t\tc = vec[2] * light[2]\n\t\treturn abs(a+b+c)\n\n\tdef getTri(self, data, link):\n\t\tidx = link[0] * 3\n\t\ta = (data[idx],data[idx+1],data[idx+2])\n\t\tidx = link[1] * 3\n\t\tb = (data[idx],data[idx+1],data[idx+2])\n\t\tidx = link[2] * 3\n\t\tc = (data[idx],data[idx+1],data[idx+2])\n\t\treturn (a,b,c)\n\n\tdef setup(self):\n\t\tpyg.setSize((320,320))\n\t\tpyg.setTitle(\"polygon\")\n\t\tself.rx = 0\n\t\tself.ry = 0\n\t\tself.rz = 0\n\t\tself.p = (-1,1,1, 1,1,1, 1,-1,1, -1,-1,1, -1,1,-1, 1,1,-1, 1,-1,-1, -1,-1,-1)\n\t\tself.link = (\n\t\t\t(0,1,2),(0,2,3), (1,5,6),(1,6,2),\n\t\t\t(5,4,7),(5,7,6), (4,0,3),(4,3,7),\n\t\t\t(4,1,0),(4,5,1), (3,2,6),(3,6,7))\n\n\tdef loop(self):\n\t\tpyg.clear()\n\n\t\tp1 = self.rotate(self.p, self.rx, self.ry, self.rz)\n\t\tfor l in self.link:\n\t\t\tt = self.getTri(p1,l)\n\t\t\tv = self.faceVect(t)\n\t\t\tp2=self.trans(t,self.rx,self.ry,self.rz)\n\t\t\tif self.cl(p2):\n\t\t\t\tlv = self.light(v)\n\t\t\t\tcl = math.floor(64 * lv + 190)\n\t\t\t\tcolor = pyg.Color(cl,cl,cl)\n\t\t\t\tpyg.getGfx().filled_polygon(pyg.getSurface(), p2, color)\n\n\t\tif pyg.isKeyDownCode(273):\n\t\t\tself.rx = (self.rx - 5) % 360\n\t\tif pyg.isKeyDownCode(274):\n\t\t\tself.rx = (self.rx + 5) % 360\n\t\tif pyg.isKeyDownCode(275):\n\t\t\tself.ry = (self.ry - 5) % 360\n\t\tif pyg.isKeyDownCode(276):\n\t\t\tself.ry = (self.ry + 5) % 360\n\nm = main()\npyg.run(m)\n```\n\n![polygon3d](https://sugarflower.github.io/site/etc/poly.png)\n\n前提として昔々にワイヤーフレームでいろいろなものを回して遊ぶという謎な遊びをしていたので回転と透視変換は元から知識としてありましたという感じです。\nただし隠面（隠線）処理や法線ベクトル、カリングなんていうのは未知の領域。\n調べながら少しづつ実装してみました。\n肝心の速度の方ですが、まあキューブ一個ですので問題もなくすいすい動いてます。複雑なオブジェクトとか、点群データが増えたらどうなのかってところですよね。\n\n## カリング処理とは\nポリゴンに表裏がある。というのはちらちらと聞きかじって知っていましたが具体的にどういうことかは理解していませんでした。\n法線ベクトルの向きによって表裏を判断する。裏側なら描画しない。とすることで隠面処理が出来ます。ということですね。\n\n## 法線ベクトル？\n3点の座標を面としてそこから垂直に伸びる点を求めます、これが法線ベクトル。面がどっちを向いているのか知るために必要です。\n照明とオブジェクトの法線オブジェクトをかけあわせてやることでオブジェクトへどんな風に光が当たってるか調整出来たりします。\nちなみに今回利用しているのが面法線、最近のグラフィックでは頂点法線を使うことのほうが多いようですが、ここではPythonで動かしてるという手前あまり負荷はかけられないのでフラットシェーディングまでとして面法線で手を打つことに。\n\n# やってる事\n処理の内容は```loop``` で追えます。\n- すべての点を回転する\n- 点群をリンク情報を元に3点づつ取り出す\n- 法線ベクトルを取得\n- 透視変換\n- カリング処理、表向きでないなら以下の処理はパス\n- 法線ベクトルからオブジェクトの明るさを取得する\n- ポリゴン描画\n\nといった感じです。\n調べながら作ってるので効率の悪い部分もあると思いますが、とりあえずいまのところこれが精一杯。\nなにはなくともいい勉強になった気がします。\n\nなにかに活かせるといいなー。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:30:16+09:00","group":null,"id":"8cda4421979242ce44f8","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"RaspberryPi","versions":[]},{"name":"3D","versions":[]},{"name":"Python3","versions":[]},{"name":"Pi","versions":[]},{"name":"pygam","versions":[]}],"title":"Pythonでベタに3Dのポリゴンを実装する。","updated_at":"2019-07-09T21:38:39+09:00","url":"https://qiita.com/sugarflower/items/8cda4421979242ce44f8","user":{"description":"","facebook_id":"","followees_count":0,"followers_count":3,"github_login_name":null,"id":"sugarflower","items_count":21,"linkedin_id":"","location":"","name":"sugarflower","organization":"","permanent_id":294842,"profile_image_url":"https://pbs.twimg.com/profile_images/1038787163146473472/u8ZPZHF-_bigger.jpg","team_only":false,"twitter_screen_name":"sugarflowersnd","website_url":""},"page_views_count":null},{"rendered_body":"\u003cp\u003eViritenz that you ought to dependably look and that is proficiency what I mean is that we state that you need to do seat press we realize that the bank cost will select the chest triceps shoulders don't attempt to segregate in a seat press in the event that we attempt to improve quality we attempt to do that those muscles cooperate I'm attempting to state he's driving behind the shoulders if to secure the shoulders yet not with the end goal of attempt to coordinate with the chest and truly crush and fix understanding that withdrawal in the chest as much as you can crush your hands together it's not tied in with moving the bar and keeping a proper speed since that issue in moving it with some speed so it additionally expands your capacity since we realize that the power and quality go connected at the hip so I don't realize attempt to detach a specific muscle without However,\u003cbr\u003e\n\u003ca href=\"https://www.healthyfigures.org/viritenz/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.healthyfigures.org/viritenz/\u003c/a\u003e\u003c/p\u003e\n","body":" Viritenz that you ought to dependably look and that is proficiency what I mean is that we state that you need to do seat press we realize that the bank cost will select the chest triceps shoulders don't attempt to segregate in a seat press in the event that we attempt to improve quality we attempt to do that those muscles cooperate I'm attempting to state he's driving behind the shoulders if to secure the shoulders yet not with the end goal of attempt to coordinate with the chest and truly crush and fix understanding that withdrawal in the chest as much as you can crush your hands together it's not tied in with moving the bar and keeping a proper speed since that issue in moving it with some speed so it additionally expands your capacity since we realize that the power and quality go connected at the hip so I don't realize attempt to detach a specific muscle without However,\nhttps://www.healthyfigures.org/viritenz/\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:30:03+09:00","group":null,"id":"644d8fdfc1067e1e19bf","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Viritenz","versions":[]}],"title":"https://www.healthyfigures.org/viritenz/","updated_at":"2019-07-09T21:30:03+09:00","url":"https://qiita.com/wallacegeiser11/items/644d8fdfc1067e1e19bf","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"wallacegeiser11","items_count":1,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":457874,"profile_image_url":"https://secure.gravatar.com/avatar/e39172fee32f4c84fc20a5835bec057b","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\u003cp\u003eSimona Halep vs Zhang Shuai Live~Stream\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"go-live--httptinyccb1cg9y\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#go-live--httptinyccb1cg9y\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGO LIVE \u0026gt;\u0026gt; \u003ca href=\"http://tiny.cc/b1cg9y\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://tiny.cc/b1cg9y\u003c/a\u003e\n\u003c/h1\u003e\n\n\u003cp\u003eAfter Manic Monday at Wimbledon, we have the women’s quarter-finals on Tuesday and it should be superb.\u003c/p\u003e\n\n\u003cp\u003eThe women’s draw is fascinating since so many big names and seeds are long gone.\u003c/p\u003e\n\n\u003cp\u003eAll four women’s quarter-finals take place on Tuesday.\u003c/p\u003e\n\n\u003cp\u003eSimona Halep remains the highest seed – at seven – left in the competition.\u003c/p\u003e\n\n\u003cp\u003eZhang Shuai is unseeded at Wimbledon 2019.\u003c/p\u003e\n","body":"Simona Halep vs Zhang Shuai Live~Stream\n\n#GO LIVE \u003e\u003e http://tiny.cc/b1cg9y\n\nAfter Manic Monday at Wimbledon, we have the women’s quarter-finals on Tuesday and it should be superb.\n\nThe women’s draw is fascinating since so many big names and seeds are long gone.\n\nAll four women’s quarter-finals take place on Tuesday.\n\nSimona Halep remains the highest seed – at seven – left in the competition.\n\nZhang Shuai is unseeded at Wimbledon 2019.\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:27:53+09:00","group":null,"id":"924af8c14bd3a4c28af3","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Stream","versions":[]},{"name":"vs","versions":[]},{"name":"live","versions":[]},{"name":"Halep","versions":[]},{"name":"shuai","versions":[]}],"title":"Live! halep vs shuai Live!Stream ","updated_at":"2019-07-09T21:27:53+09:00","url":"https://qiita.com/ramprotein/items/924af8c14bd3a4c28af3","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"ramprotein","items_count":1,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":457865,"profile_image_url":"https://secure.gravatar.com/avatar/632713da453d3787bdbacfe04fbd0a81","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\u003cp\u003e（本投稿は個人的趣味で書いています。また\u003ca href=\"https://note.mu/akichika/n/n4b72eab1793d\" rel=\"nofollow noopener\" target=\"_blank\"\u003eNoteの記事\u003c/a\u003eからの転載です。試験的に両方で書いています。）\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/c849f705cc8f4c773b363295c6626e1dd618c1a3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33333034302f61316237663465342d366633652d383661352d636563352d3933626136636364353834322e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/c849f705cc8f4c773b363295c6626e1dd618c1a3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33333034302f61316237663465342d366633652d383661352d636563352d3933626136636364353834322e6a706567\" alt=\"rectangle_large_type_2_fb1cc49e779915db3a46aaa57acbc7a5.jpeg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/33040/a1b7f4e4-6f3e-86a5-cec5-93ba6ccd5842.jpeg\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003etoioのVisual Programmingはとても簡単にロボットプログラミングが出来て、動かしているだけでも楽しいので、基本的なところから紹介していきたいと思います。体系的な説明にこだわらず、ネタ的な物も気ままに書きたいと思います。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"本記事の概要\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%AC%E8%A8%98%E4%BA%8B%E3%81%AE%E6%A6%82%E8%A6%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e本記事の概要\u003c/h1\u003e\n\n\u003cp\u003eまずはロボットを動かす基本中の基本、「前後左右にマニュアルで動かす」ところから（いわゆるラジコン操作）、ということで遠隔操作のサンプルです。キーボードの矢印キーで上下左右キー前後左右の動きを割り当てます。いくつかハマりがちなポイントがあるのでそちらも紹介します。\u003cbr\u003e\n後半では、toioならではとも言える、絶対座標を使ってマットからはみ出ないように制御する例や、マスの面を使って上下左右に１マスずつ正確に動く例など、普通のロボットではなかなか出来ない絶対位置制御を用いた例を簡単に紹介します。\u003c/p\u003e\n\n\u003cp\u003e・・・と言ってみたものの、QiitaはいくらやってもYouTube動画の埋め込みがいまいちうまくいかず、正直なところYouTube動画満載の記事が読みづらいので、ここからはNoteの方が読みやすいと感じましたので、ぜひ詳細は下記Noteをご覧下さい。中途半端な見出しで申し訳ありません。\u003c/p\u003e\n\n\u003cp\u003e続きはこちら・・・\u003cbr\u003e\n\u003ca href=\"https://note.mu/akichika/n/n4b72eab1793d\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://note.mu/akichika/n/n4b72eab1793d\u003c/a\u003e\u003c/p\u003e\n","body":"\n（本投稿は個人的趣味で書いています。また[Noteの記事](https://note.mu/akichika/n/n4b72eab1793d)からの転載です。試験的に両方で書いています。）\n\n![rectangle_large_type_2_fb1cc49e779915db3a46aaa57acbc7a5.jpeg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/33040/a1b7f4e4-6f3e-86a5-cec5-93ba6ccd5842.jpeg)\n\n\ntoioのVisual Programmingはとても簡単にロボットプログラミングが出来て、動かしているだけでも楽しいので、基本的なところから紹介していきたいと思います。体系的な説明にこだわらず、ネタ的な物も気ままに書きたいと思います。\n\n# 本記事の概要\n\nまずはロボットを動かす基本中の基本、「前後左右にマニュアルで動かす」ところから（いわゆるラジコン操作）、ということで遠隔操作のサンプルです。キーボードの矢印キーで上下左右キー前後左右の動きを割り当てます。いくつかハマりがちなポイントがあるのでそちらも紹介します。\n後半では、toioならではとも言える、絶対座標を使ってマットからはみ出ないように制御する例や、マスの面を使って上下左右に１マスずつ正確に動く例など、普通のロボットではなかなか出来ない絶対位置制御を用いた例を簡単に紹介します。\n\n\n・・・と言ってみたものの、QiitaはいくらやってもYouTube動画の埋め込みがいまいちうまくいかず、正直なところYouTube動画満載の記事が読みづらいので、ここからはNoteの方が読みやすいと感じましたので、ぜひ詳細は下記Noteをご覧下さい。中途半端な見出しで申し訳ありません。\n\n\n続きはこちら・・・\nhttps://note.mu/akichika/n/n4b72eab1793d\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:24:56+09:00","group":null,"id":"a3e4ea7c671642a6aa95","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"#toio","versions":[]},{"name":"#VisualProgramming","versions":[]},{"name":"#ロボット","versions":[]}],"title":"放課後のtoioあそび：VisualProgrammingでキューブの前後左右操作（基本＆座標制御）","updated_at":"2019-07-09T21:24:56+09:00","url":"https://qiita.com/akichika/items/a3e4ea7c671642a6aa95","user":{"description":"","facebook_id":"","followees_count":6,"followers_count":39,"github_login_name":"akichika","id":"akichika","items_count":5,"linkedin_id":"","location":"","name":"Akichika Tanaka","organization":"","permanent_id":33040,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/33040/profile-images/1473686034","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\u003cp\u003etotal-s.p.o.r.t.e.k Elina Svitolina vs Karolína Muchova Live~Stream wimbledon 2019 live\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"live--wwwsupleonmlwimbledon\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#live--wwwsupleonmlwimbledon\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eLive ::: \u003ca href=\"http://www.supleon.ml/wimbledon/\" rel=\"nofollow noopener\" target=\"_blank\"\u003ewww.supleon.ml/wimbledon/\u003c/a\u003e\n\u003c/h1\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"live--wwwsupleonmlwimbledon-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#live--wwwsupleonmlwimbledon-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eLive ::: \u003ca href=\"http://www.supleon.ml/wimbledon/\" rel=\"nofollow noopener\" target=\"_blank\"\u003ewww.supleon.ml/wimbledon/\u003c/a\u003e\n\u003c/h1\u003e\n\n\u003cp\u003eThe women’s draw is fascinating since so many big names and seeds are long gone.\u003c/p\u003e\n\n\u003cp\u003eAll four women’s quarter-finals take place on Tuesday.\u003c/p\u003e\n\n\u003cp\u003eUkrainian Elina Svitolina is one of the highest seeds left in the competition, at eight.\u003c/p\u003e\n\n\u003cp\u003eKarolina Muchova is unseeded at Wimbledon 2019 so has already exceeded expectations.\u003c/p\u003e\n","body":"total-s.p.o.r.t.e.k Elina Svitolina vs Karolína Muchova Live~Stream wimbledon 2019 live\n\n#Live ::: www.supleon.ml/wimbledon/\n\n#Live ::: www.supleon.ml/wimbledon/\n\n\n\nThe women’s draw is fascinating since so many big names and seeds are long gone.\n\nAll four women’s quarter-finals take place on Tuesday.\n\nUkrainian Elina Svitolina is one of the highest seeds left in the competition, at eight.\n\nKarolina Muchova is unseeded at Wimbledon 2019 so has already exceeded expectations.\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:24:19+09:00","group":null,"id":"3f672389761f4a422b1e","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"vs","versions":[]},{"name":"Svitolina","versions":[]},{"name":"Muchova","versions":[]}],"title":"Live! Svitolina vs Muchova Live!Stream","updated_at":"2019-07-09T21:24:19+09:00","url":"https://qiita.com/oushushs/items/3f672389761f4a422b1e","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"oushushs","items_count":3,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":454528,"profile_image_url":"https://secure.gravatar.com/avatar/d25a69ad6a266f7092ff60dcb8cb885c","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\u003cdiv class=\"code-frame\" data-lang=\"Python\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ekeras.py\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n","body":"```Python:keras.py\n\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:21:00+09:00","group":null,"id":"b9055192c323752dadf1","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Python","versions":[]},{"name":"Keras","versions":[]},{"name":"TensorFlow","versions":[]}],"title":"TensorFlow, keras メモ","updated_at":"2019-07-09T21:21:00+09:00","url":"https://qiita.com/tatsuroyamasaki/items/b9055192c323752dadf1","user":{"description":"","facebook_id":"","followees_count":2,"followers_count":0,"github_login_name":"tatsuroyamasaki","id":"tatsuroyamasaki","items_count":3,"linkedin_id":"tatsuro-yamasaki-304319189","location":"福岡県","name":"達郎 山崎","organization":"九州大学　海洋システム工学","permanent_id":413183,"profile_image_url":"https://avatars1.githubusercontent.com/u/45618066?v=4","team_only":false,"twitter_screen_name":null,"website_url":"https://twitter.com/tatsupinn"},"page_views_count":null},{"rendered_body":"\u003cdiv class=\"code-frame\" data-lang=\"vb\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\n\u003cspan class=\"c1\"\u003e'ユーザーフォームに設定\u003c/span\u003e\n\u003cspan class=\"k\"\u003eSub\u003c/span\u003e \u003cspan class=\"nf\"\u003eCommandButton2_Click\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"n\"\u003eUserFormA\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWebBrowser1\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSilent\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eTrue\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eDim\u003c/span\u003e \u003cspan class=\"nv\"\u003eie\u003c/span\u003e \u003cspan class=\"ow\"\u003eAs\u003c/span\u003e \u003cspan class=\"n\"\u003eInternetExplorer\u003c/span\u003e\n\u003cspan class=\"k\"\u003eDim\u003c/span\u003e \u003cspan class=\"nv\"\u003etxtInput\u003c/span\u003e \u003cspan class=\"ow\"\u003eAs\u003c/span\u003e \u003cspan class=\"n\"\u003eHTMLInputElement\u003c/span\u003e\n\u003cspan class=\"k\"\u003eDim\u003c/span\u003e \u003cspan class=\"nv\"\u003eanchor\u003c/span\u003e \u003cspan class=\"ow\"\u003eAs\u003c/span\u003e \u003cspan class=\"n\"\u003eHTMLAnchorElement\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eSet\u003c/span\u003e \u003cspan class=\"n\"\u003etxtInput\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eWebBrowser1\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edocument\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003egetElementById\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"msthdsbox\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003etxtInput\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eValue\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"AAA\"\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eFor\u003c/span\u003e \u003cspan class=\"k\"\u003eEach\u003c/span\u003e \u003cspan class=\"n\"\u003eanchor\u003c/span\u003e \u003cspan class=\"ow\"\u003eIn\u003c/span\u003e \u003cspan class=\"n\"\u003eWebBrowser1\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edocument\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003egetElementsByTagName\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"A\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eIf\u003c/span\u003e \u003cspan class=\"n\"\u003eanchor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003einnerText\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"プロ野球\"\u003c/span\u003e \u003cspan class=\"k\"\u003eThen\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eanchor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eClick\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eExit\u003c/span\u003e \u003cspan class=\"k\"\u003eFor\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eEnd\u003c/span\u003e \u003cspan class=\"k\"\u003eIf\u003c/span\u003e\n\u003cspan class=\"k\"\u003eNext\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eDo\u003c/span\u003e \u003cspan class=\"k\"\u003eWhile\u003c/span\u003e \u003cspan class=\"n\"\u003eWebBrowser1\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBusy\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eTrue\u003c/span\u003e \u003cspan class=\"ow\"\u003eOr\u003c/span\u003e \u003cspan class=\"n\"\u003eWebBrowser1\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ereadyState\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003eREADYSTATE_COMPLETE\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eDoEvents\u003c/span\u003e\n\u003cspan class=\"k\"\u003eLoop\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eFor\u003c/span\u003e \u003cspan class=\"k\"\u003eEach\u003c/span\u003e \u003cspan class=\"n\"\u003eanchor\u003c/span\u003e \u003cspan class=\"ow\"\u003eIn\u003c/span\u003e \u003cspan class=\"n\"\u003eWebBrowser1\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edocument\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003egetElementsByTagName\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"A\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eIf\u003c/span\u003e \u003cspan class=\"n\"\u003eanchor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003einnerText\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"個人成績\"\u003c/span\u003e \u003cspan class=\"k\"\u003eThen\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eanchor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eClick\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eExit\u003c/span\u003e \u003cspan class=\"k\"\u003eFor\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eEnd\u003c/span\u003e \u003cspan class=\"k\"\u003eIf\u003c/span\u003e\n\u003cspan class=\"k\"\u003eNext\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eEnd\u003c/span\u003e \u003cspan class=\"k\"\u003eSub\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003ePrivate\u003c/span\u003e \u003cspan class=\"k\"\u003eSub\u003c/span\u003e \u003cspan class=\"nf\"\u003eUserForm_Initialize\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e'HTMLソースの全てを取得\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e'参照設定\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e'「Microsoft HTML Object Library」、「Microsoft Internet Controls」\u003c/span\u003e\n\u003cspan class=\"n\"\u003eUserFormA\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWebBrowser1\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSilent\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eTrue\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eDim\u003c/span\u003e \u003cspan class=\"nv\"\u003eie\u003c/span\u003e \u003cspan class=\"ow\"\u003eAs\u003c/span\u003e \u003cspan class=\"n\"\u003eInternetExplorer\u003c/span\u003e\n\u003cspan class=\"k\"\u003eDim\u003c/span\u003e \u003cspan class=\"nv\"\u003etxtInput\u003c/span\u003e \u003cspan class=\"ow\"\u003eAs\u003c/span\u003e \u003cspan class=\"n\"\u003eHTMLInputElement\u003c/span\u003e\n\u003cspan class=\"k\"\u003eDim\u003c/span\u003e \u003cspan class=\"nv\"\u003eanchor\u003c/span\u003e \u003cspan class=\"ow\"\u003eAs\u003c/span\u003e \u003cspan class=\"n\"\u003eHTMLAnchorElement\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eWebBrowser1\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNavigate\u003c/span\u003e \u003cspan class=\"s\"\u003e\"https://sports.yahoo.co.jp/\"\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eEnd\u003c/span\u003e \u003cspan class=\"k\"\u003eSub\u003c/span\u003e\n\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n","body":"```vb\n\n'ユーザーフォームに設定\nSub CommandButton2_Click()\nUserFormA.WebBrowser1.Silent = True\n\nDim ie As InternetExplorer\nDim txtInput As HTMLInputElement\nDim anchor As HTMLAnchorElement\n\nSet txtInput = WebBrowser1.document.getElementById(\"msthdsbox\")\ntxtInput.Value = \"AAA\"\n\nFor Each anchor In WebBrowser1.document.getElementsByTagName(\"A\")\n    If anchor.innerText = \"プロ野球\" Then\n        anchor.Click\n        Exit For\n    End If\nNext\n\nDo While WebBrowser1.Busy = True Or WebBrowser1.readyState \u003c READYSTATE_COMPLETE\n    DoEvents\nLoop\n\nFor Each anchor In WebBrowser1.document.getElementsByTagName(\"A\")\n    If anchor.innerText = \"個人成績\" Then\n        anchor.Click\n        Exit For\n    End If\nNext\n\nEnd Sub\n\nPrivate Sub UserForm_Initialize()\n'HTMLソースの全てを取得\n'参照設定\n'「Microsoft HTML Object Library」、「Microsoft Internet Controls」\nUserFormA.WebBrowser1.Silent = True\n\nDim ie As InternetExplorer\nDim txtInput As HTMLInputElement\nDim anchor As HTMLAnchorElement\n\nWebBrowser1.Navigate \"https://sports.yahoo.co.jp/\"\n\nEnd Sub\n\n```\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:20:47+09:00","group":null,"id":"681e59cb2f2824170f10","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"ExcelVBA","versions":[]}],"title":"テスト9","updated_at":"2019-07-09T21:24:04+09:00","url":"https://qiita.com/tqr65rs/items/681e59cb2f2824170f10","user":{"description":"","facebook_id":"","followees_count":1,"followers_count":0,"github_login_name":null,"id":"tqr65rs","items_count":9,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":416677,"profile_image_url":"https://secure.gravatar.com/avatar/1366fb1d56fb857639595412b1a8f045","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"about-carbon\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#about-carbon\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAbout Carbon\u003c/h1\u003e\n\n\u003cp\u003eCarbonについての説明は下記の記事に詳しく書かれています。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita.com/yudsuzuk/items/ff894bd0b76d4657741d\" id=\"reference-fbe68d8fb89748d6828d\"\u003ePHPで日付時刻処理を書くならCarbonを使うべき\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://pgmemo.tokyo/data/archives/1429.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003ephpの便利な日付、時刻オブジェクト Carbon を使用する。平成、令和などの和暦を表示させる\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://blog.capilano-fw.com/?p=867\" rel=\"nofollow noopener\" target=\"_blank\"\u003e全217件！Carbonで時間操作する実例\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"概要\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A6%82%E8%A6%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e概要\u003c/h1\u003e\n\n\u003cp\u003e過去に作ったモジュールについて記事を書いてます。\u003cbr\u003e\ninstgramなどの投稿に、投稿から「〇〇分前」などと表示される時間経過の部分を作ります。\u003cbr\u003e\n画像の「９分前」、「１秒前」の部分のことです。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/66bf03d752dfd82626060b64dd741b42fc0392b4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235353331392f66613036396663332d363861322d353531662d343235382d6464353335343432613838612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/66bf03d752dfd82626060b64dd741b42fc0392b4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235353331392f66613036396663332d363861322d353531662d343235382d6464353335343432613838612e706e67\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/255319/fa069fc3-68a2-551f-4258-dd535442a88a.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"コード\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%BC%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコード\u003c/h1\u003e\n\n\u003cp\u003ebladeテンプレートの投稿コンテンツにこれを書くだけでできます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"blade\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eindex.blade.php\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u0026lt;?php   //時間の差分を求める\n$postedAt = new \\Carbon\\Carbon($message-\u0026gt;created_at);\n$now = \\Carbon\\Carbon::now();\n$secondsSincePosted = $postedAt-\u0026gt;diffInSeconds($now);\nif($secondsSincePosted \u0026gt; 59){\n    $minutesSincePosted = $postedAt-\u0026gt;diffInMinutes($now);\n    if($minutesSincePosted \u0026gt; 59){\n        $hoursSincePosted = $postedAt-\u0026gt;diffInHours($now);\n        if($hoursSincePosted \u0026gt; 23){\n            $daysSincePosted = $postedAt-\u0026gt;diffInDays($now);\n            if($daysSincePosted \u0026gt; 6){\n                $yearsSincePosted = $postedAt-\u0026gt;diffInYears($now);\n                if($yearsSincePosted \u0026gt; 0){\n                    echo $postedAt-\u0026gt;format(\"Y年n月j日\");\n                }else{\n                    echo $postedAt-\u0026gt;format(\"n月j日\");\n                }\n            }else{\n                echo $daysSincePosted.'日前';\n            }\n        }else{\n            echo $hoursSincePosted.'時間前';\n        }\n    }else{\n        echo $minutesSincePosted.'分前';\n    }\n}else{\n    echo $secondsSincePosted.'秒前';\n}\n?\u0026gt;\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"まとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまとめ\u003c/h1\u003e\n\n\u003cp\u003eCarbonはいいぞ。\u003c/p\u003e\n\n\u003cp\u003eGithubにも上げてます。\u003cbr\u003e\n\u003ca href=\"https://github.com/jdkfx/posted-date\" rel=\"nofollow noopener\" target=\"_blank\"\u003ejdkfx/posted-date\u003c/a\u003e\u003c/p\u003e\n","body":"# About Carbon\nCarbonについての説明は下記の記事に詳しく書かれています。\n\n[PHPで日付時刻処理を書くならCarbonを使うべき](https://qiita.com/yudsuzuk/items/ff894bd0b76d4657741d)\n[phpの便利な日付、時刻オブジェクト Carbon を使用する。平成、令和などの和暦を表示させる]\n(https://pgmemo.tokyo/data/archives/1429.html)\n[全217件！Carbonで時間操作する実例]\n(https://blog.capilano-fw.com/?p=867)\n\n# 概要\n過去に作ったモジュールについて記事を書いてます。\ninstgramなどの投稿に、投稿から「〇〇分前」などと表示される時間経過の部分を作ります。\n画像の「９分前」、「１秒前」の部分のことです。\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/255319/fa069fc3-68a2-551f-4258-dd535442a88a.png)\n\n# コード\nbladeテンプレートの投稿コンテンツにこれを書くだけでできます。\n\n```index.blade.php\n\u003c?php   //時間の差分を求める\n$postedAt = new \\Carbon\\Carbon($message-\u003ecreated_at);\n$now = \\Carbon\\Carbon::now();\n$secondsSincePosted = $postedAt-\u003ediffInSeconds($now);\nif($secondsSincePosted \u003e 59){\n    $minutesSincePosted = $postedAt-\u003ediffInMinutes($now);\n    if($minutesSincePosted \u003e 59){\n        $hoursSincePosted = $postedAt-\u003ediffInHours($now);\n        if($hoursSincePosted \u003e 23){\n            $daysSincePosted = $postedAt-\u003ediffInDays($now);\n            if($daysSincePosted \u003e 6){\n                $yearsSincePosted = $postedAt-\u003ediffInYears($now);\n                if($yearsSincePosted \u003e 0){\n                    echo $postedAt-\u003eformat(\"Y年n月j日\");\n                }else{\n                    echo $postedAt-\u003eformat(\"n月j日\");\n                }\n            }else{\n                echo $daysSincePosted.'日前';\n            }\n        }else{\n            echo $hoursSincePosted.'時間前';\n        }\n    }else{\n        echo $minutesSincePosted.'分前';\n    }\n}else{\n    echo $secondsSincePosted.'秒前';\n}\n?\u003e\n```\n\n# まとめ\nCarbonはいいぞ。\n\nGithubにも上げてます。\n[jdkfx/posted-date](https://github.com/jdkfx/posted-date)\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:16:51+09:00","group":null,"id":"7a6987e63c4dba876881","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"PHP","versions":[]},{"name":"Laravel","versions":[]}],"title":"Carbonを使って投稿経過時間を表示する（Laravel）","updated_at":"2019-07-09T21:16:51+09:00","url":"https://qiita.com/jdkfx/items/7a6987e63c4dba876881","user":{"description":"","facebook_id":"","followees_count":0,"followers_count":0,"github_login_name":null,"id":"jdkfx","items_count":2,"linkedin_id":"","location":"","name":"Haruki Tazoe","organization":"","permanent_id":255319,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/255319/profile-images/1554378293","team_only":false,"twitter_screen_name":"jdkfx","website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003eRustで非常にネストの深いstruct/enum（例えば大規模な抽象構文木とか）を書いていると以下のようなコンパイルエラーが出ることがあります。\u003cbr\u003e\n（実のところ再帰的なマクロを書いて失敗するとよく出るエラーなのですが、特にマクロを書いてなくても出るよ、という話です）\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"console\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"go\"\u003eerror: reached the recursion limit while instantiating `...`\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこの記事ではこのエラーの理由と解決方法を書きます。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"何のエラーか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%95%E3%81%AE%E3%82%A8%E3%83%A9%E3%83%BC%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e何のエラーか\u003c/h1\u003e\n\n\u003cp\u003eRustコンパイラには\u003ccode\u003erecursion_limit\u003c/code\u003eという制限値があります。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://doc.rust-lang.org/reference/attributes/limits.html#the-recursion_limit-attribute\" rel=\"nofollow noopener\" target=\"_blank\"\u003eThe recursion_limit attribute\u003c/a\u003e\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eThe recursion_limit attribute may be applied at the crate level to set the maximum depth for potentially infinitely-recursive compile-time operations like macro expansion or auto-dereference. It uses the MetaNameValueStr syntax to specify the recursion depth.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e要するに「コンパイル時の処理（マクロの展開やDerefの自動追加）の際に無限再帰にならないよう最大値を設けている」ということで、これに引っかかったときに出るのが冒頭のエラーです。\u003c/p\u003e\n\n\u003cp\u003e単にstruct/enumのネストが深いだけなら特に関係ないのですが、例えば\u003ccode\u003e#[derive(Debug)]\u003c/code\u003eなどを付けるとこのマクロの展開時に引っかかります。\u003c/p\u003e\n\n\u003cp\u003e現在のデフォルト値は64のようです。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"解決方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e解決方法\u003c/h1\u003e\n\n\u003cp\u003e以下のように制限値を増やすことができます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"rust\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"o\"\u003e!\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003erecursion_limit\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"128\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこのアトリビュートはクレートレベルアトリビュートとなっていて、クレートのトップレベルでしか宣言できません。\u003ccode\u003elib.rs\u003c/code\u003eか\u003ccode\u003emain.rs\u003c/code\u003eに書けばOKです。\u003c/p\u003e\n","body":"# はじめに\n\nRustで非常にネストの深いstruct/enum（例えば大規模な抽象構文木とか）を書いていると以下のようなコンパイルエラーが出ることがあります。\n（実のところ再帰的なマクロを書いて失敗するとよく出るエラーなのですが、特にマクロを書いてなくても出るよ、という話です）\n\n```console\nerror: reached the recursion limit while instantiating `...`\n```\n\nこの記事ではこのエラーの理由と解決方法を書きます。\n\n# 何のエラーか\n\nRustコンパイラには`recursion_limit`という制限値があります。\n\n[The recursion_limit attribute](https://doc.rust-lang.org/reference/attributes/limits.html#the-recursion_limit-attribute)\n\n\u003e The recursion_limit attribute may be applied at the crate level to set the maximum depth for potentially infinitely-recursive compile-time operations like macro expansion or auto-dereference. It uses the MetaNameValueStr syntax to specify the recursion depth.\n\n要するに「コンパイル時の処理（マクロの展開やDerefの自動追加）の際に無限再帰にならないよう最大値を設けている」ということで、これに引っかかったときに出るのが冒頭のエラーです。\n\n単にstruct/enumのネストが深いだけなら特に関係ないのですが、例えば`#[derive(Debug)]`などを付けるとこのマクロの展開時に引っかかります。\n\n現在のデフォルト値は64のようです。\n\n# 解決方法\n\n以下のように制限値を増やすことができます。\n\n```rust\n#![recursion_limit = \"128\"]\n```\n\nこのアトリビュートはクレートレベルアトリビュートとなっていて、クレートのトップレベルでしか宣言できません。`lib.rs`か`main.rs`に書けばOKです。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:16:50+09:00","group":null,"id":"06b2e343920c3e6be59f","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"Rust","versions":[]}],"title":"Rustのrecursion_limit","updated_at":"2019-07-09T21:16:50+09:00","url":"https://qiita.com/dalance/items/06b2e343920c3e6be59f","user":{"description":null,"facebook_id":null,"followees_count":1,"followers_count":14,"github_login_name":"dalance","id":"dalance","items_count":51,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":84296,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/84296/profile-images/1553554269","team_only":false,"twitter_screen_name":"dalance1982","website_url":null},"page_views_count":null},{"rendered_body":"\u003cp\u003eBarbora Strycova vs Johanna Konta Live~Stream total-s.p.o.r.t.e.k wimbledon quarter finals live\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"live--wwwsupleonmlwimbledon\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#live--wwwsupleonmlwimbledon\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eLive ::: \u003ca href=\"http://www.supleon.ml/wimbledon/\" rel=\"nofollow noopener\" target=\"_blank\"\u003ewww.supleon.ml/wimbledon/\u003c/a\u003e\n\u003c/h1\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"live--wwwsupleonmlwimbledon-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#live--wwwsupleonmlwimbledon-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eLive ::: \u003ca href=\"http://www.supleon.ml/wimbledon/\" rel=\"nofollow noopener\" target=\"_blank\"\u003ewww.supleon.ml/wimbledon/\u003c/a\u003e\n\u003c/h1\u003e\n\n\u003cp\u003eAfter Manic Monday at Wimbledon, we have the women’s quarter-finals on Tuesday and it should be superb.\u003c/p\u003e\n\n\u003cp\u003eThe women’s draw is fascinating since so many big names and seeds are long gone.\u003c/p\u003e\n\n\u003cp\u003eAll four women’s quarter-finals take place on Tuesday.\u003c/p\u003e\n\n\u003cp\u003eFew would have predicted this encounter in the quarter-finals.\u003c/p\u003e\n","body":"Barbora Strycova vs Johanna Konta Live~Stream total-s.p.o.r.t.e.k wimbledon quarter finals live\n\n#Live ::: www.supleon.ml/wimbledon/\n\n#Live ::: www.supleon.ml/wimbledon/\n\nAfter Manic Monday at Wimbledon, we have the women’s quarter-finals on Tuesday and it should be superb.\n\nThe women’s draw is fascinating since so many big names and seeds are long gone.\n\nAll four women’s quarter-finals take place on Tuesday.\n\nFew would have predicted this encounter in the quarter-finals.\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:16:46+09:00","group":null,"id":"0b001f3fd5ef428ba233","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Konta","versions":[]},{"name":"Strycova","versions":[]}],"title":"Live! Strycova vs Konta Live!Stream","updated_at":"2019-07-09T21:16:46+09:00","url":"https://qiita.com/musisjsn/items/0b001f3fd5ef428ba233","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"musisjsn","items_count":2,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":457793,"profile_image_url":"https://secure.gravatar.com/avatar/75cef72b2fb8994757c3ea83e15a1e07","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\n\u003ch2\u003e\n\u003cspan id=\"前書き\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%89%8D%E6%9B%B8%E3%81%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e前書き\u003c/h2\u003e\n\n\u003cp\u003e以下のような画像群がありました。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/dd316ea9876bab41171bc32c3e1580266c9c744e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3337393739352f64646534313265612d333165352d306563392d633262392d3363363638646139663738362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/dd316ea9876bab41171bc32c3e1580266c9c744e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3337393739352f64646534313265612d333165352d306563392d633262392d3363363638646139663738362e706e67\" alt=\"スクリーンショット 2019-07-09 20.07.52.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/379795/dde412ea-31e5-0ec9-c2b9-3c668da9f786.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eここから画像サイズに誤りあるもの（赤い画像）を検出しないといけない。\u003c/p\u003e\n\n\u003cp\u003e普通にGUIで見たらこんな感じです。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/e1741c4a3304ec42f25e51f3bfd2970223ea0feb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3337393739352f30616165393537662d636362352d303736612d386262642d3439356161373536313233322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/e1741c4a3304ec42f25e51f3bfd2970223ea0feb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3337393739352f30616165393537662d636362352d303736612d386262642d3439356161373536313233322e706e67\" alt=\"スクリーンショット 2019-07-09 20.51.19.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/379795/0aae957f-ccb5-076a-8bbd-495aa7561232.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e赤い画像がサイズ違いの画像。\u003cbr\u003e\n実際の画像は全て違うデザインなので、これだけでは画像の判別がつかないです。\u003c/p\u003e\n\n\u003cp\u003eこういうのを見れるGUIツールはいくらでもありそうですが、\u003cbr\u003e\n画像の数が多いので、GUIツールが重かったり見にくかったり。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"何がしたいのか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%95%E3%81%8C%E3%81%97%E3%81%9F%E3%81%84%E3%81%AE%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e何がしたいのか\u003c/h2\u003e\n\n\u003cp\u003eなるだけラクにチェックしたいです。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"何をやるのか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%95%E3%82%92%E3%82%84%E3%82%8B%E3%81%AE%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e何をやるのか\u003c/h2\u003e\n\n\u003cp\u003e簡単な処理で対処してしまおう、と思いました。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"やったこと\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%84%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eやったこと\u003c/h2\u003e\n\n\u003cp\u003ePython で対処しました。\u003cbr\u003e\nPythonの画像処理ライブラリPillowを使ってます。\u003cbr\u003e\npip などで簡単にインストールできます。\u003cbr\u003e\n\u003ca href=\"https://pillow.readthedocs.io/en/stable/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://pillow.readthedocs.io/en/stable/\u003c/a\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eimport glob\nfrom PIL import Image\n\n# 処理\ndef main(x, y, type_str, path, file_type):\n    files = glob.glob(path + file_type)\n    ng_cnt = 0\n    ok_cnt = 0\n\n    for file in files:\n        sample = Image.open(file)\n        sizestr = str(sample.size)\n        chkstr_yoko = '(' + str(x) + ', ' + str(y) + ')'\n        chkstr_tate = '(' + str(y) + ', ' + str(x) + ')'\n\n        if sizestr != chkstr_yoko and sizestr != chkstr_tate:\n            print('NG:' + file)\n            ng_cnt = ng_cnt + 1\n        else:\n            ok_cnt = ok_cnt + 1\n        #    print('OK:' + file)\n        # print(chkstr)\n\n    print()\n    print(type_str)\n    print('Tate: W = ' + str(y) + ', H = ' + str(x) +\n          ' / Yoko: W = ' + str(x) + ', H = ' + str(y))\n    print('OK：' + str(ok_cnt))\n    print('NG：' + str(ng_cnt))\n\n# チェックする画像サイズを定義\nx = 150\ny = 100\npath = '/Users/sawai/images/'\nfile_type = '/*.png'\ntype_str = '# Test_Image'\n\n# 処理呼び出し\nmain(x, y, type_str, path, file_type)\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e画像サイズやパスはロジック内に書きましたが、\u003cbr\u003e\n別ファイル定義やコマンドライン引数にしても良いと思います。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"実行結果\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A1%8C%E7%B5%90%E6%9E%9C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実行結果\u003c/h2\u003e\n\n\u003cp\u003eこんな感じでサイズが違う画像をピックアップできました。\u003cbr\u003e\n処理速度も苦にならず、数秒で完了します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/fd9eed95cf4b296c03d73749dc4b79fa5b804b8a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3337393739352f62346462646235652d313966372d623735642d363562322d3935656663333031383138392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/fd9eed95cf4b296c03d73749dc4b79fa5b804b8a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3337393739352f62346462646235652d313966372d623735642d363562322d3935656663333031383138392e706e67\" alt=\"スクリーンショット 2019-07-09 20.52.49.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/379795/b4dbdb5e-19f7-b75d-65b2-95efc3018189.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"まとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまとめ\u003c/h2\u003e\n\n\u003cp\u003e自身は業務上PHPを書く機会が多いのですが、\u003cbr\u003e\nちょっとしたタイミングで、ちょっとしたことを、ちょっと理由作って、\u003cbr\u003e\n興味ある言語で書いてみる機会を作るのも大事かも。\u003cbr\u003e\n（じゃないと実務で使う機会ってあまりないんですよねぇ・・・）\u003c/p\u003e\n\n\u003cp\u003eもちろん、\u003cbr\u003e\n他タスクのリソースを食いつぶすまで熱入れしない程度にですけども。\u003cbr\u003e\nまぁロジック書くことは楽しいことだと思いますから（笑）\u003c/p\u003e\n","body":"## 前書き\n\n以下のような画像群がありました。\n\n![スクリーンショット 2019-07-09 20.07.52.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/379795/dde412ea-31e5-0ec9-c2b9-3c668da9f786.png)\n\nここから画像サイズに誤りあるもの（赤い画像）を検出しないといけない。\n\n普通にGUIで見たらこんな感じです。\n![スクリーンショット 2019-07-09 20.51.19.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/379795/0aae957f-ccb5-076a-8bbd-495aa7561232.png)\n\n赤い画像がサイズ違いの画像。\n実際の画像は全て違うデザインなので、これだけでは画像の判別がつかないです。\n\nこういうのを見れるGUIツールはいくらでもありそうですが、\n画像の数が多いので、GUIツールが重かったり見にくかったり。\n\n\n## 何がしたいのか\n\nなるだけラクにチェックしたいです。\n\n\n## 何をやるのか\n\n簡単な処理で対処してしまおう、と思いました。\n\n\n## やったこと\n\nPython で対処しました。\nPythonの画像処理ライブラリPillowを使ってます。\npip などで簡単にインストールできます。\nhttps://pillow.readthedocs.io/en/stable/\n\n`````\nimport glob\nfrom PIL import Image\n\n# 処理\ndef main(x, y, type_str, path, file_type):\n    files = glob.glob(path + file_type)\n    ng_cnt = 0\n    ok_cnt = 0\n\n    for file in files:\n        sample = Image.open(file)\n        sizestr = str(sample.size)\n        chkstr_yoko = '(' + str(x) + ', ' + str(y) + ')'\n        chkstr_tate = '(' + str(y) + ', ' + str(x) + ')'\n\n        if sizestr != chkstr_yoko and sizestr != chkstr_tate:\n            print('NG:' + file)\n            ng_cnt = ng_cnt + 1\n        else:\n            ok_cnt = ok_cnt + 1\n        #    print('OK:' + file)\n        # print(chkstr)\n\n    print()\n    print(type_str)\n    print('Tate: W = ' + str(y) + ', H = ' + str(x) +\n          ' / Yoko: W = ' + str(x) + ', H = ' + str(y))\n    print('OK：' + str(ok_cnt))\n    print('NG：' + str(ng_cnt))\n\n# チェックする画像サイズを定義\nx = 150\ny = 100\npath = '/Users/sawai/images/'\nfile_type = '/*.png'\ntype_str = '# Test_Image'\n\n# 処理呼び出し\nmain(x, y, type_str, path, file_type)\n`````\n\n画像サイズやパスはロジック内に書きましたが、\n別ファイル定義やコマンドライン引数にしても良いと思います。\n\n## 実行結果\n\nこんな感じでサイズが違う画像をピックアップできました。\n処理速度も苦にならず、数秒で完了します。\n![スクリーンショット 2019-07-09 20.52.49.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/379795/b4dbdb5e-19f7-b75d-65b2-95efc3018189.png)\n\n\n## まとめ\n\n自身は業務上PHPを書く機会が多いのですが、\nちょっとしたタイミングで、ちょっとしたことを、ちょっと理由作って、\n興味ある言語で書いてみる機会を作るのも大事かも。\n（じゃないと実務で使う機会ってあまりないんですよねぇ・・・）\n\nもちろん、\n他タスクのリソースを食いつぶすまで熱入れしない程度にですけども。\nまぁロジック書くことは楽しいことだと思いますから（笑）\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:14:18+09:00","group":null,"id":"682cd6595ad090a70966","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Python","versions":[]},{"name":"pillow","versions":[]}],"title":"Python 画像の縦横幅をチェックする簡易ツール","updated_at":"2019-07-09T21:23:27+09:00","url":"https://qiita.com/masashi-sawai/items/682cd6595ad090a70966","user":{"description":"さわーいです。\r\n社内SE 兼 ECサイト保守運用のwebプログラマやってます。\r\nメタボなのにフルマラソン出場予定、やばい・・・！","facebook_id":"","followees_count":1,"followers_count":1,"github_login_name":"masashi-sawai","id":"masashi-sawai","items_count":4,"linkedin_id":"","location":"大阪","name":"","organization":"","permanent_id":379795,"profile_image_url":"https://avatars2.githubusercontent.com/u/27882799?v=4","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\u003cp\u003eDebianでもNVIDIA提供のグラフィックスドライバがパッケージとして提供されていて、それをインストールする\u003ca href=\"https://wiki.debian.org/NvidiaGraphicsDrivers\" rel=\"nofollow noopener\" target=\"_blank\"\u003e簡単な手順\u003c/a\u003e が公式ウェブサイトで説明されていますが、安定版リリースに入っているドライバはいっこうに更新されません。最新版ドライバを公式パッケージを用いて入れるためには\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"config\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e/etc/apt/sources.listに下記内容を追加\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"n\"\u003edeb\u003c/span\u003e \u003cspan class=\"n\"\u003ehttp\u003c/span\u003e://\u003cspan class=\"n\"\u003edeb\u003c/span\u003e.\u003cspan class=\"n\"\u003edebian\u003c/span\u003e.\u003cspan class=\"n\"\u003eorg\u003c/span\u003e/\u003cspan class=\"n\"\u003edebian\u003c/span\u003e/ \u003cspan class=\"n\"\u003etesting\u003c/span\u003e \u003cspan class=\"n\"\u003emain\u003c/span\u003e \u003cspan class=\"n\"\u003enon\u003c/span\u003e-\u003cspan class=\"n\"\u003efree\u003c/span\u003e \u003cspan class=\"n\"\u003econtrib\u003c/span\u003e\n\u003cspan class=\"n\"\u003edeb\u003c/span\u003e \u003cspan class=\"n\"\u003ehttp\u003c/span\u003e://\u003cspan class=\"n\"\u003edeb\u003c/span\u003e.\u003cspan class=\"n\"\u003edebian\u003c/span\u003e.\u003cspan class=\"n\"\u003eorg\u003c/span\u003e/\u003cspan class=\"n\"\u003edebian\u003c/span\u003e/ \u003cspan class=\"n\"\u003eunstable\u003c/span\u003e \u003cspan class=\"n\"\u003emain\u003c/span\u003e \u003cspan class=\"n\"\u003enon\u003c/span\u003e-\u003cspan class=\"n\"\u003efree\u003c/span\u003e \u003cspan class=\"n\"\u003econtrib\u003c/span\u003e\n\u003cspan class=\"n\"\u003edeb\u003c/span\u003e \u003cspan class=\"n\"\u003ehttp\u003c/span\u003e://\u003cspan class=\"n\"\u003edeb\u003c/span\u003e.\u003cspan class=\"n\"\u003edebian\u003c/span\u003e.\u003cspan class=\"n\"\u003eorg\u003c/span\u003e/\u003cspan class=\"n\"\u003edebian\u003c/span\u003e/ \u003cspan class=\"n\"\u003eexperimental\u003c/span\u003e \u003cspan class=\"n\"\u003emain\u003c/span\u003e \u003cspan class=\"n\"\u003enon\u003c/span\u003e-\u003cspan class=\"n\"\u003efree\u003c/span\u003e \u003cspan class=\"n\"\u003econtrib\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e/etc/apt/apt.conf.d/00mydefaultreleaseに下記内容を記入\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eAPT::Default-Release \"stable\";\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eしてから\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"shell\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eapt-get update\napt-get \u003cspan class=\"nt\"\u003e-t\u003c/span\u003e experimental nvidia-driver\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eとすると最新版NVIDIA製ドライバが簡単にインストールされます。\u003c/p\u003e\n\n\u003cp\u003eなおUbuntuの場合\u003ca href=\"https://launchpad.net/%7Egraphics-drivers/+archive/ubuntu/ppa\" rel=\"nofollow noopener\" target=\"_blank\"\u003eUbuntuグラフィックドライバーPPA\u003c/a\u003e の手順に従えば簡単です。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e絶対にNVIDIAのウェブサイトからダウンロードしたものをDebian/Ubuntuに入れてはいけません\u003c/strong\u003e\u003c/p\u003e\n","body":"DebianでもNVIDIA提供のグラフィックスドライバがパッケージとして提供されていて、それをインストールする[簡単な手順](https://wiki.debian.org/NvidiaGraphicsDrivers) が公式ウェブサイトで説明されていますが、安定版リリースに入っているドライバはいっこうに更新されません。最新版ドライバを公式パッケージを用いて入れるためには\n\n```config:/etc/apt/sources.listに下記内容を追加\ndeb http://deb.debian.org/debian/ testing main non-free contrib\ndeb http://deb.debian.org/debian/ unstable main non-free contrib\ndeb http://deb.debian.org/debian/ experimental main non-free contrib\n```\n\n```/etc/apt/apt.conf.d/00mydefaultreleaseに下記内容を記入\nAPT::Default-Release \"stable\";\n```\n\nしてから\n\n```shell\napt-get update\napt-get -t experimental nvidia-driver\n```\n\nとすると最新版NVIDIA製ドライバが簡単にインストールされます。\n\nなおUbuntuの場合[UbuntuグラフィックドライバーPPA](https://launchpad.net/~graphics-drivers/+archive/ubuntu/ppa) の手順に従えば簡単です。\n\n**絶対にNVIDIAのウェブサイトからダウンロードしたものをDebian/Ubuntuに入れてはいけません**\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T21:03:12+09:00","group":null,"id":"bb2d246bd048e1ab40b9","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Debian","versions":[]},{"name":"Ubuntu","versions":[]},{"name":"NVIDIA","versions":[]}],"title":"Debian に最新版NVIDIAドライバを入れる手順","updated_at":"2019-07-09T21:03:12+09:00","url":"https://qiita.com/kakinaguru_zo/items/bb2d246bd048e1ab40b9","user":{"description":"","facebook_id":"","followees_count":6,"followers_count":2,"github_login_name":null,"id":"kakinaguru_zo","items_count":23,"linkedin_id":"","location":"Japan","name":"おじさん","organization":"","permanent_id":259309,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/259309/profile-images/1528523620","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"やりたいこと\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eやりたいこと\u003c/h1\u003e\n\n\u003cp\u003e特定のルールに合致した文字列であるかどうかを確認したい。\u003cbr\u003e\nまた、ルールに合致した文字列を抜き出したい。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"やり方\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%84%E3%82%8A%E6%96%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eやり方\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://docs.microsoft.com/ja-jp/dotnet/api/system.text.regularexpressions.regex?view=netframework-4.8\" rel=\"nofollow noopener\" target=\"_blank\"\u003eRegexクラス\u003c/a\u003eを使う。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"サンプルコード\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB%E3%82%B3%E3%83%BC%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eサンプルコード\u003c/h1\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"cs\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Text.RegularExpressions\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003enamespace\u003c/span\u003e \u003cspan class=\"nn\"\u003eConsoleApp5\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eProgram\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eorg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"1dg4-fasd-kf5g-fsaa\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// ①4桁の英数字を-でつなげたものかどうかを判定\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eRegex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eIsMatch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eorg\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e@\"^[\\da-zA-Z]{4}-[\\da-zA-Z]{4}-[\\da-zA-Z]{4}-[\\da-zA-Z]{4}\\z\"\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"マッチしました！\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// ②4桁英数字にマッチしたものを探す\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003ematch\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eRegex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eMatch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eorg\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e@\"[\\da-zA-Z]{4}\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1個だけ探す：\"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ematch\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eValue\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// ③4桁英数字にマッチしたものを全部探す\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003ematches\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eRegex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eMatches\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eorg\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e@\"[\\da-zA-Z]{4}\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eforeach\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMatch\u003c/span\u003e \u003cspan class=\"n\"\u003em\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003ematches\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"全部探す：\"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003em\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eValue\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこうなる\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/5a69073c8200dd9c6f319c73373b8c3c197a10c0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335323630312f31356232633166622d363266332d396166342d336235382d3934336565386536313335352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/5a69073c8200dd9c6f319c73373b8c3c197a10c0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335323630312f31356232633166622d363266332d396166342d336235382d3934336565386536313335352e706e67\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/352601/15b2c1fb-62f3-9af4-3b58-943ee8e61355.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参照\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E7%85%A7\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参照\u003c/h1\u003e\n\n\u003cp\u003e.NET の正規表現\u003cbr\u003e\n\u003ca href=\"https://docs.microsoft.com/ja-jp/dotnet/standard/base-types/regular-expressions\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://docs.microsoft.com/ja-jp/dotnet/standard/base-types/regular-expressions\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e【C#入門】正規表現の使い方総まとめ(Match/Matches/Replace)\u003cbr\u003e\n\u003ca href=\"https://www.sejuku.net/blog/54508\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.sejuku.net/blog/54508\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e【C#】正規表現の使い方\u003cbr\u003e\n\u003ca href=\"https://qiita.com/github129/items/5a2cd4d36abdf4ebe870\" class=\"autolink\" id=\"reference-f6d9320d04e6ca170584\"\u003ehttps://qiita.com/github129/items/5a2cd4d36abdf4ebe870\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eサルにもわかる正規表現\u003cbr\u003e\n\u003ca href=\"https://www.mnet.ne.jp/~nakama/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.mnet.ne.jp/~nakama/\u003c/a\u003e\u003c/p\u003e\n","body":"# やりたいこと\n特定のルールに合致した文字列であるかどうかを確認したい。\nまた、ルールに合致した文字列を抜き出したい。\n\n# やり方\n[Regexクラス](https://docs.microsoft.com/ja-jp/dotnet/api/system.text.regularexpressions.regex?view=netframework-4.8)を使う。\n\n# サンプルコード\n\n```cs\nusing System;\nusing System.Text.RegularExpressions;\n\nnamespace ConsoleApp5\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            string org = \"1dg4-fasd-kf5g-fsaa\";\n\n            // ①4桁の英数字を-でつなげたものかどうかを判定\n            if (Regex.IsMatch(org, @\"^[\\da-zA-Z]{4}-[\\da-zA-Z]{4}-[\\da-zA-Z]{4}-[\\da-zA-Z]{4}\\z\"))\n            {\n                Console.WriteLine(\"マッチしました！\");\n            }\n\n            // ②4桁英数字にマッチしたものを探す\n            var match = Regex.Match(org, @\"[\\da-zA-Z]{4}\");\n            Console.WriteLine(\"1個だけ探す：\" + match.Value);\n\n            // ③4桁英数字にマッチしたものを全部探す\n            var matches = Regex.Matches(org, @\"[\\da-zA-Z]{4}\");\n            foreach (Match m in matches)\n            {\n                Console.WriteLine(\"全部探す：\" + m.Value);\n            }\n        }\n    }\n}\n\n```\nこうなる\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/352601/15b2c1fb-62f3-9af4-3b58-943ee8e61355.png)\n\n# 参照\n.NET の正規表現\nhttps://docs.microsoft.com/ja-jp/dotnet/standard/base-types/regular-expressions\n\n【C#入門】正規表現の使い方総まとめ(Match/Matches/Replace)\nhttps://www.sejuku.net/blog/54508\n\n【C#】正規表現の使い方\nhttps://qiita.com/github129/items/5a2cd4d36abdf4ebe870\n\nサルにもわかる正規表現\nhttps://www.mnet.ne.jp/~nakama/\n\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:58:40+09:00","group":null,"id":"8dac3cde7b9d44fd426e","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"C#","versions":[]}],"title":"[C#]正規表現で、ルールに一致した文字列かどうか調べる／一致した文字列を抜き出す","updated_at":"2019-07-09T20:58:40+09:00","url":"https://qiita.com/tera1707/items/8dac3cde7b9d44fd426e","user":{"description":"","facebook_id":"","followees_count":4,"followers_count":7,"github_login_name":"tera1707","id":"tera1707","items_count":60,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":352601,"profile_image_url":"https://avatars0.githubusercontent.com/u/19180456?v=4","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"目的\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%9B%AE%E7%9A%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e目的\u003c/h1\u003e\n\n\u003cp\u003eMacでyolo v3を動かして画像認識した際の備忘録です\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://pjreddie.com/darknet/yolo/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eYOLO: Real-Time Object Detection\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"準備\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%BA%96%E5%82%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e準備\u003c/h1\u003e\n\n\u003cp\u003e下記サイトを参考にさせて頂きyolo v3の動作環境構築します。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://qiita.com/daiarg/items/03c55c82fdc6e623bf07\" id=\"reference-f2e8f931a2030f3387d2\"\u003eYOLOv3をCPU環境でpython使ってリアルタイム画像認識を動かしてみた\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://starpentagon.net/analytics/yolo_v3_on_mac/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eMacで物体検知アルゴリズムYOLO V3を動かす\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://github.com/ayooshkathuria/pytorch-yolo-v3\" rel=\"nofollow noopener\" target=\"_blank\"\u003epytorch-yolo-v3\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e下記の通りcondaを使ってYolov3用の環境を構築して試しました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ conda create -n yolo_v3 python=3.6 pip\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"テスト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%86%E3%82%B9%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eテスト\u003c/h1\u003e\n\n\u003cp\u003eimgsフォルダに画像認識させたい.jpgファイルを格納してdetect.pyを実行します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ python detect.py --images imgs --det det\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/6096b16bdfdedf5097994ba7b1fdf88a637aa5a5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3334343838302f30636163666464372d386262322d643265382d313337382d3235623635653962613536652e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/6096b16bdfdedf5097994ba7b1fdf88a637aa5a5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3334343838302f30636163666464372d386262322d643265382d313337382d3235623635653962613536652e6a706567\" alt=\"det_dog.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/344880/0cacfdd7-8bb2-d2e8-1378-25b65e9ba56e.jpeg\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/c88afc2c737565facda50f80c4d4183261cd71ac/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3334343838302f31613630363961372d306137372d626661662d343361622d3864303630643865663262332e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/c88afc2c737565facda50f80c4d4183261cd71ac/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3334343838302f31613630363961372d306137372d626661662d343361622d3864303630643865663262332e6a706567\" alt=\"det_003_bikkuri.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/344880/1a6069a7-0a77-bfaf-43ab-8d060d8ef2b3.jpeg\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/a5132047b5f1223f1e7844b7be9bc20bc9807792/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3334343838302f63616632616331332d626364392d653265622d356237622d6263363264386363636465352e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/a5132047b5f1223f1e7844b7be9bc20bc9807792/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3334343838302f63616632616331332d626364392d653265622d356237622d6263363264386363636465352e6a706567\" alt=\"det_005_hai.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/344880/caf2ac13-bcd9-e2eb-5b7b-bc62d8cccde5.jpeg\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/b65d119f5fbfa4af61e2a7fc6685f5f66d99e3bd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3334343838302f39376435316537332d643866382d613938612d383238652d6333366566643731356265342e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/b65d119f5fbfa4af61e2a7fc6685f5f66d99e3bd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3334343838302f39376435316537332d643866382d613938612d383238652d6333366566643731356265342e6a706567\" alt=\"det_011_ohayo.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/344880/97d51e73-d8f8-a98a-828e-c36efd715be4.jpeg\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/aaab294ae2b68b7d528549a4af88160843a9673c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3334343838302f33343935373366362d366433332d646632332d343665652d3731313835306335386566622e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/aaab294ae2b68b7d528549a4af88160843a9673c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3334343838302f33343935373366362d366433332d646632332d343665652d3731313835306335386566622e6a706567\" alt=\"det_014_omedeto.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/344880/349573f6-6d33-df23-46ee-711850c58efb.jpeg\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/e38f76ac68a090defb1a13eb97d0531a08efc7d6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3334343838302f32633232666564642d336462362d636564362d363932662d3265306131346638356531662e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/e38f76ac68a090defb1a13eb97d0531a08efc7d6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3334343838302f32633232666564642d336462362d636564362d363932662d3265306131346638356531662e6a706567\" alt=\"det_021_Zzz....jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/344880/2c22fedd-3db6-ced6-692f-2e0a14f85e1f.jpeg\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/b9a7ee38f9b8594d33ae0c4266448c5a080fcc6a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3334343838302f64363338383936362d613561332d306464622d653264612d6265643432616330653363332e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/b9a7ee38f9b8594d33ae0c4266448c5a080fcc6a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3334343838302f64363338383936362d613561332d306464622d653264612d6265643432616330653363332e6a706567\" alt=\"det_022_ima_nanishiteru_kana.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/344880/d6388966-a5a3-0ddb-e2da-bed42ac0e3c3.jpeg\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/0c4c6c345a1f95c6a476c1c51bfb6bf2dfb02cbe/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3334343838302f61346633336332342d323832652d646337302d323936342d3139356430306434613533392e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/0c4c6c345a1f95c6a476c1c51bfb6bf2dfb02cbe/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3334343838302f61346633336332342d323832652d646337302d323936342d3139356430306434613533392e6a706567\" alt=\"det_001_verygood.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/344880/a4f33c24-282e-dc70-2964-195d00d4a539.jpeg\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/37a058c4eb917dbf91e087ace9ef0c90a9e99dcd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3334343838302f63613037323464622d356333622d653966332d356330312d6162323663373436646539372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/37a058c4eb917dbf91e087ace9ef0c90a9e99dcd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3334343838302f63613037323464622d356333622d653966332d356330312d6162323663373436646539372e706e67\" alt=\"person.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/344880/ca0724db-5c3b-e9f3-5c01-ab26c746de97.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003edog, bicycle.person...が認識されました\u003cbr\u003e\nたまにdogがchair, teddy bearと認識されるのは一体なぜ..\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://www.pexels.com/videos/\" rel=\"nofollow noopener\" target=\"_blank\"\u003ePexels\u003c/a\u003eからダウンロードした動画にvideo_demo.pyを実行します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ python video_demo.py --video samplemovie.mp4\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003c/p\u003e\u003cblockquote class=\"twitter-tweet\"\u003e\n\u003cp\u003eyolo v3 テスト \u003ca href=\"https://t.co/pDCnri5GhG\" rel=\"nofollow noopener\" target=\"_blank\"\u003epic.twitter.com/pDCnri5GhG\u003c/a\u003e\u003c/p\u003e— st (@st17890027) \u003ca href=\"https://twitter.com/st17890027/status/1148177655742652417?ref_src=twsrc%5Etfw\" rel=\"nofollow noopener\" target=\"_blank\"\u003eJuly 8, 2019\u003c/a\u003e\n\u003c/blockquote\u003e \u003cscript async src=\"https://platform.twitter.com/widgets.js\"\u003e\u003c/script\u003e \n\n\u003ch1\u003e\n\u003cspan id=\"error対策\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#error%E5%AF%BE%E7%AD%96\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eError対策\u003c/h1\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ python detect.py --images imgs --det det\nRuntimeError: invalid argument Sizes of tensors must match except in dimension\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003ebatサイズの指定が誤っているようです。\u003cbr\u003e\n下記サイトを参考に修正して動作させました。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/ayooshkathuria/pytorch-yolo-v3/issues/70\" rel=\"nofollow noopener\" target=\"_blank\"\u003eRuntimeError: invalid argument 0: Sizes of tensors must match except in dimension 0\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eYou might add if output.size()[1] == prediction.size()[1]: condition, beforeoutput = torch.cat((output,prediction)), inside detect.py\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://pjreddie.com/darknet/yolo/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eYOLO: Real-Time Object Detection\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://qiita.com/daiarg/items/03c55c82fdc6e623bf07\"\u003eYOLOv3をCPU環境でpython使ってリアルタイム画像認識を動かしてみた\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://starpentagon.net/analytics/yolo_v3_on_mac/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eMacで物体検知アルゴリズムYOLO V3を動かす\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://github.com/ayooshkathuria/pytorch-yolo-v3\" rel=\"nofollow noopener\" target=\"_blank\"\u003epytorch-yolo-v3\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita.com/Shoooooko/items/eae72c7aad5d7f6d5d63\" id=\"reference-a299ca946f7ebd7d369d\"\u003eYOLOv3を動かしてみる\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://qiita.com/yoyoyo_/items/10d550b03b4b9c175d9c\" id=\"reference-7193afa9886e933a86e3\"\u003eKerasのYOLO-v3を動かしたった\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://qiita.com/hiroyuki_mrp/items/ae70eba771449fc6f283\" id=\"reference-782edfc39d9bfe22578e\"\u003eYOLOとかOpenCVとかで物体検知\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://www.pexels.com/videos/\" rel=\"nofollow noopener\" target=\"_blank\"\u003ePexels\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://github.com/ayooshkathuria/pytorch-yolo-v3/issues/70\" rel=\"nofollow noopener\" target=\"_blank\"\u003eRuntimeError: invalid argument 0: Sizes of tensors must match except in dimension 0\u003c/a\u003e\u003c/p\u003e\n","body":"# 目的\nMacでyolo v3を動かして画像認識した際の備忘録です\n\n\u003e [YOLO: Real-Time Object Detection](https://pjreddie.com/darknet/yolo/)\n\n# 準備\n\n下記サイトを参考にさせて頂きyolo v3の動作環境構築します。\n\n\u003e [YOLOv3をCPU環境でpython使ってリアルタイム画像認識を動かしてみた](https://qiita.com/daiarg/items/03c55c82fdc6e623bf07)\n\u003e [Macで物体検知アルゴリズムYOLO V3を動かす](http://starpentagon.net/analytics/yolo_v3_on_mac/)\n\u003e [pytorch-yolo-v3](https://github.com/ayooshkathuria/pytorch-yolo-v3)\n\n下記の通りcondaを使ってYolov3用の環境を構築して試しました。\n\n```\n$ conda create -n yolo_v3 python=3.6 pip\n```\n\n# テスト\n\nimgsフォルダに画像認識させたい.jpgファイルを格納してdetect.pyを実行します。\n\n```\n$ python detect.py --images imgs --det det\n```\n\n![det_dog.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/344880/0cacfdd7-8bb2-d2e8-1378-25b65e9ba56e.jpeg)\n![det_003_bikkuri.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/344880/1a6069a7-0a77-bfaf-43ab-8d060d8ef2b3.jpeg)\n![det_005_hai.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/344880/caf2ac13-bcd9-e2eb-5b7b-bc62d8cccde5.jpeg)\n![det_011_ohayo.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/344880/97d51e73-d8f8-a98a-828e-c36efd715be4.jpeg)\n![det_014_omedeto.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/344880/349573f6-6d33-df23-46ee-711850c58efb.jpeg)\n![det_021_Zzz....jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/344880/2c22fedd-3db6-ced6-692f-2e0a14f85e1f.jpeg)\n![det_022_ima_nanishiteru_kana.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/344880/d6388966-a5a3-0ddb-e2da-bed42ac0e3c3.jpeg)\n![det_001_verygood.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/344880/a4f33c24-282e-dc70-2964-195d00d4a539.jpeg)\n\n![person.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/344880/ca0724db-5c3b-e9f3-5c01-ab26c746de97.png)\n\n\ndog, bicycle.person...が認識されました\nたまにdogがchair, teddy bearと認識されるのは一体なぜ..\n\n[Pexels](https://www.pexels.com/videos/)からダウンロードした動画にvideo_demo.pyを実行します。\n\n```\n$ python video_demo.py --video samplemovie.mp4\n```\n\n\u003cblockquote class=\"twitter-tweet\" data-lang=\"en\"\u003e\u003cp lang=\"ja\" dir=\"ltr\"\u003eyolo v3 テスト \u003ca href=\"https://t.co/pDCnri5GhG\"\u003epic.twitter.com/pDCnri5GhG\u003c/a\u003e\u003c/p\u003e\u0026mdash; st (@st17890027) \u003ca href=\"https://twitter.com/st17890027/status/1148177655742652417?ref_src=twsrc%5Etfw\"\u003eJuly 8, 2019\u003c/a\u003e\u003c/blockquote\u003e \u003cscript async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"\u003e\u003c/script\u003e \n\n\n# Error対策\n\n```\n$ python detect.py --images imgs --det det\nRuntimeError: invalid argument Sizes of tensors must match except in dimension\n```\n\nbatサイズの指定が誤っているようです。\n下記サイトを参考に修正して動作させました。\n\n\u003e [RuntimeError: invalid argument 0: Sizes of tensors must match except in dimension 0](https://github.com/ayooshkathuria/pytorch-yolo-v3/issues/70)\n\n```\nYou might add if output.size()[1] == prediction.size()[1]: condition, beforeoutput = torch.cat((output,prediction)), inside detect.py\n```\n# 参考\n\n[YOLO: Real-Time Object Detection](https://pjreddie.com/darknet/yolo/)\n[YOLOv3をCPU環境でpython使ってリアルタイム画像認識を動かしてみた](https://qiita.com/daiarg/items/03c55c82fdc6e623bf07)\n[Macで物体検知アルゴリズムYOLO V3を動かす](http://starpentagon.net/analytics/yolo_v3_on_mac/)\n[pytorch-yolo-v3](https://github.com/ayooshkathuria/pytorch-yolo-v3)\n\n[YOLOv3を動かしてみる](https://qiita.com/Shoooooko/items/eae72c7aad5d7f6d5d63)\n[KerasのYOLO-v3を動かしたった](https://qiita.com/yoyoyo_/items/10d550b03b4b9c175d9c)\n[YOLOとかOpenCVとかで物体検知](https://qiita.com/hiroyuki_mrp/items/ae70eba771449fc6f283)\n[Pexels](https://www.pexels.com/videos/)\n\n[RuntimeError: invalid argument 0: Sizes of tensors must match except in dimension 0](https://github.com/ayooshkathuria/pytorch-yolo-v3/issues/70)\n\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:57:27+09:00","group":null,"id":"61d251cd2e5eb6c0908c","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"Python","versions":[]},{"name":"YOLOv3","versions":[]}],"title":"Macでyolo v3を動かして画像認識する","updated_at":"2019-07-09T20:57:27+09:00","url":"https://qiita.com/seigot/items/61d251cd2e5eb6c0908c","user":{"description":"","facebook_id":"","followees_count":2,"followers_count":4,"github_login_name":null,"id":"seigot","items_count":40,"linkedin_id":"","location":"","name":"s t","organization":"","permanent_id":344880,"profile_image_url":"https://lh6.googleusercontent.com/--yp18BqujHg/AAAAAAAAAAI/AAAAAAAAAW4/UOBqxJoYsYs/photo.jpg?sz=50","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\u003cp\u003eTour De France 2019 Live~Stream Stage 4 Coverage times schedule\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"live--wwwmxlelsmltour-de-france\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#live--wwwmxlelsmltour-de-france\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eLive ::: \u003ca href=\"http://www.mxlels.ml/tour-de-france/\" rel=\"nofollow noopener\" target=\"_blank\"\u003ewww.mxlels.ml/tour-de-france/\u003c/a\u003e\n\u003c/h1\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"live--wwwmxlelsmltour-de-france-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#live--wwwmxlelsmltour-de-france-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eLive ::: \u003ca href=\"http://www.mxlels.ml/tour-de-france/\" rel=\"nofollow noopener\" target=\"_blank\"\u003ewww.mxlels.ml/tour-de-france/\u003c/a\u003e\n\u003c/h1\u003e\n\n\u003cp\u003eThe Tour de France has started its 106th run with riders from around the world gathering to prove their worth in the saddle.\u003c/p\u003e\n\n\u003cp\u003eDefending champion Geraint Thomas will hope for back-to-back success but faces stiff competition from other top contenders in the field.\u003c/p\u003e\n","body":"Tour De France 2019 Live~Stream Stage 4 Coverage times schedule\n\n#Live ::: www.mxlels.ml/tour-de-france/\n\n#Live ::: www.mxlels.ml/tour-de-france/\n\n\nThe Tour de France has started its 106th run with riders from around the world gathering to prove their worth in the saddle.\n\nDefending champion Geraint Thomas will hope for back-to-back success but faces stiff competition from other top contenders in the field.\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:57:13+09:00","group":null,"id":"7eda74f83c9d6f619e70","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"France","versions":[]},{"name":"de","versions":[]},{"name":"Tour","versions":[]}],"title":"Live! Tour De France 2019 Stage 4 Live!Stream","updated_at":"2019-07-09T20:57:13+09:00","url":"https://qiita.com/oushushs/items/7eda74f83c9d6f619e70","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"oushushs","items_count":3,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":454528,"profile_image_url":"https://secure.gravatar.com/avatar/d25a69ad6a266f7092ff60dcb8cb885c","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\u003cp\u003eAlpha Femme Keto Genix You'll find an enormous number of characteristic weight reduction items just as get more fit tips at whatever point you do a web search. The subject of hypnotherapy may appear to be mistaking for some individuals who have not experienced the method. The latest and refreshed strategies can fix all your medical problems. While some do regular house keeping, others think about an inward purging as \"individual house keeping\" and complete a wash down occasionally. \u003cbr\u003e\n\u003ca href=\"https://walgreensdiet.com/alpha-femme-keto-genix-ca/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://walgreensdiet.com/alpha-femme-keto-genix-ca/\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://www.facebook.com/Alpha-Femme-Keto-Genix-Canada-CA-900604636960985/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.facebook.com/Alpha-Femme-Keto-Genix-Canada-CA-900604636960985/\u003c/a\u003e \u003c/p\u003e\n","body":"Alpha Femme Keto Genix You'll find an enormous number of characteristic weight reduction items just as get more fit tips at whatever point you do a web search. The subject of hypnotherapy may appear to be mistaking for some individuals who have not experienced the method. The latest and refreshed strategies can fix all your medical problems. While some do regular house keeping, others think about an inward purging as \"individual house keeping\" and complete a wash down occasionally. \nhttps://walgreensdiet.com/alpha-femme-keto-genix-ca/\nhttps://www.facebook.com/Alpha-Femme-Keto-Genix-Canada-CA-900604636960985/ \n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:56:06+09:00","group":null,"id":"b9f990225c401efd1ba3","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"alpha","versions":[]},{"name":"Keto","versions":[]},{"name":"genix","versions":[]},{"name":"Femme","versions":[]}],"title":"https://walgreensdiet.com/alpha-femme-keto-genix-ca/","updated_at":"2019-07-09T20:56:06+09:00","url":"https://qiita.com/Mariahhacone/items/b9f990225c401efd1ba3","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"Mariahhacone","items_count":1,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":457853,"profile_image_url":"https://secure.gravatar.com/avatar/25cddb6556d3b85df2b12994a2a3d3b0","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\u003cp\u003eKeto Extreme is a fear among health experts that an unhealthy fat intake that is so high will have a long-term negative effect, \"he explained. Weight loss is often confusing data in the short term. Keto Burn Extreme is because when overweight people lose weight, regardless of how they do it, they often end up with better blood lipids and blood glucose levels.\u003c/p\u003e\n\n\u003cp\u003eMore Info\u003cbr\u003e\n\u003ca href=\"https://www.facebook.com/Keto-Extreme-2450507341654560/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.facebook.com/Keto-Extreme-2450507341654560/\u003c/a\u003e \u003cbr\u003e\n\u003ca href=\"https://www.facebook.com/Keto-Extreme-469871810470616/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.facebook.com/Keto-Extreme-469871810470616/\u003c/a\u003e \u003cbr\u003e\n\u003ca href=\"https://sites.google.com/site/ketoextreme2019/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://sites.google.com/site/ketoextreme2019/\u003c/a\u003e \u003cbr\u003e\n\u003ca href=\"http://dont-payfull.over-blog.com/keto-extreme\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://dont-payfull.over-blog.com/keto-extreme\u003c/a\u003e \u003cbr\u003e\n\u003ca href=\"http://dailyteer.com/product/keto-extreme/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://dailyteer.com/product/keto-extreme/\u003c/a\u003e \u003cbr\u003e\n\u003ca href=\"http://dailydealsreview.info/keto-extreme/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://dailydealsreview.info/keto-extreme/\u003c/a\u003e \u003cbr\u003e\n\u003ca href=\"https://wedontpayfullme.tumblr.com/post/186156472376/keto-extreme-review\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://wedontpayfullme.tumblr.com/post/186156472376/keto-extreme-review\u003c/a\u003e \u003c/p\u003e\n","body":"Keto Extreme is a fear among health experts that an unhealthy fat intake that is so high will have a long-term negative effect, \"he explained. Weight loss is often confusing data in the short term. Keto Burn Extreme is because when overweight people lose weight, regardless of how they do it, they often end up with better blood lipids and blood glucose levels.\n\nMore Info\nhttps://www.facebook.com/Keto-Extreme-2450507341654560/ \nhttps://www.facebook.com/Keto-Extreme-469871810470616/ \nhttps://sites.google.com/site/ketoextreme2019/ \nhttp://dont-payfull.over-blog.com/keto-extreme \nhttp://dailyteer.com/product/keto-extreme/ \nhttp://dailydealsreview.info/keto-extreme/ \nhttps://wedontpayfullme.tumblr.com/post/186156472376/keto-extreme-review \n\n\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:55:41+09:00","group":null,"id":"85ee38ef8a131d7eb057","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"HealthKit","versions":[]}],"title":"Keto Extreme ","updated_at":"2019-07-09T20:55:41+09:00","url":"https://qiita.com/ketoextreme20/items/85ee38ef8a131d7eb057","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"ketoextreme20","items_count":1,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":457855,"profile_image_url":"https://secure.gravatar.com/avatar/9f5651ac3183be69422079c3c8867e5d","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\u003cp\u003ewilliams vs riske\u003c/p\u003e\n\n\u003cp\u003eGO LIVE \u0026gt;\u0026gt; \u003ca href=\"http://www.tiny.cc/williams-vs-riske\" rel=\"nofollow noopener\" target=\"_blank\"\u003ewww.tiny.cc/williams-vs-riske\u003c/a\u003e\u003c/p\u003e\n","body":"williams vs riske\n\nGO LIVE \u003e\u003e www.tiny.cc/williams-vs-riske\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:51:12+09:00","group":null,"id":"f4042676fc011bd849d4","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"vs","versions":[]},{"name":"live","versions":[]},{"name":"Williams","versions":[]},{"name":"streming","versions":[]},{"name":"Riske","versions":[]}],"title":"$$!!]~Williams vs Riske Live!Stream","updated_at":"2019-07-09T20:52:01+09:00","url":"https://qiita.com/munoz/items/f4042676fc011bd849d4","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"munoz","items_count":1,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":457849,"profile_image_url":"https://secure.gravatar.com/avatar/fa8e490713c7caeade63fd35b3bb403b","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\u003cp\u003eSimona Halep vs Zhang Shuai Live~Stream\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"live--wwwsupleonmlwimbledon\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#live--wwwsupleonmlwimbledon\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eLive ::: \u003ca href=\"http://www.supleon.ml/wimbledon/\" rel=\"nofollow noopener\" target=\"_blank\"\u003ewww.supleon.ml/wimbledon/\u003c/a\u003e\n\u003c/h1\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"live--wwwsupleonmlwimbledon-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#live--wwwsupleonmlwimbledon-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eLive ::: \u003ca href=\"http://www.supleon.ml/wimbledon/\" rel=\"nofollow noopener\" target=\"_blank\"\u003ewww.supleon.ml/wimbledon/\u003c/a\u003e\n\u003c/h1\u003e\n\n\u003cp\u003eAfter Manic Monday at Wimbledon, we have the women’s quarter-finals on Tuesday and it should be superb.\u003c/p\u003e\n\n\u003cp\u003eThe women’s draw is fascinating since so many big names and seeds are long gone.\u003c/p\u003e\n\n\u003cp\u003eAll four women’s quarter-finals take place on Tuesday.\u003c/p\u003e\n\n\u003cp\u003eSimona Halep remains the highest seed – at seven – left in the competition.\u003c/p\u003e\n\n\u003cp\u003eZhang Shuai is unseeded at Wimbledon 2019.\u003c/p\u003e\n","body":"Simona Halep vs Zhang Shuai Live~Stream\n\n#Live ::: www.supleon.ml/wimbledon/\n\n#Live ::: www.supleon.ml/wimbledon/\n\nAfter Manic Monday at Wimbledon, we have the women’s quarter-finals on Tuesday and it should be superb.\n\nThe women’s draw is fascinating since so many big names and seeds are long gone.\n\nAll four women’s quarter-finals take place on Tuesday.\n\nSimona Halep remains the highest seed – at seven – left in the competition.\n\nZhang Shuai is unseeded at Wimbledon 2019.\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:47:58+09:00","group":null,"id":"d8400f67c7902589aa25","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"vs","versions":[]},{"name":"Halep","versions":[]},{"name":"shuai","versions":[]}],"title":"Live! Halep vs Shuai Live!Stream","updated_at":"2019-07-09T21:02:02+09:00","url":"https://qiita.com/oushushs/items/d8400f67c7902589aa25","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"oushushs","items_count":3,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":454528,"profile_image_url":"https://secure.gravatar.com/avatar/d25a69ad6a266f7092ff60dcb8cb885c","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"やりたいこと\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eやりたいこと\u003c/h1\u003e\n\n\u003cp\u003epythonで、辞書が持つvalue同士の直積を、対応するkeyを変えずに辞書としてそれぞれ出力したい。\u003c/p\u003e\n\n\u003cp\u003e具体的には\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e'A'\u003c/span\u003e\u003cspan class=\"p\"\u003e:[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"s\"\u003e'B'\u003c/span\u003e\u003cspan class=\"p\"\u003e:[\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e]}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eという辞書が存在するときに\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"s\"\u003e'A'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e'B'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e'A'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e'B'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e'A'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e'B'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e'A'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e'B'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e'A'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e'B'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e'A'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e'B'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e}]\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eといった具合のリストが得られるようにしたい。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"前提知識\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%89%8D%E6%8F%90%E7%9F%A5%E8%AD%98\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e前提知識\u003c/h1\u003e\n\n\u003cp\u003eitertools.product()で直積を求められます。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://docs.python.org/ja/3/library/itertools.html#itertools.product\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://docs.python.org/ja/3/library/itertools.html#itertools.product\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h1\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etest1.py\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003eitertools\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003etest1\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e'A'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"s\"\u003e'B'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e]}\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eproduct\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eitertools\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eproduct\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003etest1\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evalues\u003c/span\u003e\u003cspan class=\"p\"\u003e())]\u003c/span\u003e\n\u003cspan class=\"n\"\u003eresult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nb\"\u003edict\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003ezip\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etest1\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ekeys\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eproduct\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003er\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"console\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003econsole\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"go\"\u003e{'A': 1, 'B': 4}\n{'A': 1, 'B': 5}\n{'A': 2, 'B': 4}\n{'A': 2, 'B': 5}\n{'A': 3, 'B': 4}\n{'A': 3, 'B': 5}\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003evalueの型が異なっていてもOK\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etest2.py\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003eitertools\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003etest2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e'A'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e'TEST'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e2.5\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"s\"\u003e'B'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[[\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e]}\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eproduct\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eitertools\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eproduct\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003etest2\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evalues\u003c/span\u003e\u003cspan class=\"p\"\u003e())]\u003c/span\u003e\n\u003cspan class=\"n\"\u003eresult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nb\"\u003edict\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003ezip\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etest1\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ekeys\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eproduct\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003er\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"console\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003econsole\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"go\"\u003e{'A': 'TEST', 'B': [3, 4]}\n{'A': 'TEST', 'B': 5}\n{'A': 1, 'B': [3, 4]}\n{'A': 1, 'B': 5}\n{'A': 2.5, 'B': [3, 4]}\n{'A': 2.5, 'B': 5}\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"注意点\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%B3%A8%E6%84%8F%E7%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e注意点\u003c/h1\u003e\n\n\u003cp\u003e直積を求めたい辞書のvalueはlist型でなければなりません。\u003cbr\u003e\n例えば以下の様な辞書を変換しようとするとエラーとなります。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etest3.py\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003eitertools\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003etest3\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e'A'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e'B'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"s\"\u003e'C'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e]}\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eproduct\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eitertools\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eproduct\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003etest3\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evalues\u003c/span\u003e\u003cspan class=\"p\"\u003e())]\u003c/span\u003e\n\u003cspan class=\"n\"\u003eresult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nb\"\u003edict\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003ezip\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etest1\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ekeys\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eproduct\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003er\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"console\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003econsole\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"go\"\u003eTraceback (most recent call last):\n\u003c/span\u003e\u003cspan class=\"gp\"\u003e  File \"test3.py\", line 5, in \u0026lt;module\u0026gt;\u003c/span\u003e\n\u003cspan class=\"go\"\u003e    product = [x for x in itertools.product(*test1.values())]\nTypeError: 'int' object is not iterable\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこの様な場合は一旦valueを舐めてlistでなければlistに変換してあげれば良いです。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etest4.py\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003eitertools\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003etest4\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e'A'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e'B'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"s\"\u003e'C'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e]}\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003etest4_after\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003edict\u003c/span\u003e\u003cspan class=\"p\"\u003e([(\u003c/span\u003e\u003cspan class=\"n\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eval\u003c/span\u003e \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eval\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"ow\"\u003eis\u003c/span\u003e \u003cspan class=\"nb\"\u003elist\u003c/span\u003e \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eval\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eval\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003etest4\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitems\u003c/span\u003e\u003cspan class=\"p\"\u003e()])\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eproduct\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eitertools\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eproduct\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003etest4_after\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evalues\u003c/span\u003e\u003cspan class=\"p\"\u003e())]\u003c/span\u003e\n\u003cspan class=\"n\"\u003eresult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nb\"\u003edict\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003ezip\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etest4_after\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ekeys\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eproduct\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003er\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"console\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003econsole\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"go\"\u003e{'A': 1, 'B': 2, 'C': 4}\n{'A': 1, 'B': 2, 'C': 5}\n{'A': 1, 'B': 2, 'C': 6}\n{'A': 1, 'B': 3, 'C': 4}\n{'A': 1, 'B': 3, 'C': 5}\n{'A': 1, 'B': 3, 'C': 6}\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"key値を捨てる場合\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#key%E5%80%A4%E3%82%92%E6%8D%A8%E3%81%A6%E3%82%8B%E5%A0%B4%E5%90%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ekey値を捨てる場合\u003c/h1\u003e\n\n\u003cp\u003ekey値を捨ててvalueの直積だけ欲しい場合はzipの部分を消せばOK。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etest5.py\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003eitertools\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003etest5\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e'A'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"s\"\u003e'B'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e]}\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eproduct\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eitertools\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eproduct\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003etest5\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evalues\u003c/span\u003e\u003cspan class=\"p\"\u003e())]\u003c/span\u003e\n\u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eproduct\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003er\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"console\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003econsole\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"go\"\u003e(1, 4)\n(1, 5)\n(1, 6)\n(2, 4)\n(2, 5)\n(2, 6)\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n","body":"#やりたいこと\npythonで、辞書が持つvalue同士の直積を、対応するkeyを変えずに辞書としてそれぞれ出力したい。\n\n具体的には\n\n```python\n{'A':[1,2,3], 'B':[4,5]}\n```\n\nという辞書が存在するときに\n\n```python\n[{'A':1, 'B':4}, {'A':1, 'B':5},\n {'A':2, 'B':4}, {'A':2, 'B':5},\n {'A':3, 'B':4}, {'A':3, 'B':5}]\n```\n\nといった具合のリストが得られるようにしたい。\n\n#前提知識\nitertools.product()で直積を求められます。\n\n\u003e https://docs.python.org/ja/3/library/itertools.html#itertools.product\n\n#実装\n```python:test1.py\nimport itertools\n\ntest1 = {'A': [1, 2, 3], 'B': [4, 5]}\n\nproduct = [x for x in itertools.product(*test1.values())]\nresult = [dict(zip(test1.keys(), r)) for r in product]\nfor r in result:\n    print(r)\n```\n\n```console:console\n{'A': 1, 'B': 4}\n{'A': 1, 'B': 5}\n{'A': 2, 'B': 4}\n{'A': 2, 'B': 5}\n{'A': 3, 'B': 4}\n{'A': 3, 'B': 5}\n```\n\nvalueの型が異なっていてもOK\n\n```python:test2.py\nimport itertools\n\ntest2 = {'A': ['TEST', 1, 2.5], 'B': [[3, 4], 5]}\n\nproduct = [x for x in itertools.product(*test2.values())]\nresult = [dict(zip(test1.keys(), r)) for r in product]\nfor r in result:\n    print(r)\n```\n\n```console:console\n{'A': 'TEST', 'B': [3, 4]}\n{'A': 'TEST', 'B': 5}\n{'A': 1, 'B': [3, 4]}\n{'A': 1, 'B': 5}\n{'A': 2.5, 'B': [3, 4]}\n{'A': 2.5, 'B': 5}\n```\n\n# 注意点\n\n直積を求めたい辞書のvalueはlist型でなければなりません。\n例えば以下の様な辞書を変換しようとするとエラーとなります。\n\n```python:test3.py\nimport itertools\n\ntest3 = {'A': 1, 'B': [2, 3], 'C': [4, 5, 6]}\n\nproduct = [x for x in itertools.product(*test3.values())]\nresult = [dict(zip(test1.keys(), r)) for r in product]\nfor r in result:\n    print(r)\n```\n\n```console:console\nTraceback (most recent call last):\n  File \"test3.py\", line 5, in \u003cmodule\u003e\n    product = [x for x in itertools.product(*test1.values())]\nTypeError: 'int' object is not iterable\n```\n\nこの様な場合は一旦valueを舐めてlistでなければlistに変換してあげれば良いです。\n\n```python:test4.py\nimport itertools\n\ntest4 = {'A': 1, 'B': [2, 3], 'C': [4, 5, 6]}\n\ntest4_after = dict([(key, val if type(val) is list else [val]) for key, val in test4.items()])\n\nproduct = [x for x in itertools.product(*test4_after.values())]\nresult = [dict(zip(test4_after.keys(), r)) for r in product]\nfor r in result:\n    print(r)\n```\n\n```console:console\n{'A': 1, 'B': 2, 'C': 4}\n{'A': 1, 'B': 2, 'C': 5}\n{'A': 1, 'B': 2, 'C': 6}\n{'A': 1, 'B': 3, 'C': 4}\n{'A': 1, 'B': 3, 'C': 5}\n{'A': 1, 'B': 3, 'C': 6}\n```\n\n# key値を捨てる場合\nkey値を捨ててvalueの直積だけ欲しい場合はzipの部分を消せばOK。\n\n```python:test5.py\nimport itertools\n\ntest5 = {'A': [1, 2], 'B': [4, 5, 6]}\n\nproduct = [x for x in itertools.product(*test5.values())]\nfor r in product:\n    print(r)\n```\n\n```console:console\n(1, 4)\n(1, 5)\n(1, 6)\n(2, 4)\n(2, 5)\n(2, 6)\n```\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:47:19+09:00","group":null,"id":"c4973ea214a36c4a699c","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Python","versions":[]},{"name":"itertools","versions":[]}],"title":"辞書型データのvalueの直積を返したい","updated_at":"2019-07-09T20:49:45+09:00","url":"https://qiita.com/terafon/items/c4973ea214a36c4a699c","user":{"description":null,"facebook_id":null,"followees_count":3,"followers_count":4,"github_login_name":"Masaya-Haruta","id":"terafon","items_count":3,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":347712,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/347712/profile-images/1558756910","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\u003cp\u003eSerena Williams vs Alison Riske Live~Stream wimbledon quarter final 2019 live times\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"live--wwwsupleonmlwimbledon\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#live--wwwsupleonmlwimbledon\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eLive ::: \u003ca href=\"http://www.supleon.ml/wimbledon/\" rel=\"nofollow noopener\" target=\"_blank\"\u003ewww.supleon.ml/wimbledon/\u003c/a\u003e\n\u003c/h1\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"live--wwwsupleonmlwimbledon-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#live--wwwsupleonmlwimbledon-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eLive ::: \u003ca href=\"http://www.supleon.ml/wimbledon/\" rel=\"nofollow noopener\" target=\"_blank\"\u003ewww.supleon.ml/wimbledon/\u003c/a\u003e\n\u003c/h1\u003e\n\n\u003cp\u003eAfter Manic Monday at Wimbledon, we have the women’s quarter-finals on Tuesday and it should be superb.\u003c/p\u003e\n\n\u003cp\u003eThe women’s draw is fascinating since so many big names and seeds are long gone.\u003c/p\u003e\n\n\u003cp\u003eAll four women’s quarter-finals take place on Tuesday.\u003c/p\u003e\n\n\u003cp\u003eThis is an all-American clash between Alison Riske and Serena Williams.\u003c/p\u003e\n\n\u003cp\u003eRiske is unseeded but saw off world number one and seed number one Ashleigh Barty on Monday.\u003c/p\u003e\n","body":"Serena Williams vs Alison Riske Live~Stream wimbledon quarter final 2019 live times\n\n#Live ::: www.supleon.ml/wimbledon/\n\n#Live ::: www.supleon.ml/wimbledon/\n\nAfter Manic Monday at Wimbledon, we have the women’s quarter-finals on Tuesday and it should be superb.\n\nThe women’s draw is fascinating since so many big names and seeds are long gone.\n\nAll four women’s quarter-finals take place on Tuesday.\n\nThis is an all-American clash between Alison Riske and Serena Williams.\n\nRiske is unseeded but saw off world number one and seed number one Ashleigh Barty on Monday.\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:37:58+09:00","group":null,"id":"6a0b6ce244f999b12560","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Williams","versions":[]},{"name":"Riske","versions":[]}],"title":"Live!Williams vs Riske Live!Stream total-s.p.o.r.t.e.k","updated_at":"2019-07-09T20:37:58+09:00","url":"https://qiita.com/musisjsn/items/6a0b6ce244f999b12560","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"musisjsn","items_count":2,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":457793,"profile_image_url":"https://secure.gravatar.com/avatar/75cef72b2fb8994757c3ea83e15a1e07","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\u003cp\u003e前回の投稿\u003ca href=\"https://qiita.com/hk41/items/c5c0ca61658d4c8949c2\" id=\"reference-e757d3774837e6b479d5\"\u003e【初心者向け】CFnでAPI Gateway＋LambdaなAPI作成をまとめてみた\u003c/a\u003e\u003cbr\u003e\nに引き続きCloudFormationネタです\u003c/p\u003e\n\n\u003cp\u003eCFnでDynamoDB stream trigger eventを設定します\u003c/p\u003e\n\n\u003cp\u003e環境は\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003edev% aws --version                                                                            \naws-cli/1.16.180 Python/3.7.3 Darwin/18.2.0 botocore/1.12.170\n\nAWSTemplateFormatVersion: '2010-09-09'\nTransform: AWS::Serverless-2016-10-31\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eストリームを設定するlambda\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"ruby\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etemplate.yaml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e  \u003cspan class=\"no\"\u003eHogeFunction\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"no\"\u003eType\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"no\"\u003eAWS\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"no\"\u003eServerless\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"no\"\u003eFunction\u003c/span\u003e\n    \u003cspan class=\"no\"\u003eProperties\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"no\"\u003eTimeout\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e\n      \u003cspan class=\"no\"\u003eCodeUri\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003exxxxxxxxxx\u003c/span\u003e\n      \u003cspan class=\"no\"\u003eHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eapp\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003elambdaHandler\u003c/span\u003e\n      \u003cspan class=\"no\"\u003eRuntime\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003enodejs10\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ex\u003c/span\u003e\n      \u003cspan class=\"no\"\u003eRole\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e\u003cspan class=\"no\"\u003eGetAtt\u003c/span\u003e \u003cspan class=\"no\"\u003eLambdaRole\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"no\"\u003eArn\u003c/span\u003e\n      \u003cspan class=\"no\"\u003eEvents\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"no\"\u003eStream\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"no\"\u003eType\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"no\"\u003eDynamoDB\u003c/span\u003e\n          \u003cspan class=\"no\"\u003eProperties\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"no\"\u003eStream\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e\u003cspan class=\"no\"\u003eGetAtt\u003c/span\u003e \u003cspan class=\"no\"\u003eDataTable\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"no\"\u003eStreamArn\u003c/span\u003e\n            \u003cspan class=\"no\"\u003eBatchSize\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e\n            \u003cspan class=\"no\"\u003eStartingPosition\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"no\"\u003eLATEST\u003c/span\u003e\n  \u003cspan class=\"no\"\u003eLambdaRole\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n   \u003cspan class=\"no\"\u003eType\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"no\"\u003eAWS\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"no\"\u003eIAM\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"no\"\u003eRole\u003c/span\u003e\n   \u003cspan class=\"no\"\u003eProperties\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n     \u003cspan class=\"no\"\u003eAssumeRolePolicyDocument\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n       \u003cspan class=\"no\"\u003eVersion\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'2012-10-17'\u003c/span\u003e\n       \u003cspan class=\"no\"\u003eStatement\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n       \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"no\"\u003eEffect\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"no\"\u003eAllow\u003c/span\u003e\n         \u003cspan class=\"no\"\u003ePrincipal\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n           \u003cspan class=\"no\"\u003eService\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n           \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"nb\"\u003elambda\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eamazonaws\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ecom\u003c/span\u003e\n         \u003cspan class=\"no\"\u003eAction\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n         \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ests\u003c/span\u003e\u003cspan class=\"ss\"\u003e:AssumeRole\u003c/span\u003e\n     \u003cspan class=\"no\"\u003ePath\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"/\"\u003c/span\u003e\n     \u003cspan class=\"no\"\u003ePolicies\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n       \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"no\"\u003ePolicyDocument\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n         \u003cspan class=\"no\"\u003eVersion\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'2012-10-17'\u003c/span\u003e\n         \u003cspan class=\"no\"\u003eStatement\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n         \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"no\"\u003eEffect\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"no\"\u003eAllow\u003c/span\u003e\n           \u003cspan class=\"no\"\u003eAction\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n           \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003edynamodb\u003c/span\u003e\u003cspan class=\"ss\"\u003e:DescribeStream\u003c/span\u003e\n           \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003edynamodb\u003c/span\u003e\u003cspan class=\"ss\"\u003e:GetShardIterator\u003c/span\u003e\n           \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003edynamodb\u003c/span\u003e\u003cspan class=\"ss\"\u003e:GetRecords\u003c/span\u003e\n           \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003edynamodb\u003c/span\u003e\u003cspan class=\"ss\"\u003e:ListStreams\u003c/span\u003e\n           \u003cspan class=\"no\"\u003eResource\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"*\"\u003c/span\u003e      \n         \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"no\"\u003eEffect\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n           \u003cspan class=\"no\"\u003eAction\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n           \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003elogs\u003c/span\u003e\u003cspan class=\"ss\"\u003e:CreateLogGroup\u003c/span\u003e\n           \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003elogs\u003c/span\u003e\u003cspan class=\"ss\"\u003e:CreateLogStream\u003c/span\u003e\n           \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003elogs\u003c/span\u003e\u003cspan class=\"ss\"\u003e:PutLogEvents\u003c/span\u003e       \n           \u003cspan class=\"no\"\u003eResource\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003earn\u003c/span\u003e\u003cspan class=\"ss\"\u003e:aws:logs\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e       \n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこれでcloudformationコマンドを実行するだけ。素敵\u003c/p\u003e\n","body":"前回の投稿[【初心者向け】CFnでAPI Gateway＋LambdaなAPI作成をまとめてみた](https://qiita.com/hk41/items/c5c0ca61658d4c8949c2)\nに引き続きCloudFormationネタです\n\nCFnでDynamoDB stream trigger eventを設定します\n\n環境は\n\n```\ndev% aws --version                                                                            \naws-cli/1.16.180 Python/3.7.3 Darwin/18.2.0 botocore/1.12.170\n\nAWSTemplateFormatVersion: '2010-09-09'\nTransform: AWS::Serverless-2016-10-31\n```\n\nストリームを設定するlambda\n\n```ruby:template.yaml\n  HogeFunction:\n    Type: AWS::Serverless::Function\n    Properties:\n      Timeout: 10\n      CodeUri: xxxxxxxxxx\n      Handler: app.lambdaHandler\n      Runtime: nodejs10.x\n      Role: !GetAtt LambdaRole.Arn\n      Events:\n        Stream:\n          Type: DynamoDB\n          Properties:\n            Stream: !GetAtt DataTable.StreamArn\n            BatchSize: 100\n            StartingPosition: LATEST\n  LambdaRole:\n   Type: AWS::IAM::Role\n   Properties:\n     AssumeRolePolicyDocument:\n       Version: '2012-10-17'\n       Statement:\n       - Effect: Allow\n         Principal:\n           Service:\n           - lambda.amazonaws.com\n         Action:\n         - sts:AssumeRole\n     Path: \"/\"\n     Policies:\n       - PolicyDocument:\n         Version: '2012-10-17'\n         Statement:\n         - Effect: Allow\n           Action:\n           - dynamodb:DescribeStream\n           - dynamodb:GetShardIterator\n           - dynamodb:GetRecords\n           - dynamodb:ListStreams\n           Resource: \"*\"      \n         - Effect:\n           Action:\n           - logs:CreateLogGroup\n           - logs:CreateLogStream\n           - logs:PutLogEvents       \n           Resource: arn:aws:logs:*:*:*       \n```\n\nこれでcloudformationコマンドを実行するだけ。素敵\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:37:58+09:00","group":null,"id":"b3011d1e80fb1e94a711","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"AWS","versions":[]},{"name":"CloudFormation","versions":[]},{"name":"DynamoDB","versions":[]},{"name":"DynamoDBStream","versions":[]}],"title":"CloudFormationでDynamoDB streamを設定する","updated_at":"2019-07-09T20:37:58+09:00","url":"https://qiita.com/hk41/items/b3011d1e80fb1e94a711","user":{"description":null,"facebook_id":null,"followees_count":4,"followers_count":3,"github_login_name":"hk41","id":"hk41","items_count":2,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":10683,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/10683/profile-images/1560147642","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"今日やったこと\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BB%8A%E6%97%A5%E3%82%84%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e今日やったこと\u003c/h1\u003e\n\n\u003cp\u003eRailsチュートリアル2週目\u003cbr\u003e\n・5章終了\u003c/p\u003e\n\n\u003cp\u003eまた、ルーティングについて、\u003cbr\u003e\n〇〇_pathがどのように生成されるのか知りたくなったので、\u003cbr\u003e\n「Ruby on Rails5　速習実践ガイド」から学びました。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"ルーティング\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AB%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eルーティング\u003c/h1\u003e\n\n\u003cp\u003eルートの構成要素\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eHTTPメソッド：GET, POST, PATCHなどの「情報の送信取得方法」\nURLパターン：/help,/aboutなどの「URLそのもの」\nURLパターン名：help,aboutなど、この名前を元にヘルパーメソッドが生成される\nコントローラ：static_pagesなどコントローラクラスを指定\nアクション：help,aboutなどアクションを指定\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eget '/help', to: 'static_pages#help'\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e上記のコードをそれぞれの情報を要素に分けると以下の様になる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e    get           '/help'     'static_pages     #     help'\nHTTPメソッド    URLパターン     コントローラ        アクション\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e定義内容：\u003cbr\u003e\nHTTPメソッドとURLパターンから\u003cbr\u003e\nコントローラにあるアクションを呼び出す。\u003c/p\u003e\n\n\u003cp\u003e同時に以下のヘルパーメソッドが同時に生成される。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e  '/help'      =\u0026gt;    help           =\u0026gt;     help_path\nURLパターン         URLパターン名          URLヘルパーメソッド\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eURLパターン名をコードで定義してはいないが、\u003cbr\u003e\nURLパターンからURLパターン名が推測され、\u003cbr\u003e\nURLヘルパーメソッドの○○_pathが生成される。\u003c/p\u003e\n","body":"#今日やったこと\n\nRailsチュートリアル2週目\n・5章終了\n\nまた、ルーティングについて、\n〇〇_pathがどのように生成されるのか知りたくなったので、\n「Ruby on Rails5　速習実践ガイド」から学びました。\n\n#ルーティング\n\nルートの構成要素\n\n```\nHTTPメソッド：GET, POST, PATCHなどの「情報の送信取得方法」\nURLパターン：/help,/aboutなどの「URLそのもの」\nURLパターン名：help,aboutなど、この名前を元にヘルパーメソッドが生成される\nコントローラ：static_pagesなどコントローラクラスを指定\nアクション：help,aboutなどアクションを指定\n```\n\n```\nget '/help', to: 'static_pages#help'\n```\n\n上記のコードをそれぞれの情報を要素に分けると以下の様になる。\n\n```\n    get           '/help'     'static_pages     #     help'\nHTTPメソッド    URLパターン     コントローラ        アクション\n```\n\n定義内容：\nHTTPメソッドとURLパターンから\nコントローラにあるアクションを呼び出す。\n\n同時に以下のヘルパーメソッドが同時に生成される。\n\n```\n  '/help'      =\u003e    help           =\u003e     help_path\nURLパターン         URLパターン名          URLヘルパーメソッド\n```\n\nURLパターン名をコードで定義してはいないが、\nURLパターンからURLパターン名が推測され、\nURLヘルパーメソッドの○○_pathが生成される。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:37:20+09:00","group":null,"id":"7ffe43e5a492091e5138","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"学習記録","versions":[]}],"title":"学習記録：36日目","updated_at":"2019-07-09T20:37:20+09:00","url":"https://qiita.com/Wasborn/items/7ffe43e5a492091e5138","user":{"description":null,"facebook_id":null,"followees_count":1,"followers_count":3,"github_login_name":null,"id":"Wasborn","items_count":36,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":425282,"profile_image_url":"https://secure.gravatar.com/avatar/51880c0a62f11ce7ef4874d5ae598950","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\u003cp\u003eWilliams vs Riske live stream\u003c/p\u003e\n","body":"Williams vs Riske live stream\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:36:23+09:00","group":null,"id":"b36986f92e870d240747","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"vs","versions":[]},{"name":"Williams","versions":[]},{"name":"Riske","versions":[]}],"title":"((live_tv))*Serena Williams vs Alison Riske live stream","updated_at":"2019-07-09T20:38:16+09:00","url":"https://qiita.com/buyuf/items/b36986f92e870d240747","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"buyuf","items_count":3,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":457798,"profile_image_url":"https://secure.gravatar.com/avatar/d479c344bb3fc0f95ab21e84feca717e","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"概要\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A6%82%E8%A6%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e概要\u003c/h1\u003e\n\n\u003cp\u003e題名のままですが、ESP32-WROOM-32で撮影した画像をAWS(API Gateway→Lambda→S3)へ送信してみました！\u003c/p\u003e\n\n\u003cp\u003eカメラはOV2640を使用しています。ESP32での制御方法は以前の記事にまとめています。本記事では既に回路図作成済み前提で話を進めます。\u003cbr\u003e\n\u003ca href=\"https://qiita.com/koki-iwaizumi/items/db81c46b0d1b39b01655\" class=\"autolink\" id=\"reference-d6b8b6d5bec60b0a80d9\"\u003ehttps://qiita.com/koki-iwaizumi/items/db81c46b0d1b39b01655\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/6802d9952ad74037d013f29cca3b33f30fd9aeb9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3432363438302f65363763633662332d383532302d333234362d633938622d3664393462333862363165322e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/6802d9952ad74037d013f29cca3b33f30fd9aeb9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3432363438302f65363763633662332d383532302d333234362d633938622d3664393462333862363165322e6a706567\" alt=\"DSC_0418.JPG\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/426480/e67cc6b3-8520-3246-c98b-6d94b38b61e2.jpeg\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"s3バケット作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#s3%E3%83%90%E3%82%B1%E3%83%83%E3%83%88%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eS3バケット作成\u003c/h1\u003e\n\n\u003cp\u003e画像保存先のS3のバケットを作成しておきます。バケット作成するだけなので詳細は割愛します。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"lambda設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#lambda%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003elambda設定\u003c/h1\u003e\n\n\u003cp\u003e下記を参考にlambda関数を作成します。今回はAPIキーあり、Python3.7を使用して関数を作成しました。\u003cbr\u003e\n\u003ca href=\"https://dev.classmethod.jp/cloud/aws/getting-start-api-gateway/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://dev.classmethod.jp/cloud/aws/getting-start-api-gateway/\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e関数作成後、その関数にS3のロールを割り当てる必要があるので下記を参考にS3を割り当てます。\u003cbr\u003e\n\u003ca href=\"https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/with-s3-example.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://docs.aws.amazon.com/ja_jp/lambda/latest/dg/with-s3-example.html\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e下記がlambda_functionになります。BUCKET_NAMEはS3のバケットネームに変更してください。\u003cbr\u003e\n処理の中身としては、json形式のデータ{\"image\":\"base64で変換したjpeg\"}を受信し、base64デーコード後、S3へランダム名で保存されるようになっています。※base64で変換できない場合などの例外処理などはしてないので、後で追加する予定です、、\u003c/p\u003e\n\n\u003cp\u003eトリガーをAPI Gatewayに設定し、APIキーありで保存します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003elambda_function.py\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003eboto3\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003ebase64\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003euuid\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eBUCKET_NAME\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e'*'\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003elambda_handler\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eresponse\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e  \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"s\"\u003e\"status\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e\"failed\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"s\"\u003e\"image\"\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eresponse\u003c/span\u003e\n\n\n    \u003cspan class=\"n\"\u003es3\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eboto3\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eresource\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e's3'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ebucket\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003es3\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBucket\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eBUCKET_NAME\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ebucket\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eput_object\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eKey\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"s\"\u003e'{uuid.uuid4()}.jpg'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eBody\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003ebase64\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eb64decode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"image\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]),\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eContentType\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'image/jpeg'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"status\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"success\"\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eresponse\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"esp-wroom-32\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#esp-wroom-32\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eESP-WROOM-32\u003c/h1\u003e\n\n\u003cp\u003e下記のプログラムをESP-WROOM-32に書き込みます。全ファイルはgitに挙げています。\u003cbr\u003e\n\u003ca href=\"https://github.com/koki-iwaizumi/esp32-ov2640/tree/aws-lambda\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://github.com/koki-iwaizumi/esp32-ov2640/tree/aws-lambda\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003ewifi接続後、OV2640で画像撮影、jpegデータをbase64に変換、postメソッドでAPI Gatewayへリクエストしています。jpegデータはVGA(640px:480px)のサイズにしています。\u003c/p\u003e\n\n\u003cp\u003e下記の変数はそれぞれ任意の値を入力してください。\u003cbr\u003e\nWIFI_SSID、WIFI_PASSWORD、AWS_ENDPOINT、AWS_API_KEY\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eapp_main.c\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\n\u003cspan class=\"cp\"\u003e#include \u0026lt;stdio.h\u0026gt;\n#include \u0026lt;stdlib.h\u0026gt;\n#include \u0026lt;string.h\u0026gt;\n\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e#include \"freertos/FreeRTOS.h\"\n#include \"freertos/task.h\"\n#include \"freertos/semphr.h\"\n#include \"freertos/event_groups.h\"\n\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e#include \"esp_system.h\"\n#include \"esp_wifi.h\"\n#include \"esp_event_loop.h\"\n#include \"esp_http_client.h\"\n#include \"esp_log.h\"\n#include \"esp_err.h\"\n#include \"nvs_flash.h\"\n\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e#include \"driver/i2c.h\"\n#include \"driver/gpio.h\"\n#include \"camera.h\"\n#include \"http_server.h\"\n\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e#include \"mbedtls/base64.h\"\n\u003c/span\u003e\n\u003cspan class=\"cm\"\u003e/********* config ***********/\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e#define WIFI_SSID \"*\"\n#define WIFI_PASSWORD \"*\"\n#define AWS_ENDPOINT \"*\"\n#define AWS_API_KEY \"*\"\n\u003c/span\u003e\n\u003cspan class=\"cm\"\u003e/********* i2c ***********/\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e#define I2C_CAMERA_TX_BUF_DISABLE 0\n#define I2C_CAMERA_RX_BUF_DISABLE 0\n#define I2C_CAMERA_FREQ_HZ 100000\n#define I2C_CAMERA_NUM I2C_NUM_0\n#define ACK_CHECK_EN 0x1\n#define ACK_CHECK_DIS 0x0\n#define ACK_VAL 0x0\n#define NACK_VAL 0x1\n\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e#define CAMERA_SLAVE_ADDRESS_READ 0b01100001\n#define CAMERA_SLAVE_ADDRESS_WRITE 0b01100000\n\u003c/span\u003e\n\u003cspan class=\"cm\"\u003e/********* gpio ***********/\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e#define PIN_D0 35\n#define PIN_D1 17\n#define PIN_D2 34\n#define PIN_D3 5\n#define PIN_D4 39\n#define PIN_D5 18\n#define PIN_D6 36\n#define PIN_D7 19\n#define PIN_XCLK 27\n#define PIN_PCLK 21\n#define PIN_VSYNC 22\n#define PIN_HREF 26\n#define PIN_SDA 25\n#define PIN_SCL 23\n#define PIN_RESET 15\n\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e#define GPIO_OUTPUT_PIN_SEL  (1 \u0026lt;\u0026lt; PIN_RESET)\n\u003c/span\u003e\n\u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003echar\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eTAG\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"camera_demo app_main\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"n\"\u003eEventGroupHandle_t\u003c/span\u003e \u003cspan class=\"n\"\u003es_wifi_event_group\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eCONNECTED_BIT\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBIT0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"n\"\u003eip4_addr_t\u003c/span\u003e \u003cspan class=\"n\"\u003es_ip_addr\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"cm\"\u003e/********* camera reg ***********/\u003c/span\u003e\n\u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003euint8_t\u003c/span\u003e \u003cspan class=\"n\"\u003edefault_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[][\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xFF\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x2C\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xFF\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x2E\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xDF\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xFF\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x01\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x3C\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x32\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x11\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x80\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x09\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x02\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x28\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x13\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xE5\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x14\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x48\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x15\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x2C\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x0C\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x33\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x78\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x3A\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x33\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x3B\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xFB\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x3E\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x43\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x11\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x16\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x10\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x39\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x02\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x35\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x88\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x22\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x0A\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x37\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x40\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x23\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x34\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xA0\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x06\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x02\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x06\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x88\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x07\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xC0\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x0D\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xB7\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x0E\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x01\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x4C\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x4A\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x81\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x21\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x99\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x24\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x40\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x25\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x38\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x26\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x82\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x48\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x49\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x5C\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x63\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x46\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x47\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x0C\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x3A\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x5D\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x55\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x5E\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x7D\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x5F\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x7D\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x60\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x55\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x61\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x70\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x62\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x80\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x7C\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x05\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x20\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x80\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x28\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x30\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x6C\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x6D\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x80\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x6E\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x70\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x02\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x71\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x94\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x73\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xC1\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x3D\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x34\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x5A\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x57\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x4F\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xBB\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x50\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x9C\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xFF\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xE5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x7F\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xF9\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xC0\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x41\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x24\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xE0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x14\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x76\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xFF\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x33\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xA0\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x42\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x20\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x43\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x18\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x4C\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x87\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xD0\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x88\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x3F\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xD7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x03\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xD9\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x10\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xD3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x82\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xC8\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x08\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xC9\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x80\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x7C\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x7D\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x7C\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x03\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x7D\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x48\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x7D\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x48\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x7C\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x08\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x7D\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x20\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x7D\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x10\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x7D\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x0E\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x90\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x91\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x0E\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x91\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x1A\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x91\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x31\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x91\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x5A\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x91\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x69\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x91\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x75\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x91\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x7E\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x91\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x88\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x91\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x8F\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x91\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x96\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x91\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xA3\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x91\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xAF\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x91\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xC4\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x91\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xD7\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x91\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xE8\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x91\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x20\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x92\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x93\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x06\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x93\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xE3\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x93\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x03\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x93\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x03\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x93\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x93\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x02\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x93\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x93\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x93\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x93\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x93\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x93\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x93\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x96\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x97\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x08\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x97\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x19\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x97\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x02\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x97\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x0C\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x97\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x24\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x97\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x30\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x97\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x28\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x97\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x26\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x97\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x02\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x97\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x98\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x97\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x80\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x97\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x97\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA8\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xC5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x11\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xC6\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x51\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xBF\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x80\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xC7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x10\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xB6\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x66\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xB8\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xA5\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xB7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x64\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xB9\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x7C\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xB3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xAF\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xB4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x97\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xB5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xFF\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xB0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xC5\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xB1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x94\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xB2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x0F\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xC4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x5C\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA6\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x20\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xD8\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x1B\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x31\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x18\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x20\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xD8\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x19\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x31\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x18\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x20\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xD8\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x19\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x31\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xA7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x18\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x7F\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xE5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x1F\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xE1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x77\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xDD\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x7F\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xC2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x0E\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003euint8_t\u003c/span\u003e \u003cspan class=\"n\"\u003esvga_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[][\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xFF\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x01\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x12\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x40\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x03\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x0F\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x32\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x09\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x17\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x11\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x18\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x43\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x19\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x1A\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x4B\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x3D\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x38\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x35\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xDA\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x22\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x1A\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x37\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xC3\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x34\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xC0\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x06\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x88\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x0D\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x87\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x0E\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x41\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x42\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x03\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xFF\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x05\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x01\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xE0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x04\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xC0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x64\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xC1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x4B\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x8C\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x53\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x54\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x51\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xC8\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x52\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x96\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x55\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x57\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x86\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x3D\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x50\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x80\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xD3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x80\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x05\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xE0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003euint8_t\u003c/span\u003e \u003cspan class=\"n\"\u003ejpeg_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[][\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xFF\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xE0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x04\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xDA\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x18\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xD7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x03\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xE1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x77\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x44\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x0C\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xE0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003euint8_t\u003c/span\u003e \u003cspan class=\"n\"\u003eframesize_low_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[][\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xFF\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x05\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x01\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x5A\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0xA0\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x5B\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x78\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x5C\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xFF\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x01\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x11\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x83\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003euint8_t\u003c/span\u003e \u003cspan class=\"n\"\u003eframesize_high_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[][\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xFF\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x05\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003euint8_t\u003c/span\u003e \u003cspan class=\"n\"\u003equality_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[][\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xFF\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x44\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x0F\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x00\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eesp_err_t\u003c/span\u003e \u003cspan class=\"n\"\u003eread_camera_config\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003euint8_t\u003c/span\u003e \u003cspan class=\"n\"\u003ereg\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003euint8_t\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003ei2c_cmd_handle_t\u003c/span\u003e \u003cspan class=\"n\"\u003ecmd\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ei2c_cmd_link_create\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei2c_master_start\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecmd\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei2c_master_write_byte\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecmd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eCAMERA_SLAVE_ADDRESS_WRITE\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eACK_CHECK_EN\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei2c_master_write_byte\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecmd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ereg\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eACK_CHECK_EN\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei2c_master_stop\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecmd\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eesp_err_t\u003c/span\u003e \u003cspan class=\"n\"\u003eerr\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ei2c_master_cmd_begin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eI2C_CAMERA_NUM\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecmd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eportTICK_RATE_MS\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei2c_cmd_link_delete\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecmd\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eerr\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003eESP_OK\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eerr\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003ecmd\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ei2c_cmd_link_create\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei2c_master_start\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecmd\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei2c_master_write_byte\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecmd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eCAMERA_SLAVE_ADDRESS_READ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eACK_CHECK_EN\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei2c_master_read_byte\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecmd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eNACK_VAL\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei2c_master_stop\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecmd\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eerr\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ei2c_master_cmd_begin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eI2C_CAMERA_NUM\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecmd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eportTICK_RATE_MS\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei2c_cmd_link_delete\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecmd\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eerr\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003eESP_OK\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eerr\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eESP_OK\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eesp_err_t\u003c/span\u003e \u003cspan class=\"n\"\u003ewrite_camera_config\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003euint8_t\u003c/span\u003e \u003cspan class=\"n\"\u003ereg\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003euint8_t\u003c/span\u003e \u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003ei2c_cmd_handle_t\u003c/span\u003e \u003cspan class=\"n\"\u003ecmd\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ei2c_cmd_link_create\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei2c_master_start\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecmd\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei2c_master_write_byte\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecmd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eCAMERA_SLAVE_ADDRESS_WRITE\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eACK_CHECK_EN\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei2c_master_write_byte\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecmd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ereg\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eACK_CHECK_EN\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei2c_master_write_byte\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecmd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eACK_CHECK_EN\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei2c_master_stop\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecmd\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eesp_err_t\u003c/span\u003e \u003cspan class=\"n\"\u003eerr\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ei2c_master_cmd_begin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eI2C_CAMERA_NUM\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecmd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eportTICK_RATE_MS\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei2c_cmd_link_delete\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecmd\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eerr\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003eESP_OK\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eerr\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eESP_OK\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"n\"\u003eesp_err_t\u003c/span\u003e \u003cspan class=\"n\"\u003eevent_handler\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003evoid\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003ectx\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esystem_event_t\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eswitch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eevent\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003eevent_id\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"n\"\u003eSYSTEM_EVENT_STA_START\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eesp_wifi_connect\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"n\"\u003eSYSTEM_EVENT_STA_GOT_IP\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003exEventGroupSetBits\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003es_wifi_event_group\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eCONNECTED_BIT\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003es_ip_addr\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eevent\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003eevent_info\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003egot_ip\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eip_info\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eip\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"n\"\u003eSYSTEM_EVENT_STA_DISCONNECTED\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eesp_wifi_connect\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003exEventGroupClearBits\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003es_wifi_event_group\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eCONNECTED_BIT\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003edefault\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eESP_OK\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"kt\"\u003evoid\u003c/span\u003e \u003cspan class=\"n\"\u003einitialise_wifi\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003evoid\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003etcpip_adapter_init\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003es_wifi_event_group\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003exEventGroupCreate\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eesp_event_loop_init\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eevent_handler\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nb\"\u003eNULL\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ewifi_init_config_t\u003c/span\u003e \u003cspan class=\"n\"\u003ecfg\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eWIFI_INIT_CONFIG_DEFAULT\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eesp_wifi_init\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003ecfg\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eesp_wifi_set_storage\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eWIFI_STORAGE_RAM\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ewifi_config_t\u003c/span\u003e \u003cspan class=\"n\"\u003ewifi_config\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esta\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003essid\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eWIFI_SSID\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epassword\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eWIFI_PASSWORD\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eesp_wifi_set_mode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eWIFI_MODE_STA\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eesp_wifi_set_config\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eWIFI_IF_STA\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003ewifi_config\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eesp_wifi_start\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eesp_wifi_set_ps\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eWIFI_PS_NONE\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eESP_LOGI\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTAG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Connecting to \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\"\u003c/span\u003e\u003cspan class=\"s\"\u003e%s\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\"\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ewifi_config\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esta\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003essid\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003exEventGroupWaitBits\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003es_wifi_event_group\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eCONNECTED_BIT\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nb\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nb\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eportMAX_DELAY\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eESP_LOGI\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTAG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Connected\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eesp_err_t\u003c/span\u003e \u003cspan class=\"n\"\u003einit_camera_clock\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecamera_config_t\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003econfig\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eperiph_module_enable\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ePERIPH_LEDC_MODULE\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eledc_timer_config_t\u003c/span\u003e \u003cspan class=\"n\"\u003etimer_conf\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eduty_resolution\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efreq_hz\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003econfig\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003exclk_freq_hz\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003espeed_mode\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eLEDC_HIGH_SPEED_MODE\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etimer_num\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003econfig\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003eledc_timer\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eesp_err_t\u003c/span\u003e \u003cspan class=\"n\"\u003eerr\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eledc_timer_config\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003etimer_conf\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eerr\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003eESP_OK\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eESP_LOGE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTAG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"ledc_timer_config failed, err=%d\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eerr\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eerr\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eledc_channel_config_t\u003c/span\u003e \u003cspan class=\"n\"\u003ech_conf\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003echannel\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003econfig\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003eledc_channel\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etimer_sel\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003econfig\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003eledc_timer\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eintr_type\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eLEDC_INTR_DISABLE\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eduty\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003espeed_mode\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eLEDC_HIGH_SPEED_MODE\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003egpio_num\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003econfig\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003epin_xclk\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eerr\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eledc_channel_config\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003ech_conf\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eerr\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003eESP_OK\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eESP_LOGE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTAG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"ledc_channel_config failed, err=%d\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eerr\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eerr\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eESP_OK\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"kt\"\u003evoid\u003c/span\u003e \u003cspan class=\"n\"\u003einit_i2c\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecamera_config_t\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003econfig\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ei2c_master_port\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eI2C_NUM_0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei2c_config_t\u003c/span\u003e \u003cspan class=\"n\"\u003econf\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003econf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emode\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eI2C_MODE_MASTER\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003econf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esda_io_num\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003econfig\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003epin_sscb_sda\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003econf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esda_pullup_en\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGPIO_PULLUP_ENABLE\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003econf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003escl_io_num\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003econfig\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003epin_sscb_scl\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003econf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003escl_pullup_en\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGPIO_PULLUP_ENABLE\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003econf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emaster\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eclk_speed\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eI2C_CAMERA_FREQ_HZ\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei2c_param_config\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ei2c_master_port\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003econf\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei2c_driver_install\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ei2c_master_port\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003econf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emode\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eI2C_CAMERA_RX_BUF_DISABLE\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eI2C_CAMERA_TX_BUF_DISABLE\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eesp_err_t\u003c/span\u003e \u003cspan class=\"n\"\u003e_http_event_handle\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eesp_http_client_event_t\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eevt\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eswitch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eevt\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003eevent_id\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"n\"\u003eHTTP_EVENT_ERROR\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eESP_LOGI\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTAG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"HTTP_EVENT_ERROR\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"n\"\u003eHTTP_EVENT_ON_CONNECTED\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eESP_LOGI\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTAG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"HTTP_EVENT_ON_CONNECTED\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"n\"\u003eHTTP_EVENT_HEADER_SENT\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eESP_LOGI\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTAG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"HTTP_EVENT_HEADER_SENT\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"n\"\u003eHTTP_EVENT_ON_HEADER\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eESP_LOGI\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTAG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"HTTP_EVENT_ON_HEADER\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eprintf\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"%.*s\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eevt\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003edata_len\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003echar\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eevt\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"n\"\u003eHTTP_EVENT_ON_DATA\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eESP_LOGI\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTAG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"HTTP_EVENT_ON_DATA, len=%d\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eevt\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003edata_len\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"n\"\u003eesp_http_client_is_chunked_response\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eevt\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e)){\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eprintf\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"%.*s\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eevt\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003edata_len\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003echar\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eevt\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"n\"\u003eHTTP_EVENT_ON_FINISH\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eESP_LOGI\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTAG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"HTTP_EVENT_ON_FINISH\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"n\"\u003eHTTP_EVENT_DISCONNECTED\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eESP_LOGI\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTAG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"HTTP_EVENT_DISCONNECTED\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eESP_OK\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"kt\"\u003evoid\u003c/span\u003e \u003cspan class=\"n\"\u003ehttp_post_task\u003c/span\u003e\u003cspan class=\"p\"\u003e(){\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eesp_http_client_config_t\u003c/span\u003e \u003cspan class=\"n\"\u003ehttp_config\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAWS_ENDPOINT\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eevent_handler\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003e_http_event_handle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emethod\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eHTTP_METHOD_POST\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n    \u003cspan class=\"kt\"\u003eunsigned\u003c/span\u003e \u003cspan class=\"kt\"\u003echar\u003c/span\u003e \u003cspan class=\"n\"\u003eimage0\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e15000\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003echar\u003c/span\u003e \u003cspan class=\"n\"\u003eimage\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e15000\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003esize_t\u003c/span\u003e \u003cspan class=\"n\"\u003eolen\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003embedtls_base64_encode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eimage0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003esizeof\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eimage0\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003eolen\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecamera_get_fb\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e \u003cspan class=\"n\"\u003ecamera_get_data_size\u003c/span\u003e\u003cspan class=\"p\"\u003e());\u003c/span\u003e\n    \u003cspan class=\"n\"\u003esprintf\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eimage\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"{\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\"\u003c/span\u003e\u003cspan class=\"s\"\u003eimage\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\"\u003c/span\u003e\u003cspan class=\"s\"\u003e:\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\"\u003c/span\u003e\u003cspan class=\"s\"\u003e%s\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\"\u003c/span\u003e\u003cspan class=\"s\"\u003e}\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eimage0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003echar\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003epost_data\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003echar\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eimage\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eesp_http_client_handle_t\u003c/span\u003e \u003cspan class=\"n\"\u003eclient\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eesp_http_client_init\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003ehttp_config\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eesp_http_client_set_post_field\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003epost_data\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003estrlen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epost_data\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eesp_http_client_set_header\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"x-api-key\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAWS_API_KEY\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eesp_http_client_set_header\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Content-Type\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"application/json\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eesp_err_t\u003c/span\u003e \u003cspan class=\"n\"\u003eerr\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eesp_http_client_perform\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eerr\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eESP_OK\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n       \u003cspan class=\"n\"\u003eESP_LOGI\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTAG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Status = %d, content_length = %d\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eesp_http_client_get_status_code\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"n\"\u003eesp_http_client_get_content_length\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eesp_http_client_cleanup\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ewhile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"kt\"\u003evoid\u003c/span\u003e \u003cspan class=\"n\"\u003eapp_main\u003c/span\u003e\u003cspan class=\"p\"\u003e(){\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eesp_log_level_set\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"*\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eESP_LOG_VERBOSE\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eesp_err_t\u003c/span\u003e \u003cspan class=\"n\"\u003eerr\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003envs_flash_init\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eerr\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003eESP_OK\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n        \u003cspan class=\"n\"\u003envs_flash_erase\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"n\"\u003envs_flash_init\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003egpio_install_isr_service\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003ecamera_config_t\u003c/span\u003e \u003cspan class=\"n\"\u003ecamera_config\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eledc_channel\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eLEDC_CHANNEL_0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eledc_timer\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eLEDC_TIMER_0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epin_d0\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePIN_D0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epin_d1\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePIN_D1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epin_d2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePIN_D2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epin_d3\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePIN_D3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epin_d4\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePIN_D4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epin_d5\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePIN_D5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epin_d6\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePIN_D6\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epin_d7\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePIN_D7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epin_xclk\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePIN_XCLK\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epin_pclk\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePIN_PCLK\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epin_vsync\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePIN_VSYNC\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epin_href\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePIN_HREF\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epin_sscb_sda\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePIN_SDA\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epin_sscb_scl\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePIN_SCL\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epin_reset\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePIN_RESET\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003exclk_freq_hz\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e6000000\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ewidth\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e640\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eheight\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e480\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eESP_LOGE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTAG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"xclk_freq_hz=%d[Hz]\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecamera_config\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003exclk_freq_hz\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e//GPIO設定\u003c/span\u003e\n    \u003cspan class=\"n\"\u003egpio_config_t\u003c/span\u003e \u003cspan class=\"n\"\u003eio_conf\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eio_conf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eintr_type\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGPIO_PIN_INTR_DISABLE\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eio_conf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emode\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGPIO_MODE_OUTPUT\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eio_conf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epin_bit_mask\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGPIO_OUTPUT_PIN_SEL\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eio_conf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epull_down_en\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eio_conf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epull_up_en\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003egpio_config\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003eio_conf\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e//CAMERA クロック出力\u003c/span\u003e\n    \u003cspan class=\"n\"\u003einit_camera_clock\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003ecamera_config\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e//I2C 初期化\u003c/span\u003e\n    \u003cspan class=\"n\"\u003einit_i2c\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003ecamera_config\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e//CAMERA リセット\u003c/span\u003e\n    \u003cspan class=\"n\"\u003egpio_set_level\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ePIN_RESET\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003evTaskDelay\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eportTICK_RATE_MS\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003egpio_set_level\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ePIN_RESET\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003evTaskDelay\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eportTICK_RATE_MS\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e//CAMERA OV2640確認\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003euint8_t\u003c/span\u003e \u003cspan class=\"n\"\u003ecamera_pid_h\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eread_camera_config\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x0A\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003ecamera_pid_h\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eESP_LOGI\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTAG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"camera_pid_h=0x%02X\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecamera_pid_h\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecamera_pid_h\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x26\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eESP_LOGE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTAG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"failed, camera_pid_h=%02X\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecamera_pid_h\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e//CAMERA システムリセット\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ewrite_camera_config\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mh\"\u003e0xFF\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x01\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ewrite_camera_config\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mh\"\u003e0x12\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mh\"\u003e0x80\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003evTaskDelay\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eportTICK_RATE_MS\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e//CAMERA 設定書き込み\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ewhile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edefault_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]){\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ewrite_camera_config\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edefault_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003edefault_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"o\"\u003e++\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ewhile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ejpeg_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]){\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ewrite_camera_config\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ejpeg_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003ejpeg_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"o\"\u003e++\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ewhile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eframesize_low_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]){\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ewrite_camera_config\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eframesize_low_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003eframesize_low_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"o\"\u003e++\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ewhile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esvga_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]){\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ewrite_camera_config\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esvga_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003esvga_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"o\"\u003e++\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ewhile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eframesize_high_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]){\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ewrite_camera_config\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eframesize_high_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003eframesize_high_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"o\"\u003e++\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ewhile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003equality_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]){\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ewrite_camera_config\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003equality_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003equality_regs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"o\"\u003e++\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e//CAMERA その他設定\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eerr\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecamera_init\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003ecamera_config\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eerr\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003eESP_OK\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eESP_LOGE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTAG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Camera init failed with error 0x%x\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eerr\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e//CAMERA wifi設定\u003c/span\u003e\n    \u003cspan class=\"n\"\u003einitialise_wifi\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e//写真撮影\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eerr\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecamera_run\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eerr\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003eESP_OK\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eESP_LOGD\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTAG\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Camera capture failed with error = %d\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eerr\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003exTaskCreate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003ehttp_post_task\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"http_post_task\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e50000\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nb\"\u003eNULL\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nb\"\u003eNULL\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003evTaskDelay\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e10000\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eportTICK_RATE_MS\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"実行\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実行\u003c/h1\u003e\n\n\u003cp\u003eESP32を実行すると、S3に撮影した画像が保存されます。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考まとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考まとめ\u003c/h1\u003e\n\n\u003cp\u003eゼロから作りながら覚えるAPI Gateway環境構築\u003cbr\u003e\n\u003ca href=\"https://dev.classmethod.jp/cloud/aws/getting-start-api-gateway/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://dev.classmethod.jp/cloud/aws/getting-start-api-gateway/\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003elambda (トリガー：APIGateway)\u003cbr\u003e\n\u003ca href=\"https://blog.apar.jp/web/10804/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://blog.apar.jp/web/10804/\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eS3のロールを作成\u003cbr\u003e\n\u003ca href=\"https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/with-s3-example.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://docs.aws.amazon.com/ja_jp/lambda/latest/dg/with-s3-example.html\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eAPIGateway + Lambdaでbase64変換された画像ファイルをS3に保存する\u003cbr\u003e\n\u003ca href=\"https://qiita.com/yumakkt/items/1a62d279e81d9f6d0c63\" class=\"autolink\" id=\"reference-3632d2df8b26a667ba96\"\u003ehttps://qiita.com/yumakkt/items/1a62d279e81d9f6d0c63\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e[Python]Base64でエンコードされた画像データをデコードする。\u003cbr\u003e\n\u003ca href=\"https://qiita.com/TsubasaSato/items/908d4f5c241091ecbf9b\" class=\"autolink\" id=\"reference-e3b643d0a415322d3e69\"\u003ehttps://qiita.com/TsubasaSato/items/908d4f5c241091ecbf9b\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eM5Cameraから画像をPOSTする\u003cbr\u003e\n\u003ca href=\"https://qiita.com/dinosauria123/items/149535349d98f51bd876\" class=\"autolink\" id=\"reference-a5811f9b7015166bcc1f\"\u003ehttps://qiita.com/dinosauria123/items/149535349d98f51bd876\u003c/a\u003e\u003c/p\u003e\n","body":"#概要\n題名のままですが、ESP32-WROOM-32で撮影した画像をAWS(API Gateway→Lambda→S3)へ送信してみました！\n\nカメラはOV2640を使用しています。ESP32での制御方法は以前の記事にまとめています。本記事では既に回路図作成済み前提で話を進めます。\nhttps://qiita.com/koki-iwaizumi/items/db81c46b0d1b39b01655\n\n![DSC_0418.JPG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/426480/e67cc6b3-8520-3246-c98b-6d94b38b61e2.jpeg)\n\n#S3バケット作成\n画像保存先のS3のバケットを作成しておきます。バケット作成するだけなので詳細は割愛します。\n\n#lambda設定\n\n下記を参考にlambda関数を作成します。今回はAPIキーあり、Python3.7を使用して関数を作成しました。\nhttps://dev.classmethod.jp/cloud/aws/getting-start-api-gateway/\n\n関数作成後、その関数にS3のロールを割り当てる必要があるので下記を参考にS3を割り当てます。\nhttps://docs.aws.amazon.com/ja_jp/lambda/latest/dg/with-s3-example.html\n\n下記がlambda_functionになります。BUCKET_NAMEはS3のバケットネームに変更してください。\n処理の中身としては、json形式のデータ{\"image\":\"base64で変換したjpeg\"}を受信し、base64デーコード後、S3へランダム名で保存されるようになっています。※base64で変換できない場合などの例外処理などはしてないので、後で追加する予定です、、\n\nトリガーをAPI Gatewayに設定し、APIキーありで保存します。\n\n```python:lambda_function.py\n\nimport boto3\nimport base64\nimport uuid\n\nBUCKET_NAME = '*'\n\ndef lambda_handler(event, context):\n\n    response =  {\n        \"status\": \"failed\",\n    }\n\n    print(event)\n\n    if \"image\" not in event:\n        return response\n\n\n    s3 = boto3.resource('s3')\n    bucket = s3.Bucket(BUCKET_NAME)\n    bucket.put_object(\n        Key=f'{uuid.uuid4()}.jpg',\n        Body=base64.b64decode(event[\"image\"]),\n        ContentType='image/jpeg')\n\n    response[\"status\"] = \"success\"\n\n    return response\n```\n\n#ESP-WROOM-32\n\n下記のプログラムをESP-WROOM-32に書き込みます。全ファイルはgitに挙げています。\nhttps://github.com/koki-iwaizumi/esp32-ov2640/tree/aws-lambda\n\nwifi接続後、OV2640で画像撮影、jpegデータをbase64に変換、postメソッドでAPI Gatewayへリクエストしています。jpegデータはVGA(640px:480px)のサイズにしています。\n\n下記の変数はそれぞれ任意の値を入力してください。\nWIFI_SSID、WIFI_PASSWORD、AWS_ENDPOINT、AWS_API_KEY\n\n```c:app_main.c\n\n#include \u003cstdio.h\u003e\n#include \u003cstdlib.h\u003e\n#include \u003cstring.h\u003e\n\n#include \"freertos/FreeRTOS.h\"\n#include \"freertos/task.h\"\n#include \"freertos/semphr.h\"\n#include \"freertos/event_groups.h\"\n\n#include \"esp_system.h\"\n#include \"esp_wifi.h\"\n#include \"esp_event_loop.h\"\n#include \"esp_http_client.h\"\n#include \"esp_log.h\"\n#include \"esp_err.h\"\n#include \"nvs_flash.h\"\n\n#include \"driver/i2c.h\"\n#include \"driver/gpio.h\"\n#include \"camera.h\"\n#include \"http_server.h\"\n\n#include \"mbedtls/base64.h\"\n\n/********* config ***********/\n#define WIFI_SSID \"*\"\n#define WIFI_PASSWORD \"*\"\n#define AWS_ENDPOINT \"*\"\n#define AWS_API_KEY \"*\"\n\n/********* i2c ***********/\n#define I2C_CAMERA_TX_BUF_DISABLE 0\n#define I2C_CAMERA_RX_BUF_DISABLE 0\n#define I2C_CAMERA_FREQ_HZ 100000\n#define I2C_CAMERA_NUM I2C_NUM_0\n#define ACK_CHECK_EN 0x1\n#define ACK_CHECK_DIS 0x0\n#define ACK_VAL 0x0\n#define NACK_VAL 0x1\n\n#define CAMERA_SLAVE_ADDRESS_READ 0b01100001\n#define CAMERA_SLAVE_ADDRESS_WRITE 0b01100000\n\n/********* gpio ***********/\n#define PIN_D0 35\n#define PIN_D1 17\n#define PIN_D2 34\n#define PIN_D3 5\n#define PIN_D4 39\n#define PIN_D5 18\n#define PIN_D6 36\n#define PIN_D7 19\n#define PIN_XCLK 27\n#define PIN_PCLK 21\n#define PIN_VSYNC 22\n#define PIN_HREF 26\n#define PIN_SDA 25\n#define PIN_SCL 23\n#define PIN_RESET 15\n\n#define GPIO_OUTPUT_PIN_SEL  (1 \u003c\u003c PIN_RESET)\n\nstatic const char* TAG = \"camera_demo app_main\";\n\nstatic EventGroupHandle_t s_wifi_event_group;\nconst int CONNECTED_BIT = BIT0;\nstatic ip4_addr_t s_ip_addr;\n\n/********* camera reg ***********/\nstatic const uint8_t default_regs[][2] = {\n\t{0xFF, 0x00},\n\t{0x2C, 0xFF},\n\t{0x2E, 0xDF},\n\n\t{0xFF, 0x01},\n\t{0x3C, 0x32},\n\t{0x11, 0x80},\n\t{0x09, 0x02},\n\t{0x28, 0x00},\n\t{0x13, 0xE5},\n\t{0x14, 0x48},\n\t{0x15, 0x00},\n\t{0x2C, 0x0C},\n\t{0x33, 0x78},\n\t{0x3A, 0x33},\n\t{0x3B, 0xFB},\n\t{0x3E, 0x00},\n\t{0x43, 0x11},\n\t{0x16, 0x10},\n\t{0x39, 0x02},\n\t{0x35, 0x88},\n\t{0x22, 0x0A},\n\t{0x37, 0x40},\n\t{0x23, 0x00},\n\t{0x34, 0xA0},\n\t{0x06, 0x02},\n\t{0x06, 0x88},\n\t{0x07, 0xC0},\n\t{0x0D, 0xB7},\n\t{0x0E, 0x01},\n\t{0x4C, 0x00},\n\t{0x4A, 0x81},\n\t{0x21, 0x99},\n\t{0x24, 0x40},\n\t{0x25, 0x38},\n\t{0x26, 0x82},\n\t{0x48, 0x00},\n\t{0x49, 0x00},\n\t{0x5C, 0x00},\n\t{0x63, 0x00},\n\t{0x46, 0x00},\n\t{0x47, 0x00},\n\t{0x0C, 0x3A},\n\t{0x5D, 0x55},\n\t{0x5E, 0x7D},\n\t{0x5F, 0x7D},\n\t{0x60, 0x55},\n\t{0x61, 0x70},\n\t{0x62, 0x80},\n\t{0x7C, 0x05},\n\t{0x20, 0x80},\n\t{0x28, 0x30},\n\t{0x6C, 0x00},\n\t{0x6D, 0x80},\n\t{0x6E, 0x00},\n\t{0x70, 0x02},\n\t{0x71, 0x94},\n\t{0x73, 0xC1},\n\t{0x3D, 0x34},\n\t{0x5A, 0x57},\n\t{0x4F, 0xBB},\n\t{0x50, 0x9C},\n\n\t{0xFF, 0x00},\n\t{0xE5, 0x7F},\n\t{0xF9, 0xC0},\n\t{0x41, 0x24},\n\t{0xE0, 0x14},\n\t{0x76, 0xFF},\n\t{0x33, 0xA0},\n\t{0x42, 0x20},\n\t{0x43, 0x18},\n\t{0x4C, 0x00},\n\t{0x87, 0xD0},\n\t{0x88, 0x3F},\n\t{0xD7, 0x03},\n\t{0xD9, 0x10},\n\t{0xD3, 0x82},\n\t{0xC8, 0x08},\n\t{0xC9, 0x80},\n\t{0x7C, 0x00},\n\t{0x7D, 0x00},\n\t{0x7C, 0x03},\n\t{0x7D, 0x48},\n\t{0x7D, 0x48},\n\t{0x7C, 0x08},\n\t{0x7D, 0x20},\n\t{0x7D, 0x10},\n\t{0x7D, 0x0E},\n\t{0x90, 0x00},\n\t{0x91, 0x0E},\n\t{0x91, 0x1A},\n\t{0x91, 0x31},\n\t{0x91, 0x5A},\n\t{0x91, 0x69},\n\t{0x91, 0x75},\n\t{0x91, 0x7E},\n\t{0x91, 0x88},\n\t{0x91, 0x8F},\n\t{0x91, 0x96},\n\t{0x91, 0xA3},\n\t{0x91, 0xAF},\n\t{0x91, 0xC4},\n\t{0x91, 0xD7},\n\t{0x91, 0xE8},\n\t{0x91, 0x20},\n\t{0x92, 0x00},\n\t{0x93, 0x06},\n\t{0x93, 0xE3},\n\t{0x93, 0x03},\n\t{0x93, 0x03},\n\t{0x93, 0x00},\n\t{0x93, 0x02},\n\t{0x93, 0x00},\n\t{0x93, 0x00},\n\t{0x93, 0x00},\n\t{0x93, 0x00},\n\t{0x93, 0x00},\n\t{0x93, 0x00},\n\t{0x93, 0x00},\n\t{0x96, 0x00},\n\t{0x97, 0x08},\n\t{0x97, 0x19},\n\t{0x97, 0x02},\n\t{0x97, 0x0C},\n\t{0x97, 0x24},\n\t{0x97, 0x30},\n\t{0x97, 0x28},\n\t{0x97, 0x26},\n\t{0x97, 0x02},\n\t{0x97, 0x98},\n\t{0x97, 0x80},\n\t{0x97, 0x00},\n\t{0x97, 0x00},\n\t{0xA4, 0x00},\n\t{0xA8, 0x00},\n\t{0xC5, 0x11},\n\t{0xC6, 0x51},\n\t{0xBF, 0x80},\n\t{0xC7, 0x10},\n\t{0xB6, 0x66},\n\t{0xB8, 0xA5},\n\t{0xB7, 0x64},\n\t{0xB9, 0x7C},\n\t{0xB3, 0xAF},\n\t{0xB4, 0x97},\n\t{0xB5, 0xFF},\n\t{0xB0, 0xC5},\n\t{0xB1, 0x94},\n\t{0xB2, 0x0F},\n\t{0xC4, 0x5C},\n\t{0xA6, 0x00},\n\t{0xA7, 0x20},\n\t{0xA7, 0xD8},\n\t{0xA7, 0x1B},\n\t{0xA7, 0x31},\n\t{0xA7, 0x00},\n\t{0xA7, 0x18},\n\t{0xA7, 0x20},\n\t{0xA7, 0xD8},\n\t{0xA7, 0x19},\n\t{0xA7, 0x31},\n\t{0xA7, 0x00},\n\t{0xA7, 0x18},\n\t{0xA7, 0x20},\n\t{0xA7, 0xD8},\n\t{0xA7, 0x19},\n\t{0xA7, 0x31},\n\t{0xA7, 0x00},\n\t{0xA7, 0x18},\n\t{0x7F, 0x00},\n\t{0xE5, 0x1F},\n\t{0xE1, 0x77},\n\t{0xDD, 0x7F},\n\t{0xC2, 0x0E},\n\n\t{0x00, 0x00}\n};\n\nstatic const uint8_t svga_regs[][2] = {\n\t{0xFF, 0x01},\n\t{0x12, 0x40},\n\t{0x03, 0x0F},\n\t{0x32, 0x09},\n\t{0x17, 0x11},\n\t{0x18, 0x43},\n\t{0x19, 0x00},\n\t{0x1A, 0x4B},\n\t{0x3D, 0x38},\n\t{0x35, 0xDA},\n\t{0x22, 0x1A},\n\t{0x37, 0xC3},\n\t{0x34, 0xC0},\n\t{0x06, 0x88},\n\t{0x0D, 0x87},\n\t{0x0E, 0x41},\n\t{0x42, 0x03},\n\n\t{0xFF, 0x00},\n\t{0x05, 0x01},\n\t{0xE0, 0x04},\n\t{0xC0, 0x64},\n\t{0xC1, 0x4B},\n\t{0x8C, 0x00},\n\t{0x53, 0x00},\n\t{0x54, 0x00},\n\t{0x51, 0xC8},\n\t{0x52, 0x96},\n\t{0x55, 0x00},\n\t{0x57, 0x00},\n\t{0x86, 0x3D},\n\t{0x50, 0x80},\n\t{0xD3, 0x80},\n\t{0x05, 0x00},\n\t{0xE0, 0x00},\n\n\t{0x00, 0x00}\n};\n\nstatic const uint8_t jpeg_regs[][2] = {\n\t{0xFF, 0x00},\n\t{0xE0, 0x04},\n\t{0xDA, 0x18},\n\t{0xD7, 0x03},\n\t{0xE1, 0x77},\n\t{0x44, 0x0C},\n\t{0xE0, 0x00},\n\n\t{0x00, 0x00}\n};\n\nstatic const uint8_t framesize_low_regs[][2] = {\n\t{0xFF, 0x00},\n\t{0x05, 0x01},\n\t{0x5A, 0xA0},\n\t{0x5B, 0x78},\n\t{0x5C, 0x00},\n\n\t{0xFF, 0x01},\n\t{0x11, 0x83},\n\n\t{0x00, 0x00}\n};\n\nstatic const uint8_t framesize_high_regs[][2] = {\n\t{0xFF, 0x00},\n\t{0x05, 0x00},\n\n\t{0x00, 0x00}\n};\n\nstatic const uint8_t quality_regs[][2] = {\n\t{0xFF, 0x00},\n\t{0x44, 0x0F},\n\n\t{0x00, 0x00}\n};\n\nesp_err_t read_camera_config(uint8_t reg, uint8_t* data){\n\n\ti2c_cmd_handle_t cmd = i2c_cmd_link_create();\n\ti2c_master_start(cmd);\n\ti2c_master_write_byte(cmd, CAMERA_SLAVE_ADDRESS_WRITE, ACK_CHECK_EN);\n\ti2c_master_write_byte(cmd, reg, ACK_CHECK_EN);\n\ti2c_master_stop(cmd);\n\tesp_err_t err = i2c_master_cmd_begin(I2C_CAMERA_NUM, cmd, 10 / portTICK_RATE_MS);\n\ti2c_cmd_link_delete(cmd);\n\n\tif(err != ESP_OK){\n\t\treturn err;\n\t}\n\n\tcmd = i2c_cmd_link_create();\n\ti2c_master_start(cmd);\n\ti2c_master_write_byte(cmd, CAMERA_SLAVE_ADDRESS_READ, ACK_CHECK_EN);\n\ti2c_master_read_byte(cmd, data, NACK_VAL);\n\ti2c_master_stop(cmd);\n\terr = i2c_master_cmd_begin(I2C_CAMERA_NUM, cmd, 10 / portTICK_RATE_MS);\n\ti2c_cmd_link_delete(cmd);\n\n\tif(err != ESP_OK){\n\t\treturn err;\n\t}\n\n    return ESP_OK;\n}\n\nesp_err_t write_camera_config(uint8_t reg, uint8_t data){\n\n\ti2c_cmd_handle_t cmd = i2c_cmd_link_create();\n\ti2c_master_start(cmd);\n\ti2c_master_write_byte(cmd, CAMERA_SLAVE_ADDRESS_WRITE, ACK_CHECK_EN);\n\ti2c_master_write_byte(cmd, reg, ACK_CHECK_EN);\n\ti2c_master_write_byte(cmd, data, ACK_CHECK_EN);\n\ti2c_master_stop(cmd);\n\tesp_err_t err = i2c_master_cmd_begin(I2C_CAMERA_NUM, cmd, 10 / portTICK_RATE_MS);\n\ti2c_cmd_link_delete(cmd);\n\n\tif(err != ESP_OK){\n\t\treturn err;\n\t}\n\n    return ESP_OK;\n}\n\nstatic esp_err_t event_handler(void *ctx, system_event_t *event){\n\n    switch(event-\u003eevent_id){\n        case SYSTEM_EVENT_STA_START:\n            esp_wifi_connect();\n            break;\n        case SYSTEM_EVENT_STA_GOT_IP:\n            xEventGroupSetBits(s_wifi_event_group, CONNECTED_BIT);\n            s_ip_addr = event-\u003eevent_info.got_ip.ip_info.ip;\n            break;\n        case SYSTEM_EVENT_STA_DISCONNECTED:\n            esp_wifi_connect();\n            xEventGroupClearBits(s_wifi_event_group, CONNECTED_BIT);\n            break;\n        default:\n            break;\n    }\n    return ESP_OK;\n}\n\nstatic void initialise_wifi(void){\n\n    tcpip_adapter_init();\n    s_wifi_event_group = xEventGroupCreate();\n    esp_event_loop_init(event_handler, NULL);\n    wifi_init_config_t cfg = WIFI_INIT_CONFIG_DEFAULT();\n    esp_wifi_init(\u0026cfg);\n    esp_wifi_set_storage(WIFI_STORAGE_RAM);\n    wifi_config_t wifi_config = {\n        .sta = {\n            .ssid = WIFI_SSID,\n            .password = WIFI_PASSWORD,\n        },\n    };\n    esp_wifi_set_mode(WIFI_MODE_STA);\n    esp_wifi_set_config(WIFI_IF_STA, \u0026wifi_config);\n    esp_wifi_start();\n    esp_wifi_set_ps(WIFI_PS_NONE);\n    ESP_LOGI(TAG, \"Connecting to \\\"%s\\\"\", wifi_config.sta.ssid);\n    xEventGroupWaitBits(s_wifi_event_group, CONNECTED_BIT, false, true, portMAX_DELAY);\n    ESP_LOGI(TAG, \"Connected\");\n}\n\nesp_err_t init_camera_clock(camera_config_t* config){\n\n\tperiph_module_enable(PERIPH_LEDC_MODULE);\n\n\tledc_timer_config_t timer_conf = {\n        .duty_resolution = 1,\n        .freq_hz = config-\u003exclk_freq_hz,\n        .speed_mode = LEDC_HIGH_SPEED_MODE,\n        .timer_num = config-\u003eledc_timer\n\t};\n\tesp_err_t err = ledc_timer_config(\u0026timer_conf);\n\tif(err != ESP_OK){\n\t\tESP_LOGE(TAG, \"ledc_timer_config failed, err=%d\", err);\n\t\treturn err;\n\t}\n\n\tledc_channel_config_t ch_conf = {\n        .channel = config-\u003eledc_channel,\n        .timer_sel = config-\u003eledc_timer,\n        .intr_type = LEDC_INTR_DISABLE,\n        .duty = 1,\n        .speed_mode = LEDC_HIGH_SPEED_MODE,\n        .gpio_num = config-\u003epin_xclk\n\t};\n\terr = ledc_channel_config(\u0026ch_conf);\n\tif(err != ESP_OK){\n\t\tESP_LOGE(TAG, \"ledc_channel_config failed, err=%d\", err);\n\t\treturn err;\n\t}\n\n\treturn ESP_OK;\n}\n\nvoid init_i2c(camera_config_t* config){\n\tint i2c_master_port = I2C_NUM_0;\n\ti2c_config_t conf;\n\tconf.mode = I2C_MODE_MASTER;\n\tconf.sda_io_num = config-\u003epin_sscb_sda;\n\tconf.sda_pullup_en = GPIO_PULLUP_ENABLE;\n\tconf.scl_io_num = config-\u003epin_sscb_scl;\n\tconf.scl_pullup_en = GPIO_PULLUP_ENABLE;\n\tconf.master.clk_speed = I2C_CAMERA_FREQ_HZ;\n\ti2c_param_config(i2c_master_port, \u0026conf);\n\ti2c_driver_install(i2c_master_port, conf.mode, I2C_CAMERA_RX_BUF_DISABLE, I2C_CAMERA_TX_BUF_DISABLE, 0);\n}\n\nesp_err_t _http_event_handle(esp_http_client_event_t *evt){\n    switch(evt-\u003eevent_id){\n        case HTTP_EVENT_ERROR:\n            ESP_LOGI(TAG, \"HTTP_EVENT_ERROR\");\n            break;\n        case HTTP_EVENT_ON_CONNECTED:\n            ESP_LOGI(TAG, \"HTTP_EVENT_ON_CONNECTED\");\n            break;\n        case HTTP_EVENT_HEADER_SENT:\n            ESP_LOGI(TAG, \"HTTP_EVENT_HEADER_SENT\");\n            break;\n        case HTTP_EVENT_ON_HEADER:\n            ESP_LOGI(TAG, \"HTTP_EVENT_ON_HEADER\");\n            printf(\"%.*s\", evt-\u003edata_len, (char*)evt-\u003edata);\n            break;\n        case HTTP_EVENT_ON_DATA:\n            ESP_LOGI(TAG, \"HTTP_EVENT_ON_DATA, len=%d\", evt-\u003edata_len);\n            if( ! esp_http_client_is_chunked_response(evt-\u003eclient)){\n                printf(\"%.*s\", evt-\u003edata_len, (char*)evt-\u003edata);\n            }\n            break;\n        case HTTP_EVENT_ON_FINISH:\n            ESP_LOGI(TAG, \"HTTP_EVENT_ON_FINISH\");\n            break;\n        case HTTP_EVENT_DISCONNECTED:\n            ESP_LOGI(TAG, \"HTTP_EVENT_DISCONNECTED\");\n            break;\n    }\n    return ESP_OK;\n}\n\nstatic void http_post_task(){\n\n\tesp_http_client_config_t http_config = {\n\t\t.url = AWS_ENDPOINT,\n\t\t.event_handler = _http_event_handle,\n\t\t.method = HTTP_METHOD_POST,\n\t};\n\n\tunsigned char image0[15000];\n\tchar image[15000];\n\tsize_t olen;\n\n\tmbedtls_base64_encode(image0, sizeof(image0), \u0026olen, camera_get_fb(), camera_get_data_size());\n\tsprintf(image, \"{\\\"image\\\":\\\"%s\\\"}\", image0);\n\tconst char *post_data = (const char*)image;\n\n\tesp_http_client_handle_t client = esp_http_client_init(\u0026http_config);\n\tesp_http_client_set_post_field(client, post_data, strlen(post_data));\n\tesp_http_client_set_header(client, \"x-api-key\", AWS_API_KEY);\n\tesp_http_client_set_header(client, \"Content-Type\", \"application/json\");\n\n\tesp_err_t err = esp_http_client_perform(client);\n\tif(err == ESP_OK){\n\t   ESP_LOGI(TAG, \"Status = %d, content_length = %d\", esp_http_client_get_status_code(client), esp_http_client_get_content_length(client));\n\t}\n\tesp_http_client_cleanup(client);\n\n\twhile(1);\n}\n\nvoid app_main(){\n\n\tesp_log_level_set(\"*\", ESP_LOG_VERBOSE);\n\n    esp_err_t err = nvs_flash_init();\n    if(err != ESP_OK){\n        nvs_flash_erase();\n        nvs_flash_init();\n    }\n\n    gpio_install_isr_service(0);\n\n    camera_config_t camera_config = {\n\t\t.ledc_channel = LEDC_CHANNEL_0,\n\t\t.ledc_timer = LEDC_TIMER_0,\n\t\t.pin_d0 = PIN_D0,\n\t\t.pin_d1 = PIN_D1,\n\t\t.pin_d2 = PIN_D2,\n\t\t.pin_d3 = PIN_D3,\n\t\t.pin_d4 = PIN_D4,\n\t\t.pin_d5 = PIN_D5,\n\t\t.pin_d6 = PIN_D6,\n\t\t.pin_d7 = PIN_D7,\n\t\t.pin_xclk = PIN_XCLK,\n\t\t.pin_pclk = PIN_PCLK,\n\t\t.pin_vsync = PIN_VSYNC,\n\t\t.pin_href = PIN_HREF,\n\t\t.pin_sscb_sda = PIN_SDA,\n\t\t.pin_sscb_scl = PIN_SCL,\n\t\t.pin_reset = PIN_RESET,\n\n\t\t.xclk_freq_hz = 6000000,\n\t\t.width = 640,\n\t\t.height = 480,\n    };\n\n\tESP_LOGE(TAG, \"xclk_freq_hz=%d[Hz]\", camera_config.xclk_freq_hz);\n\n\t//GPIO設定\n\tgpio_config_t io_conf;\n\tio_conf.intr_type = GPIO_PIN_INTR_DISABLE;\n\tio_conf.mode = GPIO_MODE_OUTPUT;\n\tio_conf.pin_bit_mask = GPIO_OUTPUT_PIN_SEL;\n\tio_conf.pull_down_en = 0;\n\tio_conf.pull_up_en = 0;\n\tgpio_config(\u0026io_conf);\n\n\t//CAMERA クロック出力\n\tinit_camera_clock(\u0026camera_config);\n\n\t//I2C 初期化\n\tinit_i2c(\u0026camera_config);\n\n\t//CAMERA リセット\n\tgpio_set_level(PIN_RESET, 0);\n\tvTaskDelay(10 / portTICK_RATE_MS);\n\tgpio_set_level(PIN_RESET, 1);\n\tvTaskDelay(10 / portTICK_RATE_MS);\n\n\t//CAMERA OV2640確認\n\tuint8_t camera_pid_h;\n\tread_camera_config(0x0A, \u0026camera_pid_h);\n\tESP_LOGI(TAG, \"camera_pid_h=0x%02X\", camera_pid_h);\n    if(camera_pid_h != 0x26){\n        ESP_LOGE(TAG, \"failed, camera_pid_h=%02X\", camera_pid_h);\n        return;\n    }\n\n\t//CAMERA システムリセット\n\twrite_camera_config(0xFF, 0x01);\n\twrite_camera_config(0x12, 0x80);\n\tvTaskDelay(10 / portTICK_RATE_MS);\n\n\t//CAMERA 設定書き込み\n    int i = 0;\n    while(default_regs[i][0]){\n\t\twrite_camera_config(default_regs[i][0], default_regs[i][1]);\n        i++;\n    }\n\ti = 0;\n    while(jpeg_regs[i][0]){\n\t\twrite_camera_config(jpeg_regs[i][0], jpeg_regs[i][1]);\n        i++;\n    }\n\ti = 0;\n    while(framesize_low_regs[i][0]){\n\t\twrite_camera_config(framesize_low_regs[i][0], framesize_low_regs[i][1]);\n        i++;\n    }\n\ti = 0;\n    while(svga_regs[i][0]){\n\t\twrite_camera_config(svga_regs[i][0], svga_regs[i][1]);\n        i++;\n    }\n\ti = 0;\n    while(framesize_high_regs[i][0]){\n\t\twrite_camera_config(framesize_high_regs[i][0], framesize_high_regs[i][1]);\n        i++;\n    }\n\ti = 0;\n    while(quality_regs[i][0]){\n\t\twrite_camera_config(quality_regs[i][0], quality_regs[i][1]);\n        i++;\n    }\n\n\t//CAMERA その他設定\n    err = camera_init(\u0026camera_config);\n    if(err != ESP_OK){\n        ESP_LOGE(TAG, \"Camera init failed with error 0x%x\", err);\n        return;\n    }\n\n\t//CAMERA wifi設定\n    initialise_wifi();\n\n\t//写真撮影\n    err = camera_run();\n    if(err != ESP_OK){\n        ESP_LOGD(TAG, \"Camera capture failed with error = %d\", err);\n        return;\n    }\n\n\txTaskCreate(\u0026http_post_task, \"http_post_task\", 50000, NULL, 5, NULL);\n\n\tvTaskDelay(10000 / portTICK_RATE_MS);\n}\n```\n\n#実行\nESP32を実行すると、S3に撮影した画像が保存されます。\n\n#参考まとめ\nゼロから作りながら覚えるAPI Gateway環境構築\nhttps://dev.classmethod.jp/cloud/aws/getting-start-api-gateway/\n\nlambda (トリガー：APIGateway)\nhttps://blog.apar.jp/web/10804/\n\nS3のロールを作成\nhttps://docs.aws.amazon.com/ja_jp/lambda/latest/dg/with-s3-example.html\n\nAPIGateway + Lambdaでbase64変換された画像ファイルをS3に保存する\nhttps://qiita.com/yumakkt/items/1a62d279e81d9f6d0c63\n\n[Python]Base64でエンコードされた画像データをデコードする。\nhttps://qiita.com/TsubasaSato/items/908d4f5c241091ecbf9b\n\nM5Cameraから画像をPOSTする\nhttps://qiita.com/dinosauria123/items/149535349d98f51bd876\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:35:03+09:00","group":null,"id":"4ed9e6347722eb3c2703","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Python","versions":[]},{"name":"C","versions":[]},{"name":"S3","versions":[]},{"name":"lambda","versions":[]},{"name":"APIGateway","versions":[]}],"title":"ESP32-WROOM-32で撮影した画像をAWS(API Gateway→Lambda→S3)へ送信 ","updated_at":"2019-07-09T20:37:21+09:00","url":"https://qiita.com/koki-iwaizumi/items/4ed9e6347722eb3c2703","user":{"description":"golangとphpを主に使っているフリーランスエンジニアです。自分でサービスを作ってたりもします。\r\n\r\nhttps://jinto.cloud/\r\nhttps://saibaru.cloud/","facebook_id":"","followees_count":4,"followers_count":1,"github_login_name":"koki-iwaizumi","id":"koki-iwaizumi","items_count":5,"linkedin_id":"","location":"茨城県つくば市","name":"kouki iwaizumi","organization":"フリーランスエンジニア","permanent_id":426480,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/426480/profile-images/1559109703","team_only":false,"twitter_screen_name":null,"website_url":"http://cloudhard.jp/"},"page_views_count":null},{"rendered_body":"\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/9a8d543e8640f88a97310eb40e38f8125f031801/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f37333139372f34643564303936362d303837352d366365362d393431622d6436383162393961303636362e676966\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/9a8d543e8640f88a97310eb40e38f8125f031801/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f37333139372f34643564303936362d303837352d366365362d393431622d6436383162393961303636362e676966\" alt=\"1hz9g-wru3l.gif\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/73197/4d5d0966-0875-6ce6-941b-d681b99a0666.gif\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\n\u003cp\u003eオープンソースのGISにはQGISというド定番・大正義が存在しますが、インストールの手間、投影法など、若干敷居が高いです（初心者にとって）。ウェブ上で公開されている多数のオープンGISデータ（国土数値情報など）の内容をすぐに確認出来る、シンプルなWebGISがあれば便利なんじゃないかと思い開発したのがVanillaGISです。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"vanillagis\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#vanillagis\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eVanillaGIS\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"https://vanilla-gis.herokuapp.com/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eVanilla GIS\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://github.com/Kanahiro/vanilla-gis\" rel=\"nofollow noopener\" target=\"_blank\"\u003eGitHub - Kanahiro/vanilla-gis\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"使用例北海道のバス鉄道路線図\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%BF%E7%94%A8%E4%BE%8B%E5%8C%97%E6%B5%B7%E9%81%93%E3%81%AE%E3%83%90%E3%82%B9%E9%89%84%E9%81%93%E8%B7%AF%E7%B7%9A%E5%9B%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e使用例（北海道のバス・鉄道路線図）\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/4414c54cfcc53343adfc73a332e344250a55e087/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f37333139372f66366531306435642d306136342d326637342d393061332d3265613934356164636534652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/4414c54cfcc53343adfc73a332e344250a55e087/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f37333139372f66366531306435642d306136342d326637342d393061332d3265613934356164636534652e706e67\" alt=\"スクリーンショット 2019-06-23 16.52.56.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/73197/f6e10d5d-0a64-2f74-90a3-2ea945adce4e.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"技術概要\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%8A%80%E8%A1%93%E6%A6%82%E8%A6%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e技術概要\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"主な使用ライブラリ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%B8%BB%E3%81%AA%E4%BD%BF%E7%94%A8%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e主な使用ライブラリ\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003eLeaflet(JavaScript)\u003c/li\u003e\n\u003cli\u003eFlask(Python)\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"フロントエンド\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eフロントエンド\u003c/h3\u003e\n\n\u003cp\u003eLeafletと以下の外部プラグインを使用しています。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eLeaflet.Control.Custom\u003c/li\u003e\n\u003cli\u003eLeaflet.Control.Draw\u003c/li\u003e\n\u003cli\u003eLeaflet.Control.Appearance（自作プラグイン）\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"バックエンド\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%90%E3%83%83%E3%82%AF%E3%82%A8%E3%83%B3%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eバックエンド\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003eFlask\u003c/li\u003e\n\u003cli\u003eSQLite\u003c/li\u003e\n\u003cli\u003eSQLAlchemy\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"技術詳細\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%8A%80%E8%A1%93%E8%A9%B3%E7%B4%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e技術詳細\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"バックエンドflask\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%90%E3%83%83%E3%82%AF%E3%82%A8%E3%83%B3%E3%83%89flask\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eバックエンド（Flask）\u003c/h3\u003e\n\n\u003cp\u003e前提としてRESTful APIを意識し、URLはリソースを参照する形式になっています。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"ルート\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AB%E3%83%BC%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e/（ルート）\u003c/h4\u003e\n\n\u003cul\u003e\n\u003cli\u003eGET\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e地図画面の表示。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003ePOST\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e外部ファイル（.zip（シェープファイル）, .geojson）を投げるとjsonデータを返します。\u003cbr\u003e\n.zipファイルの中身はシェープファイル（.shp, .shx, dbf）である必要があります。\u003cbr\u003e\npyshpモジュールを利用し、内部的にjsonに変換しています（LeafletはGeoJSONを読み込めるため）。\u003cbr\u003e\nオープンデータで提供されるシェープファイルの多くはShift-JISエンコーディングですが、UTF-8やその他のエンコードである場合も踏まえ、通常利用されるすべてのエンコードに対応させています。Pythonでデコードする際、エンコードが相違しているとUnicode Errorが発生します。事前に主要なエンコードをリストにしておき、デコードでエラーが発生しなくなるまで各エンコードを順番にトライします（以下の記事で紹介しています）。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita.com/kigchi999/items/816611dc7ceccbd11d05\" id=\"reference-a31b153e4ba10ea9a3c0\"\u003eシェープファイルをGeoJSON形式に変換する - Qiita\u003c/a\u003e\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"user_map\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#user_map\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e/user_map/\u003c/h4\u003e\n\n\u003cul\u003e\n\u003cli\u003eGET \u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eユーザーが作成し保存したカスタムマップの、レイヤーデータ以外を返します。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003ePUT\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eユーザーが作成し保存したカスタムマップの、レイヤーデータを返します。\u003cbr\u003e\nGETで返すと、レイヤーデータが読み込むまでページ全体の読み込みが完了しないため、GETとはレスポンスを分離しています。Fetchにより非同期でレスポンスを取得します。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003ePOST\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eユーザーが作成したカスタムマップをDBに保存します（公開されているアプリでは実装していません）。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"export\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#export\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e/export\u003c/h4\u003e\n\n\u003cp\u003eこれだけnot RESTfulです。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003ePOST\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eユーザーが作成し保存したレイヤーを投げるとjsonデータが返ってきます。\u003cbr\u003e\nフロントでは、返ってきたデータを.geojsonとしてダウンロードさせます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita.com/kigchi999/items/ae89393fa649d0b1acd8\" id=\"reference-352ed9d206b73c14c209\"\u003eFlaskとJavaScriptのFetch通信でダウンロードさせる方法 - Qiita\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"フロントエンド-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eフロントエンド\u003c/h3\u003e\n\n\u003cp\u003eシングルページアプリケーションで、常にindex.htmlが表示されます。\u003cbr\u003e\n/user_map/では、index.htmlにDBから取得したデータを渡しています。\u003cbr\u003e\nLeafletと外部プラグイン（各種Control）を組み合わせる事でGUIを実装しています。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"使用しているcontrol\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%BF%E7%94%A8%E3%81%97%E3%81%A6%E3%81%84%E3%82%8Bcontrol\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e使用しているControl\u003c/h4\u003e\n\n\u003cul\u003e\n\u003cli\u003eL.control.scale\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e純正プラグイン。地図の縮尺を表示。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eL.control.custom\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e外部プラグイン。htmlを記述する事でかなり自由にGUIを作成可能。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eL.control.draw\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e外部プラグイン。手書き図形の作図機能。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eL.control.Appearance\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e自作プラグイン。純正のL.control.layerと、外部プラグインのL.control.Opacityを参考に作成。\u003cbr\u003e\nベースマップ切り替え、オーバーレイのオンオフ、レイヤーごとの透過度設定、オーバーレイごとの色設定、オーバーレイの削除。\u003cbr\u003e\n各レイヤーをひとつのプラグインで管理したくて作成（Chromeで動作確認済み）。\u003cbr\u003e\n※レイヤーのプロパティにcolorを設定しないと、色設定機能は動作しないなど、まだ未完成です。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://github.com/Kanahiro/Leaflet.Control.Appearance\" rel=\"nofollow noopener\" target=\"_blank\"\u003eGitHub - Kanahiro/Leaflet.Control.Appearance\u003c/a\u003e\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"外部ファイル読み込み\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%A4%96%E9%83%A8%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e外部ファイル読み込み\u003c/h4\u003e\n\n\u003cp\u003eウィンドウにドラッグドロップする事で、ファイルを読み込みます。\u003cbr\u003e\n対応している形式は.zip（.shp, .shx, .dbfのアーカイブ）か.geojsonです。\u003cbr\u003e\nすべてFetchでサーバーに投げて、返ってきた.jsonをLeafletマップに追加します。\u003c/p\u003e\n","body":"\n![1hz9g-wru3l.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/73197/4d5d0966-0875-6ce6-941b-d681b99a0666.gif)\n\n## はじめに\nオープンソースのGISにはQGISというド定番・大正義が存在しますが、インストールの手間、投影法など、若干敷居が高いです（初心者にとって）。ウェブ上で公開されている多数のオープンGISデータ（国土数値情報など）の内容をすぐに確認出来る、シンプルなWebGISがあれば便利なんじゃないかと思い開発したのがVanillaGISです。\n\n## VanillaGIS\n[Vanilla GIS](https://vanilla-gis.herokuapp.com/)\n[GitHub - Kanahiro/vanilla-gis](https://github.com/Kanahiro/vanilla-gis)\n\n##使用例（北海道のバス・鉄道路線図）\n![スクリーンショット 2019-06-23 16.52.56.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/73197/f6e10d5d-0a64-2f74-90a3-2ea945adce4e.png)\n\n\n## 技術概要\n###主な使用ライブラリ\n\n\n- Leaflet(JavaScript)\n- Flask(Python)\n\n###フロントエンド\nLeafletと以下の外部プラグインを使用しています。\n\n- Leaflet.Control.Custom\n- Leaflet.Control.Draw\n- Leaflet.Control.Appearance（自作プラグイン）\n\n###バックエンド\n- Flask\n- SQLite\n- SQLAlchemy\n\n##技術詳細\n###バックエンド（Flask）\n前提としてRESTful APIを意識し、URLはリソースを参照する形式になっています。\n\n#### /（ルート）\n- GET\n\n地図画面の表示。\n\n- POST\n\n外部ファイル（.zip（シェープファイル）, .geojson）を投げるとjsonデータを返します。\n.zipファイルの中身はシェープファイル（.shp, .shx, dbf）である必要があります。\npyshpモジュールを利用し、内部的にjsonに変換しています（LeafletはGeoJSONを読み込めるため）。\nオープンデータで提供されるシェープファイルの多くはShift-JISエンコーディングですが、UTF-8やその他のエンコードである場合も踏まえ、通常利用されるすべてのエンコードに対応させています。Pythonでデコードする際、エンコードが相違しているとUnicode Errorが発生します。事前に主要なエンコードをリストにしておき、デコードでエラーが発生しなくなるまで各エンコードを順番にトライします（以下の記事で紹介しています）。\n\n\n[シェープファイルをGeoJSON形式に変換する - Qiita](https://qiita.com/kigchi999/items/816611dc7ceccbd11d05)\n\n\n#### /user_map/\u003cmap_id\u003e\n\n- GET \n\nユーザーが作成し保存したカスタムマップの、レイヤーデータ以外を返します。\n\n- PUT\n\nユーザーが作成し保存したカスタムマップの、レイヤーデータを返します。\nGETで返すと、レイヤーデータが読み込むまでページ全体の読み込みが完了しないため、GETとはレスポンスを分離しています。Fetchにより非同期でレスポンスを取得します。\n\n- POST\n\nユーザーが作成したカスタムマップをDBに保存します（公開されているアプリでは実装していません）。\n\n#### /export\nこれだけnot RESTfulです。\n\n- POST\n\nユーザーが作成し保存したレイヤーを投げるとjsonデータが返ってきます。\nフロントでは、返ってきたデータを.geojsonとしてダウンロードさせます。\n\n[FlaskとJavaScriptのFetch通信でダウンロードさせる方法 - Qiita](https://qiita.com/kigchi999/items/ae89393fa649d0b1acd8)\n\n### フロントエンド\nシングルページアプリケーションで、常にindex.htmlが表示されます。\n/user_map/\u003cmap_id\u003eでは、index.htmlにDBから取得したデータを渡しています。\nLeafletと外部プラグイン（各種Control）を組み合わせる事でGUIを実装しています。\n\n####使用しているControl\n\n- L.control.scale\n\n純正プラグイン。地図の縮尺を表示。\n\n- L.control.custom\n\n外部プラグイン。htmlを記述する事でかなり自由にGUIを作成可能。\n\n- L.control.draw\n\n外部プラグイン。手書き図形の作図機能。\n\n- L.control.Appearance\n\n自作プラグイン。純正のL.control.layerと、外部プラグインのL.control.Opacityを参考に作成。\nベースマップ切り替え、オーバーレイのオンオフ、レイヤーごとの透過度設定、オーバーレイごとの色設定、オーバーレイの削除。\n各レイヤーをひとつのプラグインで管理したくて作成（Chromeで動作確認済み）。\n※レイヤーのプロパティにcolorを設定しないと、色設定機能は動作しないなど、まだ未完成です。\n\n\n[GitHub - Kanahiro/Leaflet.Control.Appearance](https://github.com/Kanahiro/Leaflet.Control.Appearance)\n\n\n\n####外部ファイル読み込み\nウィンドウにドラッグドロップする事で、ファイルを読み込みます。\n対応している形式は.zip（.shp, .shx, .dbfのアーカイブ）か.geojsonです。\nすべてFetchでサーバーに投げて、返ってきた.jsonをLeafletマップに追加します。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:33:01+09:00","group":null,"id":"1e6647e7317626c2436e","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"Python","versions":[]},{"name":"JavaScript","versions":[]},{"name":"Flask","versions":[]},{"name":"leaflet","versions":[]},{"name":"GIS","versions":[]}],"title":"LeafletとFlaskでシンプルなWebGISをつくった話","updated_at":"2019-07-09T20:33:25+09:00","url":"https://qiita.com/kigchi999/items/1e6647e7317626c2436e","user":{"description":"個人で色々開発しています。業務経験ゼロです。","facebook_id":"","followees_count":0,"followers_count":2,"github_login_name":null,"id":"kigchi999","items_count":12,"linkedin_id":"","location":"hokkaido","name":"Iguchi Kanahiro","organization":"","permanent_id":73197,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/73197/profile-images/1557331957","team_only":false,"twitter_screen_name":"kigchi999","website_url":"https://www.labo288.site"},"page_views_count":null},{"rendered_body":"\u003cp\u003eWilliams vs Riske\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"go-live--httptinyccb1cg9y\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#go-live--httptinyccb1cg9y\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGO LIVE \u0026gt;\u0026gt; \u003ca href=\"http://tiny.cc/b1cg9y\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://tiny.cc/b1cg9y\u003c/a\u003e\n\u003c/h1\u003e\n","body":"Williams vs Riske\n#GO LIVE \u003e\u003e http://tiny.cc/b1cg9y\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:30:55+09:00","group":null,"id":"25a5d3f373bd8082566c","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"vs","versions":[]},{"name":"Williams","versions":[]},{"name":"Riske","versions":[]}],"title":"Streams!Williams vs Riske live stream/Reddit","updated_at":"2019-07-09T20:30:55+09:00","url":"https://qiita.com/India-vs-New-Zealand-Live/items/25a5d3f373bd8082566c","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"India-vs-New-Zealand-Live","items_count":2,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":457783,"profile_image_url":"https://secure.gravatar.com/avatar/46242f5dc2f90596a40f25299b00bba7","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"基礎知識箇条書き\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%9F%BA%E7%A4%8E%E7%9F%A5%E8%AD%98%E7%AE%87%E6%9D%A1%E6%9B%B8%E3%81%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e基礎知識箇条書き\u003c/h1\u003e\n\n\u003cp\u003e詳しくは\u003ca href=\"http://note.crohaco.net/2018/django-migration/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eこちら\u003c/a\u003e参照\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"djangoとmysqlの連携\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#django%E3%81%A8mysql%E3%81%AE%E9%80%A3%E6%90%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDjangoとMySQLの連携\u003c/h2\u003e\n\n\u003cp\u003e最低限の連携手順\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"django\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#django\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDjango\u003c/h3\u003e\n\n\u003cp\u003eDB接続設定\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esettings.py\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"n\"\u003eDATABASES\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"s\"\u003e'default'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"s\"\u003e'ENGINE'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e'django.db.backends.mysql'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"s\"\u003e'NAME'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e''\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"c\"\u003e# 接続先DB\u003c/span\u003e\n        \u003cspan class=\"s\"\u003e'USER'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e''\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"s\"\u003e'PASSWORD'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e''\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"s\"\u003e'HOST'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e''\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"mysql\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#mysql\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eMySQL\u003c/h3\u003e\n\n\u003cp\u003eversion.8\u003cbr\u003e\n1. 接続用ユーザー作成\u003cbr\u003e\nどこからでもアクセス可能。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003ecreate user 'user' identified by 'user';\ngrant all privileges on django.* to 'user';\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"マイグレーションclass\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%9E%E3%82%A4%E3%82%B0%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3class\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eマイグレーションClass\u003c/h2\u003e\n\n\u003cp\u003eマイグレーションファイルにはMigrationClassが必要\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003einitial 最初のマイグレーション指定\u003c/li\u003e\n\u003cli\u003ereplaces 置き換え対象マイグレーションを指定\u003c/li\u003e\n\u003cli\u003edependencies 依存マイグレーション指定\u003c/li\u003e\n\u003cli\u003eatomic ロールバック指定\u003c/li\u003e\n\u003cli\u003eoperations 操作方法指定\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"履歴\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%B1%A5%E6%AD%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e履歴\u003c/h2\u003e\n\n\u003cp\u003edjango_migrationsテーブルで管理されている。\u003cbr\u003e\n適用の可否は、このテーブルの状態で判断されている。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"依存関係\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BE%9D%E5%AD%98%E9%96%A2%E4%BF%82\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e依存関係\u003c/h2\u003e\n\n\u003cp\u003e適用順序を守るのは絶対。\u003cbr\u003e\nシーケンスは必ずしも適用順ではない。\u003cbr\u003e\n依存パターンは、以下ふたつ\u003cbr\u003e\n- アプリの依存\u003cbr\u003e\n- 外部アプリ依存\u003cbr\u003e\n依存先が欠けていると、正しく動作しない。\u003cbr\u003e\n常にマイグレーションを使用する事が必須条件。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"適用方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%81%A9%E7%94%A8%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e適用方法\u003c/h2\u003e\n\n\u003cp\u003e順序としては２つ。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e照準適用\u003c/li\u003e\n\u003cli\u003e降順適用\n\n\u003cul\u003e\n\u003cli\u003eOperationに操作方法が定義されている必要がある\u003c/li\u003e\n\u003cli\u003e緊急処置で使用するべき方法であり、常用してはいけない\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"使い方\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%BF%E3%81%84%E6%96%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e使い方\u003c/h1\u003e\n\n\u003cp\u003eコマンド\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"マイグレーションファイル作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%9E%E3%82%A4%E3%82%B0%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eマイグレーションファイル作成\u003c/h2\u003e\n\n\u003cp\u003e\u003cem\u003emakemigration\u003c/em\u003e\u003c/p\u003e\n\n\u003cp\u003e自動生成時は、既存マイグレーションとモデルの構造の差分で、マイグレーションが生成される。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eapp_label引数でアプリ名を指定\u003c/li\u003e\n\u003cli\u003eアプリ名省略時には、INSTALLED_APPS に登録されているアプリの差分に対して作成される\n\n\u003cul\u003e\n\u003cli\u003e初回でアプリ名を指定しないとマイグレーションが作られない\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"マイグレーションファイル適用\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%9E%E3%82%A4%E3%82%B0%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E9%81%A9%E7%94%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eマイグレーションファイル適用\u003c/h2\u003e\n\n\u003cp\u003e\u003cem\u003emigrate\u003c/em\u003e\u003c/p\u003e\n\n\u003cp\u003e引数はapp_labelと、migration_nameがあるが、省略可能\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e省略時は未適用マイグレーションが全て適用される\u003c/li\u003e\n\u003cli\u003eapp_labelのみ指定時は、アプリ内のマイグレーションのみ適用\u003c/li\u003e\n\u003cli\u003eapp_label、migration_name指定時は、アプリのマイグレーションまで適用される\n\n\u003cul\u003e\n\u003cli\u003e指定マイグレーションによって適用順が変わってしまうので注意\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e擬似的にマイグレーション適用済みにするオプションがある\n\n\u003cul\u003e\n\u003cli\u003e移行用オプションとしての利用\u003c/li\u003e\n\u003cli\u003e扱いには注意する。テーブルが正しく作成されない場合がある。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"適用未適用状態の表示\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%81%A9%E7%94%A8%E6%9C%AA%E9%81%A9%E7%94%A8%E7%8A%B6%E6%85%8B%E3%81%AE%E8%A1%A8%E7%A4%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e適用、未適用状態の表示\u003c/h2\u003e\n\n\u003cp\u003e\u003cem\u003eshowmigrations\u003c/em\u003e\u003cbr\u003e\nマイグレーションファイルと、テーブルの突き合わせ情報の表示。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"マイグレーションの統合\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%9E%E3%82%A4%E3%82%B0%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E7%B5%B1%E5%90%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eマイグレーションの統合\u003c/h2\u003e\n\n\u003cp\u003e\u003cem\u003esquashmigrations\u003c/em\u003e\u003c/p\u003e\n\n\u003cp\u003eマイグレーションファイルを統合するコマンド。\u003c/p\u003e\n","body":"# 基礎知識箇条書き\n詳しくは[こちら](http://note.crohaco.net/2018/django-migration/)参照\n\n\n## DjangoとMySQLの連携\n最低限の連携手順\n### Django\nDB接続設定\n\n```settings.py\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.mysql',\n        'NAME': '', # 接続先DB\n        'USER': '',\n        'PASSWORD': '',\n        'HOST': '',\n    }\n}\n```\n\n### MySQL\nversion.8\n1. 接続用ユーザー作成\nどこからでもアクセス可能。\n\n```\ncreate user 'user' identified by 'user';\ngrant all privileges on django.* to 'user';\n```\n\n## マイグレーションClass\nマイグレーションファイルにはMigrationClassが必要\n\n- initial 最初のマイグレーション指定\n- replaces 置き換え対象マイグレーションを指定\n- dependencies 依存マイグレーション指定\n- atomic ロールバック指定\n- operations 操作方法指定\n \n## 履歴\ndjango_migrationsテーブルで管理されている。\n適用の可否は、このテーブルの状態で判断されている。\n\n## 依存関係\n適用順序を守るのは絶対。\nシーケンスは必ずしも適用順ではない。\n依存パターンは、以下ふたつ\n- アプリの依存\n- 外部アプリ依存\n依存先が欠けていると、正しく動作しない。\n常にマイグレーションを使用する事が必須条件。\n\n## 適用方法\n順序としては２つ。\n\n- 照準適用\n- 降順適用\n - Operationに操作方法が定義されている必要がある\n - 緊急処置で使用するべき方法であり、常用してはいけない\n\n# 使い方\nコマンド\n\n## マイグレーションファイル作成\n*makemigration*\n\n自動生成時は、既存マイグレーションとモデルの構造の差分で、マイグレーションが生成される。\n\n- app_label引数でアプリ名を指定\n- アプリ名省略時には、INSTALLED_APPS に登録されているアプリの差分に対して作成される\n  - 初回でアプリ名を指定しないとマイグレーションが作られない\n\n\n## マイグレーションファイル適用\n\n*migrate*\n\n引数はapp_labelと、migration_nameがあるが、省略可能\n\n- 省略時は未適用マイグレーションが全て適用される\n- app_labelのみ指定時は、アプリ内のマイグレーションのみ適用\n- app_label、migration_name指定時は、アプリのマイグレーションまで適用される\n - 指定マイグレーションによって適用順が変わってしまうので注意\n- 擬似的にマイグレーション適用済みにするオプションがある\n - 移行用オプションとしての利用\n - 扱いには注意する。テーブルが正しく作成されない場合がある。\n\n## 適用、未適用状態の表示\n*showmigrations*\nマイグレーションファイルと、テーブルの突き合わせ情報の表示。\n\n## マイグレーションの統合\n*squashmigrations*\n\nマイグレーションファイルを統合するコマンド。\n\n\n\n\n\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:29:59+09:00","group":null,"id":"b6142ddde4260ce20b6c","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Django2.0","versions":[]}],"title":"Django migration ざっくり基礎知識","updated_at":"2019-07-09T22:00:04+09:00","url":"https://qiita.com/yohei-29/items/b6142ddde4260ce20b6c","user":{"description":"","facebook_id":"","followees_count":0,"followers_count":0,"github_login_name":null,"id":"yohei-29","items_count":13,"linkedin_id":"","location":"日本","name":"yohei","organization":"","permanent_id":89706,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/89706/profile-images/1473704843","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003e以前、\u003ca href=\"https://qiita.com/Shi-nakaya/items/e6ac79dd35506d4c9fbc\" id=\"reference-cfd8c4ba7b5c4c613ce4\"\u003eCloudFrontの配信元のファイル(S3)が更新されたら自動的にキャッシュをクリアする仕組みを作る\u003c/a\u003eという記事を作成しました。\u003c/p\u003e\n\n\u003cp\u003eその対応の中で「CloufFrontのキャッシュをクリア(CreateInvalidation)するAPIをコールするLambdaFunction」が必要です。\u003c/p\u003e\n\n\u003cp\u003e当記事では具体的な実装方法を紹介します。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"実装の概要\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85%E3%81%AE%E6%A6%82%E8%A6%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装の概要\u003c/h1\u003e\n\n\u003col\u003e\n\u003cli\u003e配信元となるS3バケット名からCloudFrontのIDを取得する\u003c/li\u003e\n\u003cli\u003eCloudFrontのIDをキーにしてCloufFrontのキャッシュをクリア(CreateInvalidation)する\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003eCloudFrontのIDはAWSのマネコンから確認できるので\u003cbr\u003e\n「配信元となるS3バケット名からCloudFrontのIDを取得する」の処理はマストではありません。\u003cbr\u003e\nしかし、バケット名からCloufFrontのキャッシュをクリアできた方が汎用性が高くなる為、CloudFrontの一覧を取得し、バケット名からCloudFrontのIDを取得する処理も実装します。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h1\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"go\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eCreateInvalidation.go\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"x\"\u003e    \u003c/span\u003e\u003cspan class=\"c\"\u003e//cloudfrontのクライアントを作成\u003c/span\u003e\u003cspan class=\"x\"\u003e\n    \u003c/span\u003e\u003cspan class=\"n\"\u003esvc\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ecloudfront\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNew\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esession\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNew\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\n    \u003c/span\u003e\u003cspan class=\"c\"\u003e//cloudfrontの一覧の情報を取得する為のインプットを作成\u003c/span\u003e\u003cspan class=\"x\"\u003e\n    \u003c/span\u003e\u003cspan class=\"n\"\u003eListDistributionsInput\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003ecloudfront\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eListDistributionsInput\u003c/span\u003e\u003cspan class=\"p\"\u003e{}\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\n    \u003c/span\u003e\u003cspan class=\"c\"\u003e//cloudfrontの一覧の情報を取得\u003c/span\u003e\u003cspan class=\"x\"\u003e\n    \u003c/span\u003e\u003cspan class=\"n\"\u003eListDistributions\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003esvc\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eListDistributions\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eListDistributionsInput\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\n    \u003c/span\u003e\u003cspan class=\"n\"\u003eS3Domain\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"s3.amazonaws.com\"\u003c/span\u003e\u003cspan class=\"x\"\u003e\n    \u003c/span\u003e\u003cspan class=\"n\"\u003eS3Buket\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"cloudfrontの配信元のバケット名\"\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\".\"\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eS3Domain\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\n    \u003c/span\u003e\u003cspan class=\"k\"\u003efor\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eDLItems\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"k\"\u003erange\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eListDistributions\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDistributionList\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eItems\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"x\"\u003e\n        \u003c/span\u003e\u003cspan class=\"k\"\u003efor\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eOriginsItems\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"k\"\u003erange\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eDLItems\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOrigins\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eItems\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"x\"\u003e\n            \u003c/span\u003e\u003cspan class=\"c\"\u003e//cloudfrontの一覧からcloudfrontの配信元のバケット名の一致を判定\u003c/span\u003e\u003cspan class=\"x\"\u003e\n            \u003c/span\u003e\u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eS3Buket\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e==\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eOriginsItems\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDomainName\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"x\"\u003e\n                \u003c/span\u003e\u003cspan class=\"c\"\u003e//キャッシュ削除(CreateInvalidation)コール用のIDを取得\u003c/span\u003e\u003cspan class=\"x\"\u003e\n                \u003c/span\u003e\u003cspan class=\"n\"\u003ecallerReference\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etime\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNow\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"200601021504\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\n                \u003c/span\u003e\u003cspan class=\"c\"\u003e//cloudfrontのキャッシュを削除するパスを指定\u003c/span\u003e\u003cspan class=\"x\"\u003e\n                \u003c/span\u003e\u003cspan class=\"n\"\u003ePath\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/*\"\u003c/span\u003e\u003cspan class=\"x\"\u003e\n                \u003c/span\u003e\u003cspan class=\"n\"\u003ePathItems\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003ePath\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\n                \u003c/span\u003e\u003cspan class=\"c\"\u003e//キャッシュ削除用(CreateInvalidation)のクライアントを作成\u003c/span\u003e\u003cspan class=\"x\"\u003e\n                \u003c/span\u003e\u003cspan class=\"n\"\u003eCreateInvalidationInput\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003ecloudfront\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCreateInvalidationInput\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"x\"\u003e\n                    \u003c/span\u003e\u003cspan class=\"n\"\u003eDistributionId\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eaws\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eDLItems\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eId\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\u003cspan class=\"x\"\u003e\n                    \u003c/span\u003e\u003cspan class=\"n\"\u003eInvalidationBatch\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003ecloudfront\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eInvalidationBatch\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"x\"\u003e\n                        \u003c/span\u003e\u003cspan class=\"n\"\u003eCallerReference\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003ecallerReference\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e\n                        \u003c/span\u003e\u003cspan class=\"n\"\u003ePaths\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003ecloudfront\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePaths\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"x\"\u003e\n                            \u003c/span\u003e\u003cspan class=\"n\"\u003eQuantity\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eaws\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eInt64\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\u003cspan class=\"x\"\u003e\n                            \u003c/span\u003e\u003cspan class=\"n\"\u003eItems\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"x\"\u003e    \u003c/span\u003e\u003cspan class=\"n\"\u003ePathItems\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e\n                        \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"x\"\u003e\n                    \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"x\"\u003e\n                \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"x\"\u003e\n                \u003c/span\u003e\u003cspan class=\"c\"\u003e//キャッシュ削除(CreateInvalidation)を実行\u003c/span\u003e\u003cspan class=\"x\"\u003e\n                \u003c/span\u003e\u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003esvc\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCreateInvalidation\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCreateInvalidationInput\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"x\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"x\"\u003e\n        \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"x\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"終わりに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e終わりに\u003c/h1\u003e\n\n\u003cp\u003e目的のバケット名がcloudfront一覧の奥の方の構造体に入り込んでいた為、\u003cbr\u003e\n取得するのに2重にループする必要があり、思ったより面倒でした。\u003cbr\u003e\n改良の余地としては、cloudfrontのキャッシュを削除するパスが指定可能である為、オブジェクト名で検索をかけて対象のオブジェクトだけキャッシュクリアする方法もありますね。\u003cbr\u003e\n追加のオブジェクトはキャッシュクリアの必要はない為、更新されたオブジェクトだけクリアしてあげてもいいですね。\u003c/p\u003e\n","body":"# はじめに\n以前、[CloudFrontの配信元のファイル(S3)が更新されたら自動的にキャッシュをクリアする仕組みを作る](https://qiita.com/Shi-nakaya/items/e6ac79dd35506d4c9fbc)という記事を作成しました。\n\nその対応の中で「CloufFrontのキャッシュをクリア(CreateInvalidation)するAPIをコールするLambdaFunction」が必要です。\n\n当記事では具体的な実装方法を紹介します。\n\n# 実装の概要\n1. 配信元となるS3バケット名からCloudFrontのIDを取得する\n2. CloudFrontのIDをキーにしてCloufFrontのキャッシュをクリア(CreateInvalidation)する\n\nCloudFrontのIDはAWSのマネコンから確認できるので\n「配信元となるS3バケット名からCloudFrontのIDを取得する」の処理はマストではありません。\nしかし、バケット名からCloufFrontのキャッシュをクリアできた方が汎用性が高くなる為、CloudFrontの一覧を取得し、バケット名からCloudFrontのIDを取得する処理も実装します。\n\n# 実装\n```go:CreateInvalidation.go\n\t//cloudfrontのクライアントを作成\n\tsvc := cloudfront.New(session.New())\n\n\t//cloudfrontの一覧の情報を取得する為のインプットを作成\n\tListDistributionsInput := \u0026cloudfront.ListDistributionsInput{}\n\n\t//cloudfrontの一覧の情報を取得\n\tListDistributions, _ := svc.ListDistributions(ListDistributionsInput)\n\n\tS3Domain := \"s3.amazonaws.com\"\n\tS3Buket := \"cloudfrontの配信元のバケット名\" + \".\" + S3Domain\n\n\tfor _, DLItems := range ListDistributions.DistributionList.Items {\n\t\tfor _, OriginsItems := range DLItems.Origins.Items {\n\t\t\t//cloudfrontの一覧からcloudfrontの配信元のバケット名の一致を判定\n\t\t\tif S3Buket == *OriginsItems.DomainName {\n\t\t\t\t//キャッシュ削除(CreateInvalidation)コール用のIDを取得\n\t\t\t\tcallerReference := time.Now().Format(\"200601021504\")\n\n\t\t\t\t//cloudfrontのキャッシュを削除するパスを指定\n\t\t\t\tPath := \"/*\"\n\t\t\t\tPathItems := []*string{\u0026Path}\n\n\t\t\t\t//キャッシュ削除用(CreateInvalidation)のクライアントを作成\n\t\t\t\tCreateInvalidationInput := \u0026cloudfront.CreateInvalidationInput{\n\t\t\t\t\tDistributionId: aws.String(*DLItems.Id),\n\t\t\t\t\tInvalidationBatch: \u0026cloudfront.InvalidationBatch{\n\t\t\t\t\t\tCallerReference: \u0026callerReference,\n\t\t\t\t\t\tPaths: \u0026cloudfront.Paths{\n\t\t\t\t\t\t\tQuantity: aws.Int64(1),\n\t\t\t\t\t\t\tItems:    PathItems,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t\t//キャッシュ削除(CreateInvalidation)を実行\n\t\t\t\tresult, _ := svc.CreateInvalidation(CreateInvalidationInput)\n\t\t\t}\n\t\t}\n\t}\n```\n\n# 終わりに\n目的のバケット名がcloudfront一覧の奥の方の構造体に入り込んでいた為、\n取得するのに2重にループする必要があり、思ったより面倒でした。\n改良の余地としては、cloudfrontのキャッシュを削除するパスが指定可能である為、オブジェクト名で検索をかけて対象のオブジェクトだけキャッシュクリアする方法もありますね。\n追加のオブジェクトはキャッシュクリアの必要はない為、更新されたオブジェクトだけクリアしてあげてもいいですね。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:27:20+09:00","group":null,"id":"32f8d049a0262e29efe3","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Go","versions":[]},{"name":"AWS","versions":[]},{"name":"S3","versions":[]},{"name":"CloudFront","versions":[]},{"name":"aws-sdk","versions":[]}],"title":"AWS S3バケット名からCloufFrontのキャッシュをクリア(CreateInvalidation)するAPIをコールする","updated_at":"2019-07-09T20:38:42+09:00","url":"https://qiita.com/Shi-nakaya/items/32f8d049a0262e29efe3","user":{"description":"パッケージ開発ベンダーで社内の何でも屋から脱出した人が\r\n日々の業務、プライベートの検証でつまった事、ハマった事を書いています。\r\n現在は、クラウドベンダーの自社サービス部門で開発を担当しています。\r\n業務で使用している言語はjs(React)、Go、Java\r\nインフラはAWSを使用","facebook_id":"","followees_count":10,"followers_count":6,"github_login_name":null,"id":"Shi-nakaya","items_count":39,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":265300,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/265300/profile-images/1529661046","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"やりたいこと\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eやりたいこと\u003c/h1\u003e\n\n\u003cp\u003e時間がかかってそうな処理があるときに、その処理にどれくらいの時間がかかっているかを調べたい。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"やり方\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%84%E3%82%8A%E6%96%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eやり方\u003c/h1\u003e\n\n\u003cp\u003eStopwatchクラスを使う。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"サンプルコード\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB%E3%82%B3%E3%83%BC%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eサンプルコード\u003c/h1\u003e\n\n\u003cp\u003e測りたい処理を挟んで、Stopwatchをスタート～ストップして、時間を測る。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"cs\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Diagnostics\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Threading\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003enamespace\u003c/span\u003e \u003cspan class=\"nn\"\u003eConsoleApp5\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eProgram\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// ストップウォッチを作成\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eStopwatch\u003c/span\u003e \u003cspan class=\"n\"\u003esw\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eStopwatch\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// ストップウォッチをスタート\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esw\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRestart\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 測りたい処理\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eThread\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSleep\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e5000\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// ストップウォッチを止める\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esw\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eStop\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 経過時間をsw.Elapsed や sw.ElapsedMilliseconds で取得\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eDebug\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\" 経過時間：\"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003esw\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eElapsedMilliseconds\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\" ms\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"メモ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%A1%E3%83%A2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eメモ\u003c/h1\u003e\n\n\u003cp\u003e個人的に、スタートするときはRestart()を使う。\u003cbr\u003e\nStart() → Stop() → Start() → Stop()とすると、一回目の時間をそのまま引き継いでしまうので、それに気づかないと間違った計測結果を採ってしまうので。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考\u003c/h1\u003e\n\n\u003cp\u003eStopwatch Class \u003cbr\u003e\n\u003ca href=\"https://docs.microsoft.com/ja-jp/dotnet/api/system.diagnostics.stopwatch?view=netframework-4.8\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://docs.microsoft.com/ja-jp/dotnet/api/system.diagnostics.stopwatch?view=netframework-4.8\u003c/a\u003e\u003c/p\u003e\n","body":"# やりたいこと\n時間がかかってそうな処理があるときに、その処理にどれくらいの時間がかかっているかを調べたい。\n\n# やり方\nStopwatchクラスを使う。\n\n# サンプルコード\n測りたい処理を挟んで、Stopwatchをスタート～ストップして、時間を測る。\n\n```cs\nusing System.Diagnostics;\nusing System.Threading;\n\nnamespace ConsoleApp5\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            // ストップウォッチを作成\n            Stopwatch sw = new Stopwatch();\n\n            // ストップウォッチをスタート\n            sw.Restart();\n\n            // 測りたい処理\n            Thread.Sleep(5000);\n\n            // ストップウォッチを止める\n            sw.Stop();\n\n            // 経過時間をsw.Elapsed や sw.ElapsedMilliseconds で取得\n            Debug.WriteLine(\" 経過時間：\" + sw.ElapsedMilliseconds + \" ms\");\n        }\n    }\n}\n```\n\n# メモ\n個人的に、スタートするときはRestart()を使う。\nStart() → Stop() → Start() → Stop()とすると、一回目の時間をそのまま引き継いでしまうので、それに気づかないと間違った計測結果を採ってしまうので。\n\n\n# 参考\nStopwatch Class \nhttps://docs.microsoft.com/ja-jp/dotnet/api/system.diagnostics.stopwatch?view=netframework-4.8\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:23:11+09:00","group":null,"id":"2a901c6afa836744d3bb","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"C#","versions":[]}],"title":"[C#]StopWatchで処理にかかる時間を測る","updated_at":"2019-07-09T20:23:11+09:00","url":"https://qiita.com/tera1707/items/2a901c6afa836744d3bb","user":{"description":"","facebook_id":"","followees_count":4,"followers_count":7,"github_login_name":"tera1707","id":"tera1707","items_count":60,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":352601,"profile_image_url":"https://avatars0.githubusercontent.com/u/19180456?v=4","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"powershell-ウィンドウに中黒をペーストすると中黒が何故か消える\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#powershell-%E3%82%A6%E3%82%A3%E3%83%B3%E3%83%89%E3%82%A6%E3%81%AB%E4%B8%AD%E9%BB%92%E3%82%92%E3%83%9A%E3%83%BC%E3%82%B9%E3%83%88%E3%81%99%E3%82%8B%E3%81%A8%E4%B8%AD%E9%BB%92%E3%81%8C%E4%BD%95%E6%95%85%E3%81%8B%E6%B6%88%E3%81%88%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ePowerShell ウィンドウに中黒をペーストすると中黒が何故か消える\u003c/h1\u003e\n\n\u003cp\u003e例) 以下をクリップボードにコピー\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"powershell\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"あい・うえお\"\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003ePowerShellウィンドウにペーストすると何故か以下の様になる\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"powershell\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"あいうえお\"\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"原因\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8E%9F%E5%9B%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e原因\u003c/h1\u003e\n\n\u003cp\u003e不明(ご存じの方居たらお教えくださいませ)\u003cbr\u003e\nコマンドプロンプトではこの現象は確認できませんでした\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"回避策\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%9B%9E%E9%81%BF%E7%AD%96\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e回避策\u003c/h1\u003e\n\n\u003cp\u003eスクリプトにすれば良い\u003cbr\u003e\n例) hoge.ps1 ファイルにしてスクリプト実行する\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"powershell\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ehoge.ps1\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"あい・うえお\"\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eExcelでスクリプトを生成して、ペーストで実行していたらハマりました\u003c/p\u003e\n","body":"# PowerShell ウィンドウに中黒をペーストすると中黒が何故か消える\n例) 以下をクリップボードにコピー\n\n```powershell\necho \"あい・うえお\"\n```\n\nPowerShellウィンドウにペーストすると何故か以下の様になる\n\n```powershell\necho \"あいうえお\"\n```\n\n# 原因\n\n不明(ご存じの方居たらお教えくださいませ)\nコマンドプロンプトではこの現象は確認できませんでした\n\n# 回避策\n\nスクリプトにすれば良い\n例) hoge.ps1 ファイルにしてスクリプト実行する\n\n```powershell:hoge.ps1\necho \"あい・うえお\"\n```\n\nExcelでスクリプトを生成して、ペーストで実行していたらハマりました\n\n\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:23:07+09:00","group":null,"id":"1a0f02cf44700ae0b9e6","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Windows","versions":[]},{"name":"command","versions":[]},{"name":"PowerShell","versions":[]},{"name":"script","versions":[]}],"title":"PowerShellウィンドウに中黒をペーストすると中黒が消える","updated_at":"2019-07-09T20:23:07+09:00","url":"https://qiita.com/tigeruppercut/items/1a0f02cf44700ae0b9e6","user":{"description":null,"facebook_id":null,"followees_count":1,"followers_count":1,"github_login_name":null,"id":"tigeruppercut","items_count":5,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":147687,"profile_image_url":"https://secure.gravatar.com/avatar/415f6a639e684c65ae61d3197490e660","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\u003cp\u003e\u003ca href=\"http://www.supplement2fitness.com/bioleptin-reviews/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://www.supplement2fitness.com/bioleptin-reviews/\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eBioleptin Reviews:\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026gt;\u0026gt; At present, a great many people are battling with overabundance fat, which quickens by maturing. A considerable lot of us attempt to restrict our eating routine and exercise, yet nothing works.\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://sites.google.com/site/bioleptinreviews/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://sites.google.com/site/bioleptinreviews/\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://medium.com/@gehuntall/bioleptin-reviews-ab7fb32d0114\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://medium.com/@gehuntall/bioleptin-reviews-ab7fb32d0114\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://www.nobedad.com/article/6f9480bf/c=9ed13eca9d\u0026amp;nc=1\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.nobedad.com/article/6f9480bf/c=9ed13eca9d\u0026amp;nc=1\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://www.wattpad.com/755910105-http-www-supplement2fitness-com-bioleptin-reviews\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.wattpad.com/755910105-http-www-supplement2fitness-com-bioleptin-reviews\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://coderwall.com/p/sc2tqg/where-to-buy-http-www-supplement2fitness-com-bioleptin-reviews\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://coderwall.com/p/sc2tqg/where-to-buy-http-www-supplement2fitness-com-bioleptin-reviews\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://www.irakyat.my/forums/topic/1990/http-www-supplement2fitness-com-bioleptin-reviews/view/post_id/2068\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.irakyat.my/forums/topic/1990/http-www-supplement2fitness-com-bioleptin-reviews/view/post_id/2068\u003c/a\u003e\u003c/p\u003e\n","body":"\nhttp://www.supplement2fitness.com/bioleptin-reviews/\n\nBioleptin Reviews:\u003c\u003c\u003c\u003c\u003e\u003e At present, a great many people are battling with overabundance fat, which quickens by maturing. A considerable lot of us attempt to restrict our eating routine and exercise, yet nothing works.\n\nhttps://sites.google.com/site/bioleptinreviews/\nhttps://medium.com/@gehuntall/bioleptin-reviews-ab7fb32d0114\nhttps://www.nobedad.com/article/6f9480bf/c=9ed13eca9d\u0026nc=1\nhttps://www.wattpad.com/755910105-http-www-supplement2fitness-com-bioleptin-reviews\nhttps://coderwall.com/p/sc2tqg/where-to-buy-http-www-supplement2fitness-com-bioleptin-reviews\nhttps://www.irakyat.my/forums/topic/1990/http-www-supplement2fitness-com-bioleptin-reviews/view/post_id/2068\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:19:44+09:00","group":null,"id":"919a0189b574de14b4c0","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"reviews","versions":[]},{"name":"Bioleptin","versions":[]}],"title":"Google Rank:\u003ehttp://www.supplement2fitness.com/bioleptin-reviews/","updated_at":"2019-07-09T20:19:44+09:00","url":"https://qiita.com/gehuntall/items/919a0189b574de14b4c0","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"gehuntall","items_count":1,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":457838,"profile_image_url":"https://secure.gravatar.com/avatar/52a6462ab9cc9bc3a6904acbf4cb64f5","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\u003cp\u003eKarteの接客サービスを利用するAppの実装で困った事象について、同じ問題で悩む方に参考にして欲しいので、メモして置きます。\u003c/p\u003e\n\n\u003cp\u003e開発用のKarteとリリース用のKarte接客サービスで送信されるPush通知のPayloadのキー値が異なる件。　例え、今度の\"gcm.notification.url”キー\u003c/p\u003e\n\n\u003cp\u003e上記事象について、Karteのサポーターに質問したよると\u003cbr\u003e\nKARTEから接続可能な FCM（Firebase Cloud Messaging\u003cbr\u003e\n） API は、Legacy API と V1 API の 2種類ございますが、それぞれ Legacy APIかV1 APIの設定により、送信されるキーの設定が異なる模様です。\u003cbr\u003e\n特にV1 API では ”gcm.notification.url”キーは付与されない仕様となっていますね。\u003c/p\u003e\n\n\u003cp\u003e最初はPush通知のPayloadから接客サービスのDeepLinkのURLを解析するように実装したが、Karteサポーターはペイロード仕様が変わる可能性が存在する為、なるべくKarteのスキーマURLの取得メソッドを利用して接客サービスのDeepLink　URLを取得するように推奨していましたので、注意が必要だと思われます。\u003c/p\u003e\n\n\u003cp\u003e因みに、Karteから案内する仕様のリンクを貼って置きますので、ご参照ください。\u003cbr\u003e\n【iOS】\u003cbr\u003e\n\u003ca href=\"https://developers.karte.io/reference#retrieveurlfromuserinfouserinfo\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://developers.karte.io/reference#retrieveurlfromuserinfouserinfo\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e【Android】\u003cbr\u003e\n\u003ca href=\"https://developers.karte.io/reference#extractkarteattributescontext-context-remotemessage-message\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://developers.karte.io/reference#extractkarteattributescontext-context-remotemessage-message\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://developers.karte.io/reference#getlink\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://developers.karte.io/reference#getlink\u003c/a\u003e\u003c/p\u003e\n","body":"Karteの接客サービスを利用するAppの実装で困った事象について、同じ問題で悩む方に参考にして欲しいので、メモして置きます。\n\n開発用のKarteとリリース用のKarte接客サービスで送信されるPush通知のPayloadのキー値が異なる件。　例え、今度の\"gcm.notification.url”キー\n\n上記事象について、Karteのサポーターに質問したよると\nKARTEから接続可能な FCM（Firebase Cloud Messaging\n） API は、Legacy API と V1 API の 2種類ございますが、それぞれ Legacy APIかV1 APIの設定により、送信されるキーの設定が異なる模様です。\n特にV1 API では ”gcm.notification.url”キーは付与されない仕様となっていますね。\n\n最初はPush通知のPayloadから接客サービスのDeepLinkのURLを解析するように実装したが、Karteサポーターはペイロード仕様が変わる可能性が存在する為、なるべくKarteのスキーマURLの取得メソッドを利用して接客サービスのDeepLink　URLを取得するように推奨していましたので、注意が必要だと思われます。\n\n因みに、Karteから案内する仕様のリンクを貼って置きますので、ご参照ください。\n【iOS】\nhttps://developers.karte.io/reference#retrieveurlfromuserinfouserinfo\n\n【Android】\nhttps://developers.karte.io/reference#extractkarteattributescontext-context-remotemessage-message\nhttps://developers.karte.io/reference#getlink\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:16:35+09:00","group":null,"id":"8a9988dd33766cea3503","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"legacy","versions":[]},{"name":"payload","versions":[]},{"name":"KARTE","versions":[]},{"name":"gcm.notification.url","versions":[]},{"name":"接客サービス","versions":[]}],"title":"Karte 接客サービスの実装での注意点","updated_at":"2019-07-09T20:16:35+09:00","url":"https://qiita.com/ENIX/items/8a9988dd33766cea3503","user":{"description":"会社を5社渡り歩いて、現在はフリーランスでiOS/Android開発を行っている40代男です。\r\n東京に在住。 １万人を超える会社から、10人以下の会社まで経験できました。 仕事で、サーバ構築管理、Webシステム構築、iOS/Androidアプリ等を作ってきました。\r\n","facebook_id":"","followees_count":0,"followers_count":0,"github_login_name":null,"id":"ENIX","items_count":3,"linkedin_id":"k-roan-0996b1172","location":"東京","name":"","organization":"enixsoft.,Co.Ltd","permanent_id":126705,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/126705/profile-images/1473716649","team_only":false,"twitter_screen_name":null,"website_url":"http://www.enixsoft.com"},"page_views_count":null},{"rendered_body":"\n\u003ch2\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\n\u003cp\u003eLeafletは実装が簡単でカスタマイズ性も高く、非常に使いやすいWeb地図ライブラリですが、デフォルトの設定だと、多数の地物で構成されるベクターレイヤーの描画に、パフォーマンス上の問題がありました。要はポリゴンが多くなると途端に動作が重くなります。色々調べたところ、ある程度改善したのでその方法を示します。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"オプションをいじるだけ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E3%81%84%E3%81%98%E3%82%8B%E3%81%A0%E3%81%91\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eオプションをいじるだけ\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"https://stackoverflow.com/questions/23745436/leaflet-js-with-a-vector-layer-is-very-slow\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://stackoverflow.com/questions/23745436/leaflet-js-with-a-vector-layer-is-very-slow\u003c/a\u003e\u003cbr\u003e\nたどり着いたのがこのStackoverflowのスレッド。マップのpreferCanvasオプションを変えてみろ、と言っています。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"https://leafletjs.com/reference-1.5.0.html#global\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://leafletjs.com/reference-1.5.0.html#global\u003c/a\u003e\u003cbr\u003e\n公式ドキュメントによれば、preferCanvasオプションにより、SVGレンダラーかCanvasレンダラーか、どちらで地物を描画するか設定可能とのこと。デフォルト値はfalseで、SVGレンダラーに設定されている。一般にどっちが重いか軽いか、わからないがとりあえず試してみると、劇的に改善した。つまりCanvasによるレンダリングの方が軽いということですね。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003emap\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eL\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'map_container'\u003c/span\u003e\u003cspan class=\"p\"\u003e,{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003epreferCanvas\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"c1\"\u003e//trueとし、Canvasレンダラーを選択\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n","body":"##はじめに\nLeafletは実装が簡単でカスタマイズ性も高く、非常に使いやすいWeb地図ライブラリですが、デフォルトの設定だと、多数の地物で構成されるベクターレイヤーの描画に、パフォーマンス上の問題がありました。要はポリゴンが多くなると途端に動作が重くなります。色々調べたところ、ある程度改善したのでその方法を示します。\n\n##オプションをいじるだけ\nhttps://stackoverflow.com/questions/23745436/leaflet-js-with-a-vector-layer-is-very-slow\nたどり着いたのがこのStackoverflowのスレッド。マップのpreferCanvasオプションを変えてみろ、と言っています。\n\n##実装\nhttps://leafletjs.com/reference-1.5.0.html#global\n公式ドキュメントによれば、preferCanvasオプションにより、SVGレンダラーかCanvasレンダラーか、どちらで地物を描画するか設定可能とのこと。デフォルト値はfalseで、SVGレンダラーに設定されている。一般にどっちが重いか軽いか、わからないがとりあえず試してみると、劇的に改善した。つまりCanvasによるレンダリングの方が軽いということですね。\n\n```javascript\nvar map = L.map('map_container',{\n\tpreferCanvas:true, //trueとし、Canvasレンダラーを選択\n});\n```\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:16:04+09:00","group":null,"id":"e8ff0e5d024706d4a440","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"JavaScript","versions":[]},{"name":"leaflet","versions":[]},{"name":"GIS","versions":[]}],"title":"Leaflet.jsのパフォーマンス改善について","updated_at":"2019-07-09T20:16:04+09:00","url":"https://qiita.com/kigchi999/items/e8ff0e5d024706d4a440","user":{"description":"個人で色々開発しています。業務経験ゼロです。","facebook_id":"","followees_count":0,"followers_count":2,"github_login_name":null,"id":"kigchi999","items_count":12,"linkedin_id":"","location":"hokkaido","name":"Iguchi Kanahiro","organization":"","permanent_id":73197,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/73197/profile-images/1557331957","team_only":false,"twitter_screen_name":"kigchi999","website_url":"https://www.labo288.site"},"page_views_count":null},{"rendered_body":"\n\u003ch2\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\n\u003cp\u003eFlaskのレスポンスによってファイルをダウンロードさせる方法は以下のリンクのとおり3つあるようです。\u003cbr\u003e\n\u003ca href=\"https://qiita.com/5zm/items/760000cf63b176be544c\" class=\"autolink\" id=\"reference-cc4617a3cd2f328eaf24\"\u003ehttps://qiita.com/5zm/items/760000cf63b176be544c\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eしかしながら、Fetch通信によるPOSTに対するresponseにはこれらの方法だけでは対応出来ませんでした。解決した方法を以下に載せておきます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"前提\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%89%8D%E6%8F%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e前提\u003c/h2\u003e\n\n\u003cp\u003e①Fetch通信で、Flaskサーバに対しPOSTリクエスト\u003cbr\u003e\n②Flaskサーバでデータを処理し、ファイルを生成、responseヘッダに添付\u003cbr\u003e\n③Fetchでresponseを受け取って、ダウンロードしたい\u003c/p\u003e\n\n\u003cp\u003e③で引っかかっていました。単なるinputによるPOSTとは勝手が違うようで、responseはメモリ上で受けるだけです。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"解決方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e解決方法\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e    \u003cspan class=\"nx\"\u003efetch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"/export\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"na\"\u003emethod\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"POST\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"na\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"nx\"\u003eformdata\u003c/span\u003e \u003cspan class=\"c1\"\u003e//データを添付\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eblob\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e \u003cspan class=\"c1\"\u003e//blobで読み込む\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eblob\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//DOMでダウンロードファイルを添付したアンカー要素を生成\u003c/span\u003e\n        \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003eanchor\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003edocument\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecreateElement\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"nx\"\u003eanchor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edownload\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003enow\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s1\"\u003e'.geojson'\u003c/span\u003e\n        \u003cspan class=\"nx\"\u003eanchor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ehref\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003ewindow\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eURL\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecreateObjectURL\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eblob\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//アンカーを発火\u003c/span\u003e\n        \u003cspan class=\"nx\"\u003eanchor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eclick\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003ecatch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerr\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"err=\"\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"nx\"\u003eerr\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e要はresponseをblobで読み込んでアンカーリンクを踏ませた事にするというわけですね。\u003c/p\u003e\n","body":"##はじめに\nFlaskのレスポンスによってファイルをダウンロードさせる方法は以下のリンクのとおり3つあるようです。\nhttps://qiita.com/5zm/items/760000cf63b176be544c\n\nしかしながら、Fetch通信によるPOSTに対するresponseにはこれらの方法だけでは対応出来ませんでした。解決した方法を以下に載せておきます。\n\n##前提\n①Fetch通信で、Flaskサーバに対しPOSTリクエスト\n②Flaskサーバでデータを処理し、ファイルを生成、responseヘッダに添付\n③Fetchでresponseを受け取って、ダウンロードしたい\n\n③で引っかかっていました。単なるinputによるPOSTとは勝手が違うようで、responseはメモリ上で受けるだけです。\n\n##解決方法\n```javascript\n    fetch(\"/export\", {\n        method:\"POST\",\n        body:formdata //データを添付\n    })\n    .then(response =\u003e response.blob()) //blobで読み込む\n    .then(blob =\u003e {\n        //DOMでダウンロードファイルを添付したアンカー要素を生成\n        let anchor = document.createElement(\"a\");\n        anchor.download = String(Date.now()) + '.geojson'\n        anchor.href = window.URL.createObjectURL(blob);\n        //アンカーを発火\n        anchor.click();\n    })\n    .catch(function(err) {\n        console.log(\"err=\" + err);\n    });\n```\n\n要はresponseをblobで読み込んでアンカーリンクを踏ませた事にするというわけですね。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:14:33+09:00","group":null,"id":"ae89393fa649d0b1acd8","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Python","versions":[]},{"name":"JavaScript","versions":[]},{"name":"Flask","versions":[]}],"title":"FlaskとJavaScriptのFetch通信でダウンロードさせる方法","updated_at":"2019-07-09T20:14:33+09:00","url":"https://qiita.com/kigchi999/items/ae89393fa649d0b1acd8","user":{"description":"個人で色々開発しています。業務経験ゼロです。","facebook_id":"","followees_count":0,"followers_count":2,"github_login_name":null,"id":"kigchi999","items_count":12,"linkedin_id":"","location":"hokkaido","name":"Iguchi Kanahiro","organization":"","permanent_id":73197,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/73197/profile-images/1557331957","team_only":false,"twitter_screen_name":"kigchi999","website_url":"https://www.labo288.site"},"page_views_count":null},{"rendered_body":"\u003cp\u003e学習環境って結構大切です。\u003c/p\u003e\n\n\u003cp\u003eざっくり効果で言えば、\u003cbr\u003e\n無音＞言葉のないBGM＞わからない言葉のBGM＞わかる言葉のBGM\u003cbr\u003e\nの順に学習に適していると言えます。\u003c/p\u003e\n\n\u003cp\u003e学習に集中しているつもりでも、何かしら理解のできるBGMがある場合はそこに集中が削がれてしまいます。\u003c/p\u003e\n","body":"学習環境って結構大切です。\n\n\nざっくり効果で言えば、\n無音＞言葉のないBGM＞わからない言葉のBGM＞わかる言葉のBGM\nの順に学習に適していると言えます。\n\n学習に集中しているつもりでも、何かしら理解のできるBGMがある場合はそこに集中が削がれてしまいます。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:14:13+09:00","group":null,"id":"b334c82767fc6d91e1cd","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"勉強","versions":[]}],"title":"聴覚的な学習環境","updated_at":"2019-07-09T20:14:13+09:00","url":"https://qiita.com/shin1007/items/b334c82767fc6d91e1cd","user":{"description":"スパゲッティを読み解く人。\r\n自然言語：日本語、英語、中国語、フランス語\r\nプログラミング：Python3、VB、C#、HTML、javascript\r\n資格：TOEIC920、英検準1、PM、AP、車（MT）、小中高教員一種（英語）","facebook_id":"","followees_count":0,"followers_count":0,"github_login_name":null,"id":"shin1007","items_count":5,"linkedin_id":"","location":"栃木","name":"きち しん","organization":"","permanent_id":447423,"profile_image_url":"https://www.google.com/s2/photos/private/AIbEiAIAAABECPLPpOie4YK-zAEiC3ZjYXJkX3Bob3RvKigxNDM3MGZmZjk3MzczOTEwYTY0MDk1ZjM1YzNmMTIzMTUwMzE0NDg1MAE9Z3Xj9C_jXHMLfYSQbeoOvFi2_Q?sz=50","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\u003cp\u003edocker gcc(g++) and llvm(clang++)\u003cbr\u003e\n\u003ca href=\"https://qiita.com/kaizen_nagoya/items/059874ea39c4de64c0f7\" class=\"autolink\" id=\"reference-c66714c1c9b21d9663ce\"\u003ehttps://qiita.com/kaizen_nagoya/items/059874ea39c4de64c0f7\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003edocker and vscode not visual studio code\u003cbr\u003e\n\u003ca href=\"https://qiita.com/kaizen_nagoya/items/165a281570a8c62ca50a\" class=\"autolink\" id=\"reference-71f14562a12028c95954\"\u003ehttps://qiita.com/kaizen_nagoya/items/165a281570a8c62ca50a\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"g\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#g\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eg++\u003c/h1\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"shell-session\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003emacOS\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"gp\"\u003e$\u003c/span\u003e docker run \u003cspan class=\"nt\"\u003e-it\u003c/span\u003e gcc /bin/bash\n\u003cspan class=\"go\"\u003eUnable to find image 'gcc:latest' locally\nlatest: Pulling from library/gcc\n6f2f362378c5: Pull complete \n494c27a8a6b8: Pull complete \n7596bb83081b: Pull complete \n372744b62d49: Pull complete \n615db220d76c: Pull complete \ndd1e0ba56aac: Pull complete \nb4c62fab8fa1: Pull complete \ndf32917a83ac: Pull complete \n5100809ee8fa: Pull complete \nDigest: sha256:f46393c64e0e5a98aff814fec705582a08c3d8067196857910036ed324242ceb\nStatus: Downloaded newer image for gcc:latest\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"clangllvm\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#clangllvm\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eclang++/llvm\u003c/h1\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"shell-session\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003edocker/ubuntu\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"gp\"\u003e#\u003c/span\u003e apt update\u003cspan class=\"p\"\u003e;\u003c/span\u003e apt \u003cspan class=\"nt\"\u003e-y\u003c/span\u003e upgrade\n\u003cspan class=\"go\"\u003e\n\u003c/span\u003e\u003cspan class=\"gp\"\u003e#\u003c/span\u003e apt \u003cspan class=\"nb\"\u003einstall \u003c/span\u003eclang+ \n\u003cspan class=\"go\"\u003eReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following additional packages will be installed:\n  binfmt-support clang-3.8 libclang-common-3.8-dev libclang1-3.8 libgc1c2\n  libjsoncpp1 libllvm3.8 libobjc-6-dev libobjc4 libpipeline1 llvm-3.8\n  llvm-3.8-dev llvm-3.8-runtime\nSuggested packages:\n  gnustep gnustep-devel clang-3.8-doc llvm-3.8-doc\nThe following NEW packages will be installed:\n  binfmt-support clang clang-3.8 libclang-common-3.8-dev libclang1-3.8\n  libgc1c2 libjsoncpp1 libllvm3.8 libobjc-6-dev libobjc4 libpipeline1 llvm-3.8\n  llvm-3.8-dev llvm-3.8-runtime\n0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 58.0 MB of archives.\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"vscode\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#vscode\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003evscode\u003c/h1\u003e\n\n\u003cp\u003eUbuntu / DebianにコマンドでVSCode (Visual Studio Code) をインストールする方法\u003cbr\u003e\n\u003ca href=\"https://www.karelie.net/ubuntu-debian-command-install-vscode/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.karelie.net/ubuntu-debian-command-install-vscode/\u003c/a\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"shell-session\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003edocker/ubuntu\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"gp\"\u003e#\u003c/span\u003e curl https://packages.microsoft.com/keys/microsoft.asc | gpg \u003cspan class=\"nt\"\u003e--dearmor\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e microsoft.gpg\n\u003cspan class=\"go\"\u003e  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   983  100   983    0     0   1644      0 --:--:-- --:--:-- --:--:--  1646\n\n\u003c/span\u003e\u003cspan class=\"gp\"\u003e#\u003c/span\u003e \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e \u003cspan class=\"nt\"\u003e-o\u003c/span\u003e root \u003cspan class=\"nt\"\u003e-g\u003c/span\u003e root \u003cspan class=\"nt\"\u003e-m\u003c/span\u003e 644 microsoft.gpg /etc/apt/trusted.gpg.d/\n\u003cspan class=\"gp\"\u003eroot@7a86e7a198a9:/#\u003c/span\u003e sh \u003cspan class=\"nt\"\u003e-c\u003c/span\u003e \u003cspan class=\"s1\"\u003e'echo \"deb [arch=amd64] https://packages.microsoft.com/repos/vscode stable main\" \u0026gt; /etc/apt/sources.list.d/vscode.list'\u003c/span\u003e\n\u003cspan class=\"go\"\u003e\n\u003c/span\u003e\u003cspan class=\"gp\"\u003e#\u003c/span\u003e apt \u003cspan class=\"nb\"\u003einstall \u003c/span\u003eapt-transport-https\n\u003cspan class=\"go\"\u003e\n\u003c/span\u003e\u003cspan class=\"gp\"\u003e#\u003c/span\u003e apt update\n\u003cspan class=\"go\"\u003eHit:1 http://security.debian.org/debian-security stretch/updates InRelease\nIgn:2 http://deb.debian.org/debian stretch InRelease\nHit:3 http://deb.debian.org/debian stretch-updates InRelease\nHit:4 http://deb.debian.org/debian stretch Release \nGet:6 https://packages.microsoft.com/repos/vscode stable InRelease [3181 B]\nGet:7 https://packages.microsoft.com/repos/vscode stable/main amd64 Packages [126 kB]\nFetched 129 kB in 0s (131 kB/s)    \nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nAll packages are up to date.\n\n\u003c/span\u003e\u003cspan class=\"gp\"\u003e#\u003c/span\u003e apt \u003cspan class=\"nb\"\u003einstall \u003c/span\u003ecode\n\u003cspan class=\"go\"\u003eReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following additional packages will be installed:\n  adwaita-icon-theme at-spi2-core dconf-gsettings-backend dconf-service\n  glib-networking glib-networking-common glib-networking-services\n  gsettings-desktop-schemas libatk-bridge2.0-0 libatspi2.0-0 libcolord2\n  libdconf1 libdrm2 libegl1-mesa libepoxy0 libgbm1 libgtk-3-0 libgtk-3-bin\n  libgtk-3-common libjson-glib-1.0-0 libjson-glib-1.0-common libnotify4\n  libnspr4 libnss3 libproxy1v5 librest-0.7-0 libsecret-1-0 libsecret-common\n  libsoup-gnome2.4-1 libsoup2.4-1 libwayland-client0 libwayland-cursor0\n  libwayland-egl1-mesa libwayland-server0 libx11-xcb1 libxcb-dri2-0\n  libxcb-dri3-0 libxcb-present0 libxcb-sync1 libxcb-xfixes0 libxkbcommon0\n  libxkbfile1 libxshmfence1 libxss1 libxtst6 notification-daemon xkb-data\nSuggested packages:\n  colord gvfs\nThe following NEW packages will be installed:\n  adwaita-icon-theme at-spi2-core code dconf-gsettings-backend dconf-service\n  glib-networking glib-networking-common glib-networking-services\n  gsettings-desktop-schemas libatk-bridge2.0-0 libatspi2.0-0 libcolord2\n  libdconf1 libdrm2 libegl1-mesa libepoxy0 libgbm1 libgtk-3-0 libgtk-3-bin\n  libgtk-3-common libjson-glib-1.0-0 libjson-glib-1.0-common libnotify4\n  libnspr4 libnss3 libproxy1v5 librest-0.7-0 libsecret-1-0 libsecret-common\n  libsoup-gnome2.4-1 libsoup2.4-1 libwayland-client0 libwayland-cursor0\n  libwayland-egl1-mesa libwayland-server0 libx11-xcb1 libxcb-dri2-0\n  libxcb-dri3-0 libxcb-present0 libxcb-sync1 libxcb-xfixes0 libxkbcommon0\n  libxkbfile1 libxshmfence1 libxss1 libxtst6 notification-daemon xkb-data\n0 upgraded, 48 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 77.3 MB of archives.\n\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eEffective ModernC++をclang++, g++でコンパイルしてみる\u003cbr\u003e\n\u003ca href=\"https://qiita.com/kaizen_nagoya/items/2fafaf28782d192e237e\" class=\"autolink\" id=\"reference-64b1165fb320d5e62605\"\u003ehttps://qiita.com/kaizen_nagoya/items/2fafaf28782d192e237e\u003c/a\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e# apt install vim sudo cmake wget\n# wget https://github.com/BartVandewoestyne/Effective-Modern-Cpp/archive/master.zip\n# unzip msdyrt.xip\n# cd Effective-Modern-Cpp-master\n# cmake CMakeLists.txt \n-- The C compiler identification is GNU 9.1.0\n-- The CXX compiler identification is Clang 3.8.1\n-- Check for working C compiler: /usr/bin/cc\n-- Check for working C compiler: /usr/bin/cc -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Check for working CXX compiler: /usr/bin/c++\n-- Check for working CXX compiler: /usr/bin/c++ -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Looking for pthread.h\n-- Looking for pthread.h - found\n-- Looking for pthread_create\n-- Looking for pthread_create - not found\n-- Looking for pthread_create in pthreads\n-- Looking for pthread_create in pthreads - not found\n-- Looking for pthread_create in pthread\n-- Looking for pthread_create in pthread - found\n-- Found Threads: TRUE  \nCMake Error at /usr/share/cmake-3.7/Modules/FindBoost.cmake:1831 (message):\n  Unable to find the requested Boost libraries.\n\n  Unable to find the Boost header files.  Please set BOOST_ROOT to the root\n  directory containing Boost or BOOST_INCLUDEDIR to the directory containing\n  Boost's headers.\nCall Stack (most recent call first):\n  Item04_Know_how_to_view_deduced_types/CMakeLists.txt:8 (find_package)\n\n\nCMake Error: The following variables are used in this project, but they are set to NOTFOUND.\nPlease set them or make sure they are set and tested correctly in the CMake files:\nBoost_INCLUDE_DIR (ADVANCED)\n   used as include directory in directory /tmp/Effective-Modern-Cpp-master/Item04_Know_how_to_view_deduced_types\n   used as include directory in directory /tmp/Effective-Modern-Cpp-master/Item04_Know_how_to_view_deduced_types\n   used as include directory in directory /tmp/Effective-Modern-Cpp-master/Item04_Know_how_to_view_deduced_types\n   used as include directory in directory /tmp/Effective-Modern-Cpp-master/Item04_Know_how_to_view_deduced_types\n   used as include directory in directory /tmp/Effective-Modern-Cpp-master/Item04_Know_how_to_view_deduced_types\n   used as include directory in directory /tmp/Effective-Modern-Cpp-master/Item04_Know_how_to_view_deduced_types\n\n-- Configuring incomplete, errors occurred!\nSee also \"/tmp/Effective-Modern-Cpp-master/CMakeFiles/CMakeOutput.log\".\nSee also \"/tmp/Effective-Modern-Cpp-master/CMakeFiles/CMakeError.log\".\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e原因調査中。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"shell-session\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eubuntu/docker\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"gp\"\u003e#\u003c/span\u003e code \u003cspan class=\"nt\"\u003e-h\u003c/span\u003e\n\u003cspan class=\"go\"\u003eYou are trying to start vscode as a super user which is not recommended. If you really want to, you must specify an alternate user data directory using the --user-data-dir argument.\n\u003c/span\u003e\u003cspan class=\"gp\"\u003e#\u003c/span\u003e code \u003cspan class=\"nt\"\u003e--user-data-dir\u003c/span\u003e  /tmp\n\u003cspan class=\"go\"\u003e/usr/share/code/bin/../code: error while loading shared libraries: libasound.so.2: cannot open shared object file: No such file or directory\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n","body":"docker gcc(g++) and llvm(clang++)\nhttps://qiita.com/kaizen_nagoya/items/059874ea39c4de64c0f7\n\ndocker and vscode not visual studio code\nhttps://qiita.com/kaizen_nagoya/items/165a281570a8c62ca50a\n\n#g++\n\n```shell-session:macOS\n$ docker run -it gcc /bin/bash\nUnable to find image 'gcc:latest' locally\nlatest: Pulling from library/gcc\n6f2f362378c5: Pull complete \n494c27a8a6b8: Pull complete \n7596bb83081b: Pull complete \n372744b62d49: Pull complete \n615db220d76c: Pull complete \ndd1e0ba56aac: Pull complete \nb4c62fab8fa1: Pull complete \ndf32917a83ac: Pull complete \n5100809ee8fa: Pull complete \nDigest: sha256:f46393c64e0e5a98aff814fec705582a08c3d8067196857910036ed324242ceb\nStatus: Downloaded newer image for gcc:latest\n```\n#clang++/llvm\n\n```shell-session:docker/ubuntu\n# apt update; apt -y upgrade\n\n# apt install clang+ \nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following additional packages will be installed:\n  binfmt-support clang-3.8 libclang-common-3.8-dev libclang1-3.8 libgc1c2\n  libjsoncpp1 libllvm3.8 libobjc-6-dev libobjc4 libpipeline1 llvm-3.8\n  llvm-3.8-dev llvm-3.8-runtime\nSuggested packages:\n  gnustep gnustep-devel clang-3.8-doc llvm-3.8-doc\nThe following NEW packages will be installed:\n  binfmt-support clang clang-3.8 libclang-common-3.8-dev libclang1-3.8\n  libgc1c2 libjsoncpp1 libllvm3.8 libobjc-6-dev libobjc4 libpipeline1 llvm-3.8\n  llvm-3.8-dev llvm-3.8-runtime\n0 upgraded, 14 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 58.0 MB of archives.\n```\n#vscode\nUbuntu / DebianにコマンドでVSCode (Visual Studio Code) をインストールする方法\nhttps://www.karelie.net/ubuntu-debian-command-install-vscode/\n\n```shell-session:docker/ubuntu\n# curl https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor \u003e microsoft.gpg\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   983  100   983    0     0   1644      0 --:--:-- --:--:-- --:--:--  1646\n\n# install -o root -g root -m 644 microsoft.gpg /etc/apt/trusted.gpg.d/\nroot@7a86e7a198a9:/# sh -c 'echo \"deb [arch=amd64] https://packages.microsoft.com/repos/vscode stable main\" \u003e /etc/apt/sources.list.d/vscode.list'\n\n# apt install apt-transport-https\n\n# apt update\nHit:1 http://security.debian.org/debian-security stretch/updates InRelease\nIgn:2 http://deb.debian.org/debian stretch InRelease\nHit:3 http://deb.debian.org/debian stretch-updates InRelease\nHit:4 http://deb.debian.org/debian stretch Release \nGet:6 https://packages.microsoft.com/repos/vscode stable InRelease [3181 B]\nGet:7 https://packages.microsoft.com/repos/vscode stable/main amd64 Packages [126 kB]\nFetched 129 kB in 0s (131 kB/s)    \nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nAll packages are up to date.\n\n# apt install code\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following additional packages will be installed:\n  adwaita-icon-theme at-spi2-core dconf-gsettings-backend dconf-service\n  glib-networking glib-networking-common glib-networking-services\n  gsettings-desktop-schemas libatk-bridge2.0-0 libatspi2.0-0 libcolord2\n  libdconf1 libdrm2 libegl1-mesa libepoxy0 libgbm1 libgtk-3-0 libgtk-3-bin\n  libgtk-3-common libjson-glib-1.0-0 libjson-glib-1.0-common libnotify4\n  libnspr4 libnss3 libproxy1v5 librest-0.7-0 libsecret-1-0 libsecret-common\n  libsoup-gnome2.4-1 libsoup2.4-1 libwayland-client0 libwayland-cursor0\n  libwayland-egl1-mesa libwayland-server0 libx11-xcb1 libxcb-dri2-0\n  libxcb-dri3-0 libxcb-present0 libxcb-sync1 libxcb-xfixes0 libxkbcommon0\n  libxkbfile1 libxshmfence1 libxss1 libxtst6 notification-daemon xkb-data\nSuggested packages:\n  colord gvfs\nThe following NEW packages will be installed:\n  adwaita-icon-theme at-spi2-core code dconf-gsettings-backend dconf-service\n  glib-networking glib-networking-common glib-networking-services\n  gsettings-desktop-schemas libatk-bridge2.0-0 libatspi2.0-0 libcolord2\n  libdconf1 libdrm2 libegl1-mesa libepoxy0 libgbm1 libgtk-3-0 libgtk-3-bin\n  libgtk-3-common libjson-glib-1.0-0 libjson-glib-1.0-common libnotify4\n  libnspr4 libnss3 libproxy1v5 librest-0.7-0 libsecret-1-0 libsecret-common\n  libsoup-gnome2.4-1 libsoup2.4-1 libwayland-client0 libwayland-cursor0\n  libwayland-egl1-mesa libwayland-server0 libx11-xcb1 libxcb-dri2-0\n  libxcb-dri3-0 libxcb-present0 libxcb-sync1 libxcb-xfixes0 libxkbcommon0\n  libxkbfile1 libxshmfence1 libxss1 libxtst6 notification-daemon xkb-data\n0 upgraded, 48 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 77.3 MB of archives.\n\n```\n\nEffective ModernC++をclang++, g++でコンパイルしてみる\nhttps://qiita.com/kaizen_nagoya/items/2fafaf28782d192e237e\n\n```\n# apt install vim sudo cmake wget\n# wget https://github.com/BartVandewoestyne/Effective-Modern-Cpp/archive/master.zip\n# unzip msdyrt.xip\n# cd Effective-Modern-Cpp-master\n# cmake CMakeLists.txt \n-- The C compiler identification is GNU 9.1.0\n-- The CXX compiler identification is Clang 3.8.1\n-- Check for working C compiler: /usr/bin/cc\n-- Check for working C compiler: /usr/bin/cc -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Check for working CXX compiler: /usr/bin/c++\n-- Check for working CXX compiler: /usr/bin/c++ -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Looking for pthread.h\n-- Looking for pthread.h - found\n-- Looking for pthread_create\n-- Looking for pthread_create - not found\n-- Looking for pthread_create in pthreads\n-- Looking for pthread_create in pthreads - not found\n-- Looking for pthread_create in pthread\n-- Looking for pthread_create in pthread - found\n-- Found Threads: TRUE  \nCMake Error at /usr/share/cmake-3.7/Modules/FindBoost.cmake:1831 (message):\n  Unable to find the requested Boost libraries.\n\n  Unable to find the Boost header files.  Please set BOOST_ROOT to the root\n  directory containing Boost or BOOST_INCLUDEDIR to the directory containing\n  Boost's headers.\nCall Stack (most recent call first):\n  Item04_Know_how_to_view_deduced_types/CMakeLists.txt:8 (find_package)\n\n\nCMake Error: The following variables are used in this project, but they are set to NOTFOUND.\nPlease set them or make sure they are set and tested correctly in the CMake files:\nBoost_INCLUDE_DIR (ADVANCED)\n   used as include directory in directory /tmp/Effective-Modern-Cpp-master/Item04_Know_how_to_view_deduced_types\n   used as include directory in directory /tmp/Effective-Modern-Cpp-master/Item04_Know_how_to_view_deduced_types\n   used as include directory in directory /tmp/Effective-Modern-Cpp-master/Item04_Know_how_to_view_deduced_types\n   used as include directory in directory /tmp/Effective-Modern-Cpp-master/Item04_Know_how_to_view_deduced_types\n   used as include directory in directory /tmp/Effective-Modern-Cpp-master/Item04_Know_how_to_view_deduced_types\n   used as include directory in directory /tmp/Effective-Modern-Cpp-master/Item04_Know_how_to_view_deduced_types\n\n-- Configuring incomplete, errors occurred!\nSee also \"/tmp/Effective-Modern-Cpp-master/CMakeFiles/CMakeOutput.log\".\nSee also \"/tmp/Effective-Modern-Cpp-master/CMakeFiles/CMakeError.log\".\n```\n原因調査中。\n\n```shell-session:ubuntu/docker\n# code -h\nYou are trying to start vscode as a super user which is not recommended. If you really want to, you must specify an alternate user data directory using the --user-data-dir argument.\n# code --user-data-dir  /tmp\n/usr/share/code/bin/../code: error while loading shared libraries: libasound.so.2: cannot open shared object file: No such file or directory\n```\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:13:02+09:00","group":null,"id":"825e9bcb017925e0fc5a","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"C++","versions":[]},{"name":"Docker","versions":[]}],"title":"g++, clang++ and vscode++ をdockerで","updated_at":"2019-07-09T20:41:42+09:00","url":"https://qiita.com/kaizen_nagoya/items/825e9bcb017925e0fc5a","user":{"description":"I'm a network designer.I work on TOPPERS SmallestSetProfile Kernel,MISRA-C, STARC RTL Design StyleGuide (Verilog-HDL),HAZOP,ISO/IEC15504(AutomotiveSPICE),ISO26262. I was an editor on ISO/IEC 15504.","facebook_id":"kaizen.nagoya","followees_count":61076,"followers_count":3217,"github_login_name":"kaizen-nagoya","id":"kaizen_nagoya","items_count":1926,"linkedin_id":"kiyoshi-ogawa","location":"Aichi, Japan","name":"Dr. Kiyoshi Ogawa","organization":"NMIRI","permanent_id":51423,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/51423/profile-images/1535439333","team_only":false,"twitter_screen_name":"kaizen_nagoya","website_url":"https://researchmap.jp/joakum54g-1787586/"},"page_views_count":null},{"rendered_body":"\u003cp\u003e前回に引き続きクイズアプリを作っていきます。\u003c/p\u003e\n\n\u003cp\u003e前回タイトル画面を作成したので、今回ゲーム内の画面を作っていきます。\u003cbr\u003e\nイメージしている画面と処理フローは下記のような感じです。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"画面構成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%94%BB%E9%9D%A2%E6%A7%8B%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e画面構成\u003c/h4\u003e\n\n\u003cp\u003e前回、横長でタイトル画面を作成しましたが、やはりスマホで遊ぶことを前提にしたので、\u003cbr\u003e\n縦長にしました。一旦500x800で作成。\u003c/p\u003e\n\n\u003cp\u003e↓画面\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/c97dae892f881b1d6f4faf8caaea9a441669821e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3432363535362f62303037386635342d633038382d323632352d363761312d6236343832356566336563362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/c97dae892f881b1d6f4faf8caaea9a441669821e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3432363535362f62303037386635342d633038382d323632352d363761312d6236343832356566336563362e706e67\" alt=\"quiz_image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/426556/b0078f54-c088-2625-67a1-b64825ef3ec6.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"処理フロー\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%87%A6%E7%90%86%E3%83%95%E3%83%AD%E3%83%BC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e処理フロー\u003c/h4\u003e\n\n\u003cp\u003e非常に一般的な処理フローかなと思います。\u003cbr\u003e\n↓処理フロー\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/2ff29c077d54e5f826ed326734ac17f7080cec88/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3432363535362f33616164316231372d623633362d656336362d613137312d6236376162656430366561382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/2ff29c077d54e5f826ed326734ac17f7080cec88/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3432363535362f33616164316231372d623633362d656336362d613137312d6236376162656430366561382e706e67\" alt=\"quiz_flow2.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/426556/3aad1b17-b636-ec66-a171-b67abed06ea8.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"code-it\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#code-it\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eCode it.\u003c/h4\u003e\n\n\u003cp\u003eまだ模索中なので、随時タッチイベントの処理は変えるかもしれません。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"画面の切り替え\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%94%BB%E9%9D%A2%E3%81%AE%E5%88%87%E3%82%8A%E6%9B%BF%E3%81%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e画面の切り替え(?)\u003c/h4\u003e\n\n\u003cp\u003e本来ならばちゃんとシーンを切り替えようの実装をしたほうがよいが、PIXIでのシーン切り替えのベストメソッドがわからないかつ\u003cbr\u003e\nそんなにシーンが切り替わる仕様ではないので、切り替えの瞬間はオブジェクトを全削除して、同じstage?で再配置するようにしました。\u003c/p\u003e\n\n\u003cp\u003eremoveAll（？）とかいう関数があったがなぜか動かないので、今のところはいったんループ回して対応。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"JavaScript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e    \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003edestroySceneObjects\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"c1\"\u003e//要素全削除　removeChildrenAllとかつかえないポイ。\u003c/span\u003e\n      \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eapp\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003estage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003echildren\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elength\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"nx\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"nx\"\u003ei\u003c/span\u003e\u003cspan class=\"o\"\u003e--\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nx\"\u003eapp\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003estage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eremoveChildAt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eタイトルクリック時の処理\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"JavaScript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e    \u003cspan class=\"nx\"\u003ebutton\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eon\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'click'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//alert('button clicked');\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//一旦部品をすべて除去\u003c/span\u003e\n        \u003cspan class=\"nx\"\u003edestroySceneObjects\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"nx\"\u003egameScene\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003egameSceneにメイン画面で使うスプライトたちをいれこんでいく。今日はまず金の斧(=QuestionImage)を配置してみる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"JavaScript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e    \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003egameScene\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"すたーと\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003esetQuestionImage\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003econtainer\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"メイン画面におくスプライトたち\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%A1%E3%82%A4%E3%83%B3%E7%94%BB%E9%9D%A2%E3%81%AB%E3%81%8A%E3%81%8F%E3%82%B9%E3%83%97%E3%83%A9%E3%82%A4%E3%83%88%E3%81%9F%E3%81%A1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eメイン画面におくスプライトたち\u003c/h4\u003e\n\n\u003cp\u003e今回は金の斧のイメージのみおく。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"JavaScript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e    \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003esetQuestionImage\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003econtainer\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n      \u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003equiz_texture\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ePIXI\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eTexture\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003efrom\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'img/quiz_img.png'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n      \u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003equestionImage\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003ePIXI\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eSprite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003equiz_texture\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003equestionImage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eanchor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.5\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003equestionImage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eanchor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ey\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.5\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n      \u003cspan class=\"c1\"\u003e//配置は直感できめている。\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003equestionImage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eposition\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eapp\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003escreen\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ewidth\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"nx\"\u003equestionImage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ewidth\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003equestionImage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eposition\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ey\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e300\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"nx\"\u003equestionImage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eheight\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003etouchQuestionImage\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003equestionImage\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003eapp\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003estage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eaddChild\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003equestionImage\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eタッチイベントたち\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"JavaScript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e    \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003etouchQuestionImage\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003equestionImage\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003equestionImage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003einteractive\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003equestionImage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ebuttonMode\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n      \u003cspan class=\"nx\"\u003equestionImage\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eon\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'mousedown'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eonDragStart\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eon\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'touchstart'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eonDragStart\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// ドロップ（ドラッグを終了）\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eon\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'mouseup'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eonDragEnd\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eon\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'mouseupoutside'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eonDragEnd\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eon\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'touchend'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eonDragEnd\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eon\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'touchendoutside'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eonDragEnd\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// ドラッグ中\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eon\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'mousemove'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eonDragMove\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eon\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'touchmove'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eonDragMove\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n      \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003eonDragStart\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ealpha\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.5\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edragging\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003eonDragEnd\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ealpha\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edragging\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003efalse\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// set the interaction data to null\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003enull\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e// 判定\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eposition\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e280\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003ealert\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"〇の方向\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"nx\"\u003enextQuestion\u003c/span\u003e\u003cspan class=\"p\"\u003e();}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eposition\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e180\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003ealert\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"×の方向\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"nx\"\u003enextQuestion\u003c/span\u003e\u003cspan class=\"p\"\u003e();}\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003eonDragMove\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edragging\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n          \u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003enewPosition\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003egetLocalPosition\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eparent\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n          \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eposition\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003enewPosition\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e\n          \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eposition\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ey\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003enewPosition\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ey\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003eonButtonOver\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eisOver\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eisdown\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n          \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etexture\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003etextureButtonOver\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n","body":"前回に引き続きクイズアプリを作っていきます。\n\n\n前回タイトル画面を作成したので、今回ゲーム内の画面を作っていきます。\nイメージしている画面と処理フローは下記のような感じです。\n\n####画面構成\n前回、横長でタイトル画面を作成しましたが、やはりスマホで遊ぶことを前提にしたので、\n縦長にしました。一旦500x800で作成。\n\n↓画面\n![quiz_image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/426556/b0078f54-c088-2625-67a1-b64825ef3ec6.png)\n\n\n####処理フロー\n非常に一般的な処理フローかなと思います。\n↓処理フロー\n![quiz_flow2.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/426556/3aad1b17-b636-ec66-a171-b67abed06ea8.png)\n\n####Code it.\nまだ模索中なので、随時タッチイベントの処理は変えるかもしれません。\n\n####画面の切り替え(?)\n本来ならばちゃんとシーンを切り替えようの実装をしたほうがよいが、PIXIでのシーン切り替えのベストメソッドがわからないかつ\nそんなにシーンが切り替わる仕様ではないので、切り替えの瞬間はオブジェクトを全削除して、同じstage?で再配置するようにしました。\n\nremoveAll（？）とかいう関数があったがなぜか動かないので、今のところはいったんループ回して対応。\n\n```JavaScript\n    function destroySceneObjects() {\n      //要素全削除　removeChildrenAllとかつかえないポイ。\n      for (var i = app.stage.children.length - 1; i \u003e= 0; i--) {\n        app.stage.removeChildAt(i);\n      }\n    }\n```\n\nタイトルクリック時の処理\n\n```JavaScript\n    button\n      .on('click', function () {\n        //alert('button clicked');\n        //一旦部品をすべて除去\n        destroySceneObjects();\n        gameScene();\n      })\n```\n\ngameSceneにメイン画面で使うスプライトたちをいれこんでいく。今日はまず金の斧(=QuestionImage)を配置してみる。\n\n```JavaScript\n    function gameScene() {\n      console.log(\"すたーと\");\n      setQuestionImage(container);\n    }\n```\n\n####メイン画面におくスプライトたち\n今回は金の斧のイメージのみおく。\n\n```JavaScript\n    function setQuestionImage(container) {\n\n      var quiz_texture = PIXI.Texture.from('img/quiz_img.png');\n      var questionImage = new PIXI.Sprite(quiz_texture);\n      questionImage.anchor.x = 0.5;\n      questionImage.anchor.y = 0.5;\n      //配置は直感できめている。\n      questionImage.position.x = app.screen.width / 2 - questionImage.width / 2;\n      questionImage.position.y = 300 + questionImage.height / 2;\n      touchQuestionImage(questionImage);\n      app.stage.addChild(questionImage);\n    }\n```\n\nタッチイベントたち\n\n```JavaScript\n    function touchQuestionImage(questionImage) {\n      questionImage.interactive = true;\n      questionImage.buttonMode = true;\n\n      questionImage\n        .on('mousedown', onDragStart)\n        .on('touchstart', onDragStart)\n        // ドロップ（ドラッグを終了）\n        .on('mouseup', onDragEnd)\n        .on('mouseupoutside', onDragEnd)\n        .on('touchend', onDragEnd)\n        .on('touchendoutside', onDragEnd)\n        // ドラッグ中\n        .on('mousemove', onDragMove)\n        .on('touchmove', onDragMove)\n\n      function onDragStart(event) {\n        this.data = event.data\n        this.alpha = 0.5\n        this.dragging = true\n      }\n      function onDragEnd() {\n        this.alpha = 1\n        this.dragging = false\n        // set the interaction data to null\n        this.data = null\n\n        // 判定\n        if (this.position.x \u003e 280) { alert(\"〇の方向\"); nextQuestion();}\n        if (this.position.x \u003c 180) { alert(\"×の方向\"); nextQuestion();}\n      }\n      function onDragMove() {\n        if (this.dragging) {\n          var newPosition = this.data.getLocalPosition(this.parent)\n          this.position.x = newPosition.x\n          this.position.y = newPosition.y\n        }\n      }\n      function onButtonOver() {\n        this.isOver = true;\n        if (this.isdown) {\n          return;\n        }\n        this.texture = textureButtonOver;\n      }\n    }\n```\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:11:56+09:00","group":null,"id":"9e12edd660d2d119ab41","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"JavaScript","versions":[]},{"name":"WebGL","versions":[]},{"name":"pixis.js","versions":[]}],"title":"Pixi.jsでつくるスワイプスタイルのクイズアプリ[その2]","updated_at":"2019-07-09T20:15:19+09:00","url":"https://qiita.com/ta2roo/items/9e12edd660d2d119ab41","user":{"description":"","facebook_id":"","followees_count":2,"followers_count":4,"github_login_name":null,"id":"ta2roo","items_count":20,"linkedin_id":"","location":"","name":"Tatsuru Iwamoto","organization":"イングリッシュブートキャンプ株式会社","permanent_id":426556,"profile_image_url":"https://secure.gravatar.com/avatar/a9a9984065b266f9127f003e979258bc","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch2\u003e\n\u003cspan id=\"前提\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%89%8D%E6%8F%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e前提\u003c/h2\u003e\n\n\u003cp\u003ezip圧縮されたシェープファイル群（.shp, .shx, .dbf）を、GeoJson形式で出力する関数です。\u003cbr\u003e\n当然、シェープファイル群のファイル名が共通している必要があります。\u003cbr\u003e\nまた、.geojsonファイルを出力するのではなく、メモリ上で処理します。\u003cbr\u003e\n事前にpyshp(shapefile)が必要になります。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"コード\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%BC%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコード\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003eshapefile\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eio\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ezipfile\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e#zipファイルからshpファイルを探してファイル名を取得\u003c/span\u003e\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003efind_shpfile_inzip\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ezipped_shp\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ezip_infolist\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ezipped_shp\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003einfolist\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003einfo\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003ezip_infolist\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"n\"\u003einfo\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efilename\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estartswith\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e'__MACOSX/'\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e \u003cspan class=\"c\"\u003e#Mac-ZIP対応\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003einfo\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efilename\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eendswith\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e'.shp'\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003einfo\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efilename\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eまずこのように、zip圧縮されたshapefileのファイル名を取得する関数を定義します。\u003cbr\u003e\nこの関数を用いて\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"c\"\u003e#ZIP保存されたSHP群をGEOJSON形式で返す\u003c/span\u003e\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003ezipped_shp_to_geojson\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ezipped_shp\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ezipped_files\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ezipfile\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eZipFile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ezipped_shp\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"c\"\u003e#zipファイルからshpファイルを探してファイル名を取得\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eshp_name\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003efind_shpfile_inzip\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ezipped_files\u003c/span\u003e\u003cspan class=\"p\"\u003e)[:\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\n    \u003cspan class=\"c\"\u003e#shapefile読み込みと適合判定\u003c/span\u003e\n    \u003cspan class=\"k\"\u003etry\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eshp_file_bytes\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ezipped_files\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eread\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eshp_name\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e'.shp'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eshx_file_bytes\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ezipped_files\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eread\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eshp_name\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e'.shx'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003edbf_file_bytes\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ezipped_files\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eread\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eshp_name\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e'.dbf'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eexcept\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Imported file was not apropriate Shape-Zip-File.\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"bp\"\u003eNone\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003egeojson\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003edict\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003etype\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"FeatureCollection\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003efeatures\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e[])\u003c/span\u003e\n    \u003cspan class=\"c\"\u003e#pyshpはライブラリ内部でデコードするので、正しいエンコーディングでデコード出来るまでループ\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ecodec\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eCODECS\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003etry\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ereader\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eshapefile\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eReader\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eshp\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eio\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBytesIO\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eshp_file_bytes\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n                                        \u003cspan class=\"n\"\u003eshx\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eio\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBytesIO\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eshx_file_bytes\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n                                        \u003cspan class=\"n\"\u003edbf\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eio\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBytesIO\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edbf_file_bytes\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\u003cspan class=\"n\"\u003eencoding\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003ecodec\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003efields\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ereader\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efields\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e:]\u003c/span\u003e\n            \u003cspan class=\"n\"\u003efield_names\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003efield\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003efield\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003efields\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n            \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003esr\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003ereader\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eshapeRecords\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eatr\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003edict\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003ezip\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efield_names\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esr\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erecord\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n                \u003cspan class=\"n\"\u003egeom\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esr\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eshape\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e__geo_interface__\u003c/span\u003e\n                \u003cspan class=\"n\"\u003egeojson\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e'features'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eappend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003edict\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003etype\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Feature\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \\\n                 \u003cspan class=\"n\"\u003egeometry\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003egeom\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eproperties\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eatr\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecodec\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e'encoding is correct.'\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eexcept\u003c/span\u003e \u003cspan class=\"nb\"\u003eUnicodeDecodeError\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecodec\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e'is not suitable for this file.'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003econtinue\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003egeojson\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれでgeojsonに変換されます。\u003cbr\u003e\nエンコーディングについてはコメントのとおりです。pyshpではデフォルトだとUTF-8でデコードされますが、オープンデータで提供されるシェープファイルは、大半がcp932（Windows環境のShift-JIS）です。エンコーディングの指定が間違っているとUnicode errorが発生します。それならcp932を指定してデコードすれば良いのでは、と考えますが、当然ながらUTF-8等にも対応しておきたいところです。したがって、メジャーなエンコーディングのなかから適合するまでデコードし続けるようになっています（このモジュールの冒頭で、CODECS定数を定義してある）。\u003c/p\u003e\n","body":"##前提\nzip圧縮されたシェープファイル群（.shp, .shx, .dbf）を、GeoJson形式で出力する関数です。\n当然、シェープファイル群のファイル名が共通している必要があります。\nまた、.geojsonファイルを出力するのではなく、メモリ上で処理します。\n事前にpyshp(shapefile)が必要になります。\n\n##コード\n\n```python\nimport shapefile, io, zipfile\n\n#zipファイルからshpファイルを探してファイル名を取得\ndef find_shpfile_inzip(zipped_shp):\n\tzip_infolist = zipped_shp.infolist()\n\tfor info in zip_infolist:\n\t\tif not info.filename.startswith('__MACOSX/'): #Mac-ZIP対応\n\t\t\tif info.filename.endswith('.shp'):\n\t\t\t\treturn info.filename\n```\n\nまずこのように、zip圧縮されたshapefileのファイル名を取得する関数を定義します。\nこの関数を用いて\n\n```python\n#ZIP保存されたSHP群をGEOJSON形式で返す\ndef zipped_shp_to_geojson(zipped_shp):\n\tzipped_files = zipfile.ZipFile(zipped_shp)\n\n\t#zipファイルからshpファイルを探してファイル名を取得\n\tshp_name = find_shpfile_inzip(zipped_files)[:-4]\n\n\t#shapefile読み込みと適合判定\n\ttry:\n\t\tshp_file_bytes = zipped_files.read(shp_name + '.shp')\n\t\tshx_file_bytes = zipped_files.read(shp_name + '.shx')\n\t\tdbf_file_bytes = zipped_files.read(shp_name + '.dbf')\n\texcept:\n\t\tprint(\"Imported file was not apropriate Shape-Zip-File.\")\n\t\treturn None\n\n\tgeojson = dict(type=\"FeatureCollection\", features=[])\n\t#pyshpはライブラリ内部でデコードするので、正しいエンコーディングでデコード出来るまでループ\n\tfor codec in CODECS:\n\t\ttry:\n\t\t\treader = shapefile.Reader(shp=io.BytesIO(shp_file_bytes),\n\t\t\t\t\t                    shx=io.BytesIO(shx_file_bytes),\n\t\t\t\t\t                    dbf=io.BytesIO(dbf_file_bytes),encoding=codec)\n\n\t\t\tfields = reader.fields[1:]\n\t\t\tfield_names = [field[0] for field in fields]\n\t\t\tfor sr in reader.shapeRecords():\n\t\t\t\tatr = dict(zip(field_names, sr.record))\n\t\t\t\tgeom = sr.shape.__geo_interface__\n\t\t\t\tgeojson['features'].append(dict(type=\"Feature\", \\\n\t\t\t\t geometry=geom, properties=atr))\n\t\t\tprint(codec + 'encoding is correct.' )\n\t\t\tbreak\n\t\texcept UnicodeDecodeError:\n\t\t\tprint(codec + 'is not suitable for this file.')\n\t\t\tcontinue\n\treturn geojson\n```\n\nこれでgeojsonに変換されます。\nエンコーディングについてはコメントのとおりです。pyshpではデフォルトだとUTF-8でデコードされますが、オープンデータで提供されるシェープファイルは、大半がcp932（Windows環境のShift-JIS）です。エンコーディングの指定が間違っているとUnicode errorが発生します。それならcp932を指定してデコードすれば良いのでは、と考えますが、当然ながらUTF-8等にも対応しておきたいところです。したがって、メジャーなエンコーディングのなかから適合するまでデコードし続けるようになっています（このモジュールの冒頭で、CODECS定数を定義してある）。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:11:28+09:00","group":null,"id":"816611dc7ceccbd11d05","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"Python","versions":[]},{"name":"GIS","versions":[]},{"name":"geojson","versions":[]},{"name":"shapefile","versions":[]}],"title":"シェープファイルをGeoJSON形式に変換する","updated_at":"2019-07-09T20:11:28+09:00","url":"https://qiita.com/kigchi999/items/816611dc7ceccbd11d05","user":{"description":"個人で色々開発しています。業務経験ゼロです。","facebook_id":"","followees_count":0,"followers_count":2,"github_login_name":null,"id":"kigchi999","items_count":12,"linkedin_id":"","location":"hokkaido","name":"Iguchi Kanahiro","organization":"","permanent_id":73197,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/73197/profile-images/1557331957","team_only":false,"twitter_screen_name":"kigchi999","website_url":"https://www.labo288.site"},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"コード例\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%BC%E3%83%89%E4%BE%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコード例\u003c/h1\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"go\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"x\"\u003e    \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSet\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"gorm:table_options\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"CHARSET=utf8mb4\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAutoMigrate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003eentity\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUser\u003c/span\u003e\u003cspan class=\"p\"\u003e{})\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eSet関数に渡してあげる感じ\u003c/p\u003e\n","body":"\n# コード例\n```go\n    db.Set(\"gorm:table_options\", \"CHARSET=utf8mb4\").AutoMigrate(\u0026entity.User{})\n```\n\n\nSet関数に渡してあげる感じ\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:11:25+09:00","group":null,"id":"0ad15ea0306d51d31edc","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Go","versions":[]},{"name":"GORM","versions":[]}],"title":"gorm：マイグレーションでテーブルのエンコードを指定する方法","updated_at":"2019-07-09T20:11:25+09:00","url":"https://qiita.com/k-shimoji/items/0ad15ea0306d51d31edc","user":{"description":"メンターがほしい","facebook_id":"","followees_count":8,"followers_count":11,"github_login_name":null,"id":"k-shimoji","items_count":51,"linkedin_id":"","location":"","name":"k shimoji","organization":"","permanent_id":107536,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/107536/profile-images/1512628736","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003elaradockでlaravel環境を作る手順書です。\u003cbr\u003e\n単純に動かすだけの手順でなく、下記点を含んでいます。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003elaradockで２つ目の環境を構築する時に困らないための設定事項\u003c/li\u003e\n\u003cli\u003e設定しておくと開発時に多少楽になるための設定事項\u003c/li\u003e\n\u003cli\u003e嵌った点の備忘録\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"前提環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%89%8D%E6%8F%90%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e前提環境\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003edocker-composeが使用できること\n\n\u003cul\u003e\n\u003cli\u003ewindowsの場合Windows10 Proであること\u003c/li\u003e\n\u003cli\u003edocker-composeがインストールされていること\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eターミナルを使用できること\n\n\u003cul\u003e\n\u003cli\u003ewindowsの場合gitbashやpower shell推奨\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e海外のCDNサーバにブロックされていたりしないこと\n\n\u003cul\u003e\n\u003cli\u003e短期間に環境を作りまくったせいか一部サーバに一時的にブロックされたことがあります\u003c/li\u003e\n\u003cli\u003eこの場合ネットワークを変えることで解決したりします(ポケットwifi等)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e2018年以前に取得したlaradockを使用しないこと\n\n\u003cul\u003e\n\u003cli\u003elaradockの使用しているdocker-compose.ymlがv2である可能性があります\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"完成形\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%8C%E6%88%90%E5%BD%A2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e完成形\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"サーバ構成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B5%E3%83%BC%E3%83%90%E6%A7%8B%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eサーバ構成\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003enginx\n\n\u003cul\u003e\n\u003cli\u003e+ php-fpm\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003emysql\u003c/li\u003e\n\u003cli\u003eredis\u003c/li\u003e\n\u003cli\u003eAPサーバ(workspace)\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ディレクトリ構成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E6%A7%8B%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eディレクトリ構成\u003c/h3\u003e\n\n\u003cp\u003elaradockとプロジェクトディレクトリ(laravel)を同階層に置く想定です\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003emy_project\n├── laravel\n│   ├── app\n│   ├── bootstrap\n│   ├── config\n│   └ ...\n└── laradock\n    ├── adminer\n    ├── aerospike\n    └ ...\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"手順\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%89%8B%E9%A0%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e手順\u003c/h1\u003e\n\n\u003col\u003e\n\u003cli\u003elaradock取得\u003c/li\u003e\n\u003cli\u003elaradockの設定ファイル修正\u003c/li\u003e\n\u003cli\u003elaradockビルド・アクセス\u003c/li\u003e\n\u003cli\u003elaravelインストール・yarnインストール\u003c/li\u003e\n\u003cli\u003elaravel設定ファイル修正\u003c/li\u003e\n\u003cli\u003eブラウザアクセス\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"1laradock取得\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1laradock%E5%8F%96%E5%BE%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.laradock取得\u003c/h2\u003e\n\n\u003cp\u003e適当な場所にプロジェクト用ディレクトリを作成し、laradockをダウンロード\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003emkdir ~/my_project\ncd ~/my_project\ngit clone https://github.com/Laradock/laradock.git\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"2laradockの設定ファイル修正\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2laradock%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E4%BF%AE%E6%AD%A3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2.laradockの設定ファイル修正\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e設定ファイルの作成\n\n\u003cul\u003e\n\u003cli\u003e.env作成\u003c/li\u003e\n\u003cli\u003ecreatedb.sql作成\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"bash\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nb\"\u003ecd\u003c/span\u003e ./laradock\n\u003cspan class=\"nb\"\u003ecp\u003c/span\u003e \u003cspan class=\"nt\"\u003e-a\u003c/span\u003e ./env-example ./.env\n\u003cspan class=\"nb\"\u003ecp\u003c/span\u003e \u003cspan class=\"nt\"\u003e-a\u003c/span\u003e ./mysql/docker-entrypoint-initdb.d/createdb.sql.example ./mysql/docker-entrypoint-initdb.d/createdb.sql\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cul\u003e\n\u003cli\u003e下記ファイルを修正\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"diff\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e.env\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"gi\"\u003e+ APP_CODE_PATH_HOST=../laravel/\n\u003c/span\u003e\u003cspan class=\"gd\"\u003e- APP_CODE_PATH_HOST=../\n\u003c/span\u003e\n\u003cspan class=\"gi\"\u003e+ APP_CODE_PATH_CONTAINER=/var/www/laravel/\n\u003c/span\u003e\u003cspan class=\"gd\"\u003e- APP_CODE_PATH_CONTAINER=/var/www/\n\u003c/span\u003e\n//mysql等のデータ本体の置き場所。これを修正しておかないと未来で困る。\n\u003cspan class=\"gi\"\u003e+ DATA_PATH_HOST=~/.laradock/my_project/data\n\u003c/span\u003e\u003cspan class=\"gd\"\u003e- DATA_PATH_HOST=~/.laradock/data\n\u003c/span\u003e\n//コンテナ区別用prefix。これを修正しておかないと未来で困る。\n\u003cspan class=\"gi\"\u003e+ COMPOSE_PROJECT_NAME=my_project-laradock\n\u003c/span\u003e\u003cspan class=\"gd\"\u003e- COMPOSE_PROJECT_NAME=laradock\n\u003c/span\u003e\n\u003cspan class=\"gi\"\u003e+ PHP_VERSION=7.3\n\u003c/span\u003e\u003cspan class=\"gd\"\u003e- PHP_VERSION=7.2\n\u003c/span\u003e\n//laravelがmysql8.0を使うにはユーザ設定に追加で修正が必要なため5系を指定\n\u003cspan class=\"gi\"\u003e+ MYSQL_VERSION=5.7\n\u003c/span\u003e\u003cspan class=\"gd\"\u003e- MYSQL_VERSION=latest\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"diff\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e/nginx/sites/default.conf\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"gi\"\u003e+ server_name dev.my_project.com;\n\u003c/span\u003e\u003cspan class=\"gd\"\u003e- server_name localhost;\n\u003c/span\u003e\n\u003cspan class=\"gi\"\u003e+ root /var/www/laravel/public;\n\u003c/span\u003e\u003cspan class=\"gd\"\u003e- root /var/www/public;\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"diff\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e/mysql/docker-entrypoint-initdb.d/createdb.sql\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"gi\"\u003e+ CREATE DATABASE IF NOT EXISTS `project_db` COLLATE 'utf8_general_ci' ;\n+ GRANT ALL ON `project_db`.* TO 'default'@'%' ;\n\u003c/span\u003e\u003cspan class=\"gd\"\u003e- #CREATE DATABASE IF NOT EXISTS `dev_db_1` COLLATE 'utf8_general_ci' ;\n- #GRANT ALL ON `dev_db_1`.* TO 'default'@'%' ;\n\u003c/span\u003e\n// テスト用DB作成(ユーザは使いまわす想定)\n\u003cspan class=\"gi\"\u003e+ CREATE DATABASE IF NOT EXISTS `test` COLLATE 'utf8_general_ci' ;\n+ GRANT ALL ON `test`.* TO 'default'@'%' ;\n\u003c/span\u003e\u003cspan class=\"gd\"\u003e- #CREATE DATABASE IF NOT EXISTS `dev_db_2` COLLATE 'utf8_general_ci' ;\n- #GRANT ALL ON `dev_db_2`.* TO 'default'@'%' ;\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"3-laradockビルドアクセス\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-laradock%E3%83%93%E3%83%AB%E3%83%89%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. laradockビルド・アクセス\u003c/h2\u003e\n\n\u003cp\u003e下記コマンドを実行し、サーバを構築・ビルド\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"bash\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nb\"\u003ecd\u003c/span\u003e ~/my_project/laradock\ndocker-compose build workspace nginx mysql redis\ndocker-compose up \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e nginx mysql redis\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e下記コマンドでworkspaceサーバへアクセス\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"bash\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003edocker-compose \u003cspan class=\"nb\"\u003eexec\u003c/span\u003e \u003cspan class=\"nt\"\u003e--user\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003elaradock workspace bash\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"4-laravelインストールyarnインストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#4-laravel%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AByarn%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e4. laravelインストール・yarnインストール\u003c/h2\u003e\n\n\u003cp\u003eworkspaceサーバ内で下記コマンド実行\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"bash\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003elaradock@~~~~:/var/www\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecomposer create-project laravel/laravel \u003cspan class=\"nt\"\u003e--prefer-dist\u003c/span\u003e\nlaradock@~~~~:/var/www\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003ecd \u003c/span\u003elaravel\nlaradock@~~~~:/var/www/laravel\u003cspan class=\"nv\"\u003e$ \u003c/span\u003eyarn \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"5-laravel設定ファイル修正\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#5-laravel%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E4%BF%AE%E6%AD%A3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e5. laravel設定ファイル修正\u003c/h2\u003e\n\n\u003cp\u003e.envを修正\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"diff\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e.env\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"gi\"\u003e+ DB_HOST=mysql\n\u003c/span\u003e\u003cspan class=\"gd\"\u003e- DB_HOST=127.0.0.1\n\u003c/span\u003e\u003cspan class=\"gi\"\u003e+ DB_DATABASE=project_db\n\u003c/span\u003e\u003cspan class=\"gd\"\u003e- DB_DATABASE=default\n\u003c/span\u003e\u003cspan class=\"gi\"\u003e+ DB_USERNAME=default\n\u003c/span\u003e\u003cspan class=\"gd\"\u003e- DB_USERNAME=homestead\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"6-ブラウザアクセス\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#6-%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e6. ブラウザアクセス\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"hostsの修正\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#hosts%E3%81%AE%E4%BF%AE%E6%AD%A3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ehostsの修正\u003c/h3\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"windowsの場合\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#windows%E3%81%AE%E5%A0%B4%E5%90%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ewindowsの場合\u003c/h4\u003e\n\n\u003cp\u003eメモ帳を管理者で実行し、下記ファイルを修正\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"diff\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eC\\Windows\\System32\\drivers\\etc\\hosts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"gi\"\u003e+ 127.0.0.1       dev.my_project.com\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"macの場合\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#mac%E3%81%AE%E5%A0%B4%E5%90%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003emacの場合\u003c/h4\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"diff\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e/private/etc/hosts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"gi\"\u003e+ 127.0.0.1       dev.my_project.com\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003chr\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ブラウザアクセス\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eブラウザアクセス\u003c/h3\u003e\n\n\u003cp\u003eブラウザを開き、\u003ca href=\"http://dev.my_project.com\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://dev.my_project.com\u003c/a\u003e へアクセス\u003cbr\u003e\nlaravelが表示されていれば完了です！ \u003cimg alt=\":smiley:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f603.png\" title=\":smiley:\" width=\"20\"\u003e \u003c/p\u003e\n\n\u003chr\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"おまけ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%8A%E3%81%BE%E3%81%91\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eおまけ\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"ありがちな失敗\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%82%E3%82%8A%E3%81%8C%E3%81%A1%E3%81%AA%E5%A4%B1%E6%95%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eありがちな失敗\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"docker-compose-buildに失敗する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#docker-compose-build%E3%81%AB%E5%A4%B1%E6%95%97%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003edocker-compose buildに失敗する\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003enpm ERR! code EAI_AGAIN\nnpm ERR! errno EAI_AGAIN\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e上記のようなエラーが発生した場合、時間をおいて再ビルドすれば直ることがあります。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"docker-compose-up時にmysqlが起動しない\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#docker-compose-up%E6%99%82%E3%81%ABmysql%E3%81%8C%E8%B5%B7%E5%8B%95%E3%81%97%E3%81%AA%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003edocker-compose up時にmysqlが起動しない\u003c/h3\u003e\n\n\u003cp\u003e既にlaradockでプロジェクトを立ち上げたことがある場合、\u003cbr\u003e\nそのプロジェクトとDATA_PATH_HOSTの場所被った場合立ち上げに失敗します。\u003c/p\u003e\n\n\u003cp\u003eDATA_PATH_HOSTを変えビルドしなおし(docker-compose build --no-cache mysql)をしたり、\u003cbr\u003e\n既存のDATA_PATH_HOSTの中身を削除したりしてみてください。\u003cbr\u003e\n(削除して大丈夫かはご自身でご判断ください)\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"docker-compose-upが全体的に失敗する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#docker-compose-up%E3%81%8C%E5%85%A8%E4%BD%93%E7%9A%84%E3%81%AB%E5%A4%B1%E6%95%97%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003edocker-compose upが全体的に失敗する\u003c/h3\u003e\n\n\u003cp\u003e過去にdocker等で仮想イメージを作ったことがある場合、\u003cbr\u003e\n既存のものとポートが被ったりすることが多々あります。\u003c/p\u003e\n\n\u003cp\u003eworkspace, nginx, mysql, redisのポートをずらしたりdockerを再起動したりビルドしなおしたり色々試してください。\u003cbr\u003e\n＊特に2018年までのlaradockにはCOMPOSE_PROJECT_NAMEの設定が無いため、コンテナ名が被ります\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"mysqlを誤って80で作成してしまった\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#mysql%E3%82%92%E8%AA%A4%E3%81%A3%E3%81%A680%E3%81%A7%E4%BD%9C%E6%88%90%E3%81%97%E3%81%A6%E3%81%97%E3%81%BE%E3%81%A3%E3%81%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003emysqlを誤って8.0で作成してしまった\u003c/h3\u003e\n\n\u003cp\u003elaravelは最新版でもmysql8.0標準の暗号化方法(caching_sha2_password)をサポートしていません。(2019/6/28現在)\u003cbr\u003e\nmysql8.0を作成してしまい、そこで作ってしまったユーザでログインしたい場合、\u003cbr\u003e\n下記のようなsqlによりパスワード設定を更新してください。\u003c/p\u003e\n\n\u003cp\u003eユーザ:'default'を、パスワード:'secret'で更新\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"sql\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"k\"\u003eALTER\u003c/span\u003e \u003cspan class=\"k\"\u003eUSER\u003c/span\u003e \u003cspan class=\"s1\"\u003e'default'\u003c/span\u003e \u003cspan class=\"n\"\u003eIDENTIFIED\u003c/span\u003e \u003cspan class=\"k\"\u003eWITH\u003c/span\u003e \u003cspan class=\"n\"\u003emysql_native_password\u003c/span\u003e \u003cspan class=\"k\"\u003eBY\u003c/span\u003e \u003cspan class=\"s1\"\u003e'secret'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"qa\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#qa\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eQ.A\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"php54は使えないのか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#php54%E3%81%AF%E4%BD%BF%E3%81%88%E3%81%AA%E3%81%84%E3%81%AE%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ephp5.4は使えないのか？\u003c/h3\u003e\n\n\u003cp\u003e使えません。5.6以上となります。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"windows10-homeでは使えないのか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#windows10-home%E3%81%A7%E3%81%AF%E4%BD%BF%E3%81%88%E3%81%AA%E3%81%84%E3%81%AE%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ewindows10 homeでは使えないのか？\u003c/h3\u003e\n\n\u003cp\u003e現在のところ使えません。\u003cbr\u003e\nどうしても使いたい人はWSL2でググると道があります。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"dbにつながるか確認したい\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#db%E3%81%AB%E3%81%A4%E3%81%AA%E3%81%8C%E3%82%8B%E3%81%8B%E7%A2%BA%E8%AA%8D%E3%81%97%E3%81%9F%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDBにつながるか確認したい\u003c/h3\u003e\n\n\u003cp\u003eworkspace内で下記コマンド打てばテーブル作成処理が走るので、試してみるといいと思います。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ cd /var/www/laravel/\n$ php artisan migrate\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e成功後は下記コマンドでだいたい元通りにできます\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ php artisan migrate:rollback\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n","body":"# はじめに\nlaradockでlaravel環境を作る手順書です。\n単純に動かすだけの手順でなく、下記点を含んでいます。\n\n* laradockで２つ目の環境を構築する時に困らないための設定事項\n* 設定しておくと開発時に多少楽になるための設定事項\n* 嵌った点の備忘録\n\n## 前提環境\n* docker-composeが使用できること\n    * windowsの場合Windows10 Proであること\n    * docker-composeがインストールされていること\n* ターミナルを使用できること\n    * windowsの場合gitbashやpower shell推奨\n* 海外のCDNサーバにブロックされていたりしないこと\n    * 短期間に環境を作りまくったせいか一部サーバに一時的にブロックされたことがあります\n    * この場合ネットワークを変えることで解決したりします(ポケットwifi等)\n* 2018年以前に取得したlaradockを使用しないこと\n    * laradockの使用しているdocker-compose.ymlがv2である可能性があります\n\n## 完成形\n### サーバ構成\n* nginx\n    * + php-fpm\n* mysql\n* redis\n* APサーバ(workspace)\n\n### ディレクトリ構成\nlaradockとプロジェクトディレクトリ(laravel)を同階層に置く想定です\n\n```\nmy_project\n├── laravel\n│   ├── app\n│   ├── bootstrap\n│   ├── config\n│   └ ...\n└── laradock\n    ├── adminer\n    ├── aerospike\n    └ ...\n```\n\n# 手順\n1. laradock取得\n2. laradockの設定ファイル修正\n3. laradockビルド・アクセス\n4. laravelインストール・yarnインストール\n5. laravel設定ファイル修正\n6. ブラウザアクセス\n\n## 1.laradock取得\n\n適当な場所にプロジェクト用ディレクトリを作成し、laradockをダウンロード\n\n```\nmkdir ~/my_project\ncd ~/my_project\ngit clone https://github.com/Laradock/laradock.git\n```\n\n## 2.laradockの設定ファイル修正\n* 設定ファイルの作成\n    * .env作成\n    * createdb.sql作成\n\n```bash\ncd ./laradock\ncp -a ./env-example ./.env\ncp -a ./mysql/docker-entrypoint-initdb.d/createdb.sql.example ./mysql/docker-entrypoint-initdb.d/createdb.sql\n```\n\n* 下記ファイルを修正\n\n```diff:.env\n+ APP_CODE_PATH_HOST=../laravel/\n- APP_CODE_PATH_HOST=../\n\n+ APP_CODE_PATH_CONTAINER=/var/www/laravel/\n- APP_CODE_PATH_CONTAINER=/var/www/\n\n//mysql等のデータ本体の置き場所。これを修正しておかないと未来で困る。\n+ DATA_PATH_HOST=~/.laradock/my_project/data\n- DATA_PATH_HOST=~/.laradock/data\n\n//コンテナ区別用prefix。これを修正しておかないと未来で困る。\n+ COMPOSE_PROJECT_NAME=my_project-laradock\n- COMPOSE_PROJECT_NAME=laradock\n\n+ PHP_VERSION=7.3\n- PHP_VERSION=7.2\n\n//laravelがmysql8.0を使うにはユーザ設定に追加で修正が必要なため5系を指定\n+ MYSQL_VERSION=5.7\n- MYSQL_VERSION=latest\n```\n\n\n```diff:/nginx/sites/default.conf\n+ server_name dev.my_project.com;\n- server_name localhost;\n\n+ root /var/www/laravel/public;\n- root /var/www/public;\n```\n\n```diff:/mysql/docker-entrypoint-initdb.d/createdb.sql\n+ CREATE DATABASE IF NOT EXISTS `project_db` COLLATE 'utf8_general_ci' ;\n+ GRANT ALL ON `project_db`.* TO 'default'@'%' ;\n- #CREATE DATABASE IF NOT EXISTS `dev_db_1` COLLATE 'utf8_general_ci' ;\n- #GRANT ALL ON `dev_db_1`.* TO 'default'@'%' ;\n\n// テスト用DB作成(ユーザは使いまわす想定)\n+ CREATE DATABASE IF NOT EXISTS `test` COLLATE 'utf8_general_ci' ;\n+ GRANT ALL ON `test`.* TO 'default'@'%' ;\n- #CREATE DATABASE IF NOT EXISTS `dev_db_2` COLLATE 'utf8_general_ci' ;\n- #GRANT ALL ON `dev_db_2`.* TO 'default'@'%' ;\n```\n\n## 3. laradockビルド・アクセス\n下記コマンドを実行し、サーバを構築・ビルド\n\n```bash\ncd ~/my_project/laradock\ndocker-compose build workspace nginx mysql redis\ndocker-compose up -d nginx mysql redis\n```\n\n下記コマンドでworkspaceサーバへアクセス\n\n```bash\ndocker-compose exec --user=laradock workspace bash\n```\n\n## 4. laravelインストール・yarnインストール\n\nworkspaceサーバ内で下記コマンド実行\n\n```bash\nlaradock@~~~~:/var/www$ composer create-project laravel/laravel --prefer-dist\nlaradock@~~~~:/var/www$ cd laravel\nlaradock@~~~~:/var/www/laravel$ yarn install\n```\n\n## 5. laravel設定ファイル修正\n\n.envを修正\n\n```diff:.env\n+ DB_HOST=mysql\n- DB_HOST=127.0.0.1\n+ DB_DATABASE=project_db\n- DB_DATABASE=default\n+ DB_USERNAME=default\n- DB_USERNAME=homestead\n```\n\n## 6. ブラウザアクセス\n\n### hostsの修正\n#### windowsの場合\n\nメモ帳を管理者で実行し、下記ファイルを修正\n\n```diff:C\\Windows\\System32\\drivers\\etc\\hosts\n+ 127.0.0.1       dev.my_project.com\n```\n\n#### macの場合\n```diff:/private/etc/hosts\n+ 127.0.0.1       dev.my_project.com\n```\n\n----\n\n### ブラウザアクセス\nブラウザを開き、http://dev.my_project.com へアクセス\nlaravelが表示されていれば完了です！ :smiley: \n\n\n----\n# おまけ\n## ありがちな失敗\n### docker-compose buildに失敗する\n```\nnpm ERR! code EAI_AGAIN\nnpm ERR! errno EAI_AGAIN\n```\n上記のようなエラーが発生した場合、時間をおいて再ビルドすれば直ることがあります。\n\n### docker-compose up時にmysqlが起動しない\n既にlaradockでプロジェクトを立ち上げたことがある場合、\nそのプロジェクトとDATA_PATH_HOSTの場所被った場合立ち上げに失敗します。\n\nDATA_PATH_HOSTを変えビルドしなおし(docker-compose build --no-cache mysql)をしたり、\n既存のDATA_PATH_HOSTの中身を削除したりしてみてください。\n(削除して大丈夫かはご自身でご判断ください)\n\n### docker-compose upが全体的に失敗する\n過去にdocker等で仮想イメージを作ったことがある場合、\n既存のものとポートが被ったりすることが多々あります。\n\nworkspace, nginx, mysql, redisのポートをずらしたりdockerを再起動したりビルドしなおしたり色々試してください。\n＊特に2018年までのlaradockにはCOMPOSE_PROJECT_NAMEの設定が無いため、コンテナ名が被ります\n\n### mysqlを誤って8.0で作成してしまった\n\nlaravelは最新版でもmysql8.0標準の暗号化方法(caching_sha2_password)をサポートしていません。(2019/6/28現在)\nmysql8.0を作成してしまい、そこで作ってしまったユーザでログインしたい場合、\n下記のようなsqlによりパスワード設定を更新してください。\n\nユーザ:'default'を、パスワード:'secret'で更新\n\n```sql\nALTER USER 'default' IDENTIFIED WITH mysql_native_password BY 'secret';\n```\n\n## Q.A\n### php5.4は使えないのか？\n使えません。5.6以上となります。\n\n### windows10 homeでは使えないのか？\n現在のところ使えません。\nどうしても使いたい人はWSL2でググると道があります。\n\n### DBにつながるか確認したい\n\nworkspace内で下記コマンド打てばテーブル作成処理が走るので、試してみるといいと思います。\n\n```\n$ cd /var/www/laravel/\n$ php artisan migrate\n```\n\n成功後は下記コマンドでだいたい元通りにできます\n\n```\n$ php artisan migrate:rollback\n```\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:07:10+09:00","group":null,"id":"b103861b75b69d706805","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"手順書","versions":[]},{"name":"Laravel","versions":[]},{"name":"dock","versions":[]},{"name":"LaraDock","versions":[]}],"title":"LaradockでLaravel環境構築【手順書】","updated_at":"2019-07-09T20:07:10+09:00","url":"https://qiita.com/harukei/items/b103861b75b69d706805","user":{"description":"","facebook_id":"","followees_count":5,"followers_count":3,"github_login_name":null,"id":"harukei","items_count":1,"linkedin_id":"","location":"","name":"はるけい","organization":"example","permanent_id":389892,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/389892/profile-images/1555925969","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"当方執筆の技術情報に関するライセンス免責事項禁止事項\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%BD%93%E6%96%B9%E5%9F%B7%E7%AD%86%E3%81%AE%E6%8A%80%E8%A1%93%E6%83%85%E5%A0%B1%E3%81%AB%E9%96%A2%E3%81%99%E3%82%8B%E3%83%A9%E3%82%A4%E3%82%BB%E3%83%B3%E3%82%B9%E5%85%8D%E8%B2%AC%E4%BA%8B%E9%A0%85%E7%A6%81%E6%AD%A2%E4%BA%8B%E9%A0%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ca href=\"https://qiita.com/EarthSimilarityIndex/items/6b9bb2ccacb38aae15b1\" id=\"reference-86a3777b30afca591479\"\u003e当方執筆の技術情報に関するライセンス、免責事項、禁止事項\u003c/a\u003e\n\u003c/h1\u003e\n\n\u003chr\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"執筆動機\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%9F%B7%E7%AD%86%E5%8B%95%E6%A9%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e執筆動機\u003c/h1\u003e\n\n\u003cp\u003elvm に関連する一連のコマンドラインツール群、及び eliloconfig を活用することで、そこそこシンプルに \u003ca href=\"https://ja.wikipedia.org/wiki/%E8%AB%96%E7%90%86%E3%83%9C%E3%83%AA%E3%83%A5%E3%83%BC%E3%83%A0%E3%83%9E%E3%83%8D%E3%83%BC%E3%82%B8%E3%83%A3\" rel=\"nofollow noopener\" target=\"_blank\"\u003eLVM\u003c/a\u003e 領域への Slackware のインストールが可能でした。\u003c/p\u003e\n\n\u003cp\u003e※ なお、\u003ca href=\"https://ja.wikipedia.org/wiki/EFI%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%83%91%E3%83%BC%E3%83%86%E3%82%A3%E3%82%B7%E3%83%A7%E3%83%B3\" rel=\"nofollow noopener\" target=\"_blank\"\u003eESP（ EFI システムパーティション）\u003c/a\u003eは LVM の中には置けないようです。\u003ca href=\"https://dic.pixiv.net/a/%E3%81%8A%E3%81%AE%E3%82%8C%E3%83%87%E3%82%A3%E3%82%B1%E3%82%A4%E3%83%89\" rel=\"nofollow noopener\" target=\"_blank\"\u003eおのれディケイドぉぉぉぉぉ！！\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考文献\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考文献：\u003c/h1\u003e\n\n\u003cp\u003e\u003cdetails\u003e\u003csummary\u003e参考文献：\u003c/summary\u003e\u003cdiv\u003e\n\n\u003cp\u003e\u003ca href=\"https://www.slackwiki.com/LVM/Luks_Encryption\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.slackwiki.com/LVM/Luks_Encryption\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://wa3.i-3-i.info/word25557.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://wa3.i-3-i.info/word25557.html\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://wa3.i-3-i.info/word12796.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://wa3.i-3-i.info/word12796.html\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://www.debian.org/releases/stable/i386/apcs04.ja.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.debian.org/releases/stable/i386/apcs04.ja.html\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://wiki.archlinux.jp/index.php/LVM\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://wiki.archlinux.jp/index.php/LVM\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://wiki.gentoo.org/wiki/LVM/ja\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://wiki.gentoo.org/wiki/LVM/ja\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://ansaikuropedia.org/wiki/Uncyclopedia:%E9%A6%AC%E9%B9%BF%E3%81%AB%E3%81%AA%E3%82%89%E3%81%9A%E3%81%AB%E3%83%90%E3%82%AB%E3%83%90%E3%82%AB%E3%81%97%E3%81%8F%E3%82%84%E3%82%8B%E6%96%B9%E6%B3%95\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://ansaikuropedia.org/wiki/Uncyclopedia:%E9%A6%AC%E9%B9%BF%E3%81%AB%E3%81%AA%E3%82%89%E3%81%9A%E3%81%AB%E3%83%90%E3%82%AB%E3%83%90%E3%82%AB%E3%81%97%E3%81%8F%E3%82%84%E3%82%8B%E6%96%B9%E6%B3%95\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://www.linuxquestions.org/questions/slackware-14/slackware-current-elilo-lvm-4175534140/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.linuxquestions.org/questions/slackware-14/slackware-current-elilo-lvm-4175534140/\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://www.slackware.com/~alien/archive/13.1/README_LVM.TXT\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://www.slackware.com/~alien/archive/13.1/README_LVM.TXT\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://docs.slackware.com/howtos:slackware_admin:set_up_syslinux_as_boot_loader_on_uefi_based_hardware\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://docs.slackware.com/howtos:slackware_admin:set_up_syslinux_as_boot_loader_on_uefi_based_hardware\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://docs.slackware.com/howtos:slackware_admin:set_up_grub_as_boot_loader_on_uefi_based_hardware\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://docs.slackware.com/howtos:slackware_admin:set_up_grub_as_boot_loader_on_uefi_based_hardware\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://docs.slackware.com/howtos:slackware_admin:installing_on_uefi_hardware\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://docs.slackware.com/howtos:slackware_admin:installing_on_uefi_hardware\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://www.reddit.com/r/slackware/comments/4ydl83/slackware_and_uefi_help/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.reddit.com/r/slackware/comments/4ydl83/slackware_and_uefi_help/\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://blog.paranoidpenguin.net/2016/07/configuring-elilo-with-a-generic-kernel-on-slackware-14-2/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://blog.paranoidpenguin.net/2016/07/configuring-elilo-with-a-generic-kernel-on-slackware-14-2/\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://www.linuxquestions.org/questions/slackware-14/slackpkg-lilo-elilo-initrd-4175628620/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.linuxquestions.org/questions/slackware-14/slackpkg-lilo-elilo-initrd-4175628620/\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://www.ibm.com/developerworks/jp/linux/library/l-initrd/index.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.ibm.com/developerworks/jp/linux/library/l-initrd/index.html\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://tech.nikkeibp.co.jp/it/article/COLUMN/20061025/251702/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://tech.nikkeibp.co.jp/it/article/COLUMN/20061025/251702/\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://linux.die.net/man/8/mkinitrd\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://linux.die.net/man/8/mkinitrd\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://duckduckgo.com/?q=lvm+can't+deactivate\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://duckduckgo.com/?q=lvm+can't+deactivate\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://duckduckgo.com/?q=LVM+%E3%82%A2%E3%83%B3%E3%83%9E%E3%82%A6%E3%83%B3%E3%83%88\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://duckduckgo.com/?q=LVM+アンマウント\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://rin-ka.net/centos7-lvm/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://rin-ka.net/centos7-lvm/\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://www.youtube.com/watch?v=njxzwMGTWWs\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.youtube.com/watch?v=njxzwMGTWWs\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://wiki.gentoo.org/wiki/Chroot/ja\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://wiki.gentoo.org/wiki/Chroot/ja\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://wiki.archlinux.jp/index.php/Chroot\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://wiki.archlinux.jp/index.php/Chroot\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://toaruhenjin.com/digimono-review/hotswap\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://toaruhenjin.com/digimono-review/hotswap\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://www.linuxquestions.org/linux/answers/Hardware/Mini_HOW_TO_Hibernate_and_resume_0\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.linuxquestions.org/linux/answers/Hardware/Mini_HOW_TO_Hibernate_and_resume_0\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://wiki.gentoo.org/wiki/Suspend_and_hibernate\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://wiki.gentoo.org/wiki/Suspend_and_hibernate\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://takuya-1st.hatenablog.jp/entry/2016/12/16/183718\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://takuya-1st.hatenablog.jp/entry/2016/12/16/183718\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://duckduckgo.com/?q=%E3%82%B9%E3%83%BC%E3%83%91%E3%83%BC%E7%89%9B%E3%81%95%E3%82%93%E3%83%91%E3%83%AF%E3%83%BC\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://duckduckgo.com/?q=スーパー牛さんパワー\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://qiita.com/kon_yu/items/b8864ff566b8b67a9810\" class=\"autolink\" id=\"reference-5b7b06934b2c9deb83f4\"\u003ehttps://qiita.com/kon_yu/items/b8864ff566b8b67a9810\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://qiita.com/mkamotsu/items/0135d2e756db4a18d965\" class=\"autolink\" id=\"reference-04436e81140de60f79b3\"\u003ehttps://qiita.com/mkamotsu/items/0135d2e756db4a18d965\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://qiita.com/g_maeda/items/3602dc2f7af3f711f9c4\" class=\"autolink\" id=\"reference-5f8cbd65aa3d02c3aaf1\"\u003ehttps://qiita.com/g_maeda/items/3602dc2f7af3f711f9c4\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://qiita.com/takaki@github/items/5d96d80dc78b09ea600b\" class=\"autolink\" id=\"reference-2a69bc2c45c5f72eaef5\"\u003ehttps://qiita.com/takaki@github/items/5d96d80dc78b09ea600b\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003c/p\u003e\n\u003c/div\u003e\u003c/details\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"デスクトップ用途での-lvm-の利点として思いつくこと\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%82%B9%E3%82%AF%E3%83%88%E3%83%83%E3%83%97%E7%94%A8%E9%80%94%E3%81%A7%E3%81%AE-lvm-%E3%81%AE%E5%88%A9%E7%82%B9%E3%81%A8%E3%81%97%E3%81%A6%E6%80%9D%E3%81%84%E3%81%A4%E3%81%8F%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eデスクトップ用途での LVM の利点として思いつくこと\u003c/h1\u003e\n\n\u003cp\u003e色々インストールしたりダウンロードしたりコンパイルしたり好き放題していたらいつの間にか容量が足りない！という場合に少ない手間で容量を\u003ca href=\"https://duckduckgo.com/?q=%E4%BD%95%E3%81%AB%E3%81%A7%E3%82%82%E7%89%9B%E4%B9%B3%E3%82%92%E6%B3%A8%E3%81%90%E5%A5%B3\" rel=\"nofollow noopener\" target=\"_blank\"\u003e継ぎ足せます\u003c/a\u003e。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"基本工程\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%9F%BA%E6%9C%AC%E5%B7%A5%E7%A8%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e基本工程\u003c/h1\u003e\n\n\u003cp\u003e・\u003ca href=\"https://qiita.com/EarthSimilarityIndex/items/89a482dd9c50401f5cf4#os-%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E7%92%B0%E5%A2%83%E3%81%AE%E7%AB%8B%E3%81%A1%E4%B8%8A%E3%81%92\"\u003eOS インストール環境の立ち上げ\u003c/a\u003e\u003cbr\u003e\n・\u003ca href=\"https://qiita.com/EarthSimilarityIndex/items/89a482dd9c50401f5cf4#gpt-%E3%81%A7%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88\"\u003eGPT でフォーマット\u003c/a\u003e\u003cbr\u003e\n・\u003ca href=\"https://qiita.com/EarthSimilarityIndex/items/89a482dd9c50401f5cf4#lvm-%E3%83%91%E3%83%BC%E3%83%86%E3%82%A3%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E4%BD%9C%E6%88%90\"\u003eLVM パーティションの作成\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://qiita.com/EarthSimilarityIndex/items/89a482dd9c50401f5cf4#lvm-%E8%AB%96%E7%90%86%E3%83%9C%E3%83%AA%E3%83%A5%E3%83%BC%E3%83%A0%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e・LVM 論理ボリュームの作成\u003c/a\u003e\u003cbr\u003e\n・\u003ca href=\"https://qiita.com/EarthSimilarityIndex/items/89a482dd9c50401f5cf4#%E9%80%9A%E5%B8%B8%E3%81%AE-os-%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E6%89%8B%E9%A0%86\"\u003e通常の OS インストール手順\u003c/a\u003e\u003cbr\u003e\n・\u003ca href=\"https://qiita.com/EarthSimilarityIndex/items/89a482dd9c50401f5cf4#os-%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E7%92%B0%E5%A2%83%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E3%83%96%E3%83%BC%E3%83%88%E3%83%AD%E3%83%BC%E3%83%80%E3%83%BC%E3%81%AE-lvm-%E5%AF%BE%E5%BF%9C\"\u003eブートローダーの LVM 対応\u003c/a\u003e\u003cbr\u003e\n・\u003ca href=\"https://qiita.com/EarthSimilarityIndex/items/89a482dd9c50401f5cf4#%E5%86%8D%E8%B5%B7%E5%8B%95\"\u003e再起動\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"インストール時に-hddssdswap-を暗号化したい場合\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E6%99%82%E3%81%AB-hddssdswap-%E3%82%92%E6%9A%97%E5%8F%B7%E5%8C%96%E3%81%97%E3%81%9F%E3%81%84%E5%A0%B4%E5%90%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eインストール時に HDD/SSD/swap を暗号化したい場合\u003c/h1\u003e\n\n\u003cp\u003eLVM/Luks Encryption - SlackWiki\u003cbr\u003e\n\u003ca href=\"https://www.slackwiki.com/LVM/Luks_Encryption\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.slackwiki.com/LVM/Luks_Encryption\u003c/a\u003e\u003cbr\u003e\n↑こちらをご覧下さい。\u003c/p\u003e\n\n\u003cp\u003e※ EFI システムパーティションをこの方法で暗号化するのは無理っぽいです。改竄防止などは BIOS/UEFI 側の機能で行えるのかな？\u003cbr\u003e\n※ Fat32 の EFI システムパーティションってセキュリティ的にはどうなんだろ？\u003ca href=\"https://ja.wikipedia.org/wiki/%E3%82%B7%E3%83%A3%E3%82%B3\" rel=\"nofollow noopener\" target=\"_blank\"\u003e意外と強い\u003c/a\u003eのか？\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"各工程の詳細\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%90%84%E5%B7%A5%E7%A8%8B%E3%81%AE%E8%A9%B3%E7%B4%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e各工程の詳細\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"os-インストール環境の立ち上げ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#os-%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E7%92%B0%E5%A2%83%E3%81%AE%E7%AB%8B%E3%81%A1%E4%B8%8A%E3%81%92\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eOS インストール環境の立ち上げ\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"インストールメディアの用意\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%83%A1%E3%83%87%E3%82%A3%E3%82%A2%E3%81%AE%E7%94%A8%E6%84%8F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eインストールメディアの用意\u003c/h3\u003e\n\n\u003cp\u003e\u003cstrong\u003e！！！CAUTION！！！イメージを書き込むドライブを間違えないこと！\u003c/strong\u003e\u003cbr\u003e\ndd で空の USB メモリに インストール DVD の iso を流し込むのが楽です。\u003c/p\u003e\n\n\u003cp\u003eインストールイメージ入手先\u003cbr\u003e\n\u003ca href=\"http://www.slackware.com/getslack/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://www.slackware.com/getslack/\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"インストールメディアからブート\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%83%A1%E3%83%87%E3%82%A3%E3%82%A2%E3%81%8B%E3%82%89%E3%83%96%E3%83%BC%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eインストールメディアからブート\u003c/h3\u003e\n\n\u003cp\u003eUEFI ブート。その際、インストール対象 HDD/SSD は IDE 互換モードではなく AHCI モードにしておく\u003csup id=\"fnref1\"\u003e\u003ca href=\"#fn1\" rel=\"footnote\" title=\"なんとなくドライブの潜在能力がもったいない気がするので。\"\u003e1\u003c/a\u003e\u003c/sup\u003e。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"gpt-でフォーマット\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#gpt-%E3%81%A7%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGPT でフォーマット\u003c/h2\u003e\n\n\u003cp\u003e\u003cstrong\u003e！！！CAUTION！！！フォーマットするドライブを間違えないこと！\u003c/strong\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e# fdisk -l\n# sgdisk -o /dev/moo\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e※ /dev/moo は環境に応じて適宜読み替えて下さい。\u003c/p\u003e\n\n\u003cp\u003e\u003cdetails\u003e\u003csummary\u003e参考文献：\u003c/summary\u003e\u003cdiv\u003e\n\n\u003cp\u003eMan page of FDISK\u003cbr\u003e\n\u003ca href=\"https://linuxjm.osdn.jp/html/util-linux/man8/fdisk.8.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://linuxjm.osdn.jp/html/util-linux/man8/fdisk.8.html\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eMan page of SGDISK\u003cbr\u003e\n\u003ca href=\"http://www.rodsbooks.com/gdisk/sgdisk.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://www.rodsbooks.com/gdisk/sgdisk.html\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eLinux におけるデバイス名\u003cbr\u003e\n\u003ca href=\"https://www.debian.org/releases/stable/i386/apcs04.ja.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.debian.org/releases/stable/i386/apcs04.ja.html\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003c/p\u003e\n\u003c/div\u003e\u003c/details\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"lvm-パーティションの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#lvm-%E3%83%91%E3%83%BC%E3%83%86%E3%82%A3%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eLVM パーティションの作成\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e# sgdisk -p /dev/moo\n# sgdisk -n 1:2048:1050623 -c 1:\"ESP\" -t 1:ef00 /dev/moo\n# sgdisk -n 2:1050624:3147775 -c 2:\"swap\" -t 2:8200 /dev/moo\n# sgdisk -n 3:3147776:$(sgdisk -E /dev/sda) -c 3:\"LVM00\" -t 3:8e00 /dev/moo\n# sgdisk -p /dev/moo\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e※ /dev/moo は環境に応じて適宜読み替えて下さい。\u003cbr\u003e\n※ EFIシステムパーティション（ESP）は LVM の外に。\u003cbr\u003e\n※ Swap パーティションは LVM の中でも外でも。\u003cbr\u003e\n※ 各パーティションに割り当てる容量はシステム環境や管理方針によります。\u003cbr\u003e\n※ 2048 セクタ:1 MiB（1 セクタ 512 バイトの場合）\u003cbr\u003e\n※ 1024 MiB = 1 GiB\u003cbr\u003e\n※ 1024 GiB = 1 TiB\u003cbr\u003e\n※ メモ書きからのコピペやシェルスクリプトに記述する用途では sgdisk 。通常使うなら対話的な gdisk や cgdisk が使いやすいかと。\u003c/p\u003e\n\n\u003cp\u003e\u003cdetails\u003e\u003csummary\u003e参考文献：\u003c/summary\u003e\u003cdiv\u003e\n\n\u003cp\u003eMan page of SGDISK\u003cbr\u003e\n\u003ca href=\"http://www.rodsbooks.com/gdisk/sgdisk.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://www.rodsbooks.com/gdisk/sgdisk.html\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eAn sgdisk Walkthrough\u003cbr\u003e\n\u003ca href=\"http://www.rodsbooks.com/gdisk/sgdisk-walkthrough.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://www.rodsbooks.com/gdisk/sgdisk-walkthrough.html\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003esgdisk(gdisk コマンドライン版) でまとめて変更する使い方 - それマグで！\u003cbr\u003e\n\u003ca href=\"https://takuya-1st.hatenablog.jp/entry/2016/12/16/183718\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://takuya-1st.hatenablog.jp/entry/2016/12/16/183718\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003ebash Tips - コマンド置換と算術式展開、パラメータ展開 - Qiita\u003cbr\u003e\n\u003ca href=\"https://qiita.com/mashumashu/items/bbc3a79bc779fe8c4f99\" class=\"autolink\" id=\"reference-350f53fa9c8c4650de09\"\u003ehttps://qiita.com/mashumashu/items/bbc3a79bc779fe8c4f99\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eMan page of BASH\u003cbr\u003e\n\u003ca href=\"https://linuxjm.osdn.jp/html/GNU_bash/man1/bash.1.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://linuxjm.osdn.jp/html/GNU_bash/man1/bash.1.html\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://ja.wikipedia.org/wiki/%E3%83%A1%E3%83%93%E3%83%90%E3%82%A4%E3%83%88\" rel=\"nofollow noopener\" target=\"_blank\"\u003eメビバイト - Wikipedia\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003c/p\u003e\n\u003c/div\u003e\u003c/details\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"lvm-論理ボリュームの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#lvm-%E8%AB%96%E7%90%86%E3%83%9C%E3%83%AA%E3%83%A5%E3%83%BC%E3%83%A0%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eLVM 論理ボリュームの作成\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e# pvcreate /dev/moo3\n# vgcreate SlackVG /dev/moo3\n# lvcreate -l 100%FREE SlackVG -n root\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e※ /dev/moo3 SlackVG root は環境や用途、sgdisk の実行状況等に応じて適宜読み替えて下さい。\u003c/p\u003e\n\n\u003cp\u003e\u003cdetails\u003e\u003csummary\u003e参考文献：\u003c/summary\u003e\u003cdiv\u003e\n\n\u003cp\u003epvcreate(8) - Linux man page\u003cbr\u003e\n\u003ca href=\"https://linux.die.net/man/8/pvcreate\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://linux.die.net/man/8/pvcreate\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003evgcreate(8) - Linux man page\u003cbr\u003e\n\u003ca href=\"https://linux.die.net/man/8/vgcreate\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://linux.die.net/man/8/vgcreate\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003elvcreate(8) - Linux man page\u003cbr\u003e\n\u003ca href=\"https://linux.die.net/man/8/lvcreate\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://linux.die.net/man/8/lvcreate\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eLVM/Luks Encryption - SlackWiki\u003cbr\u003e\n\u003ca href=\"https://www.slackwiki.com/LVM/Luks_Encryption\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.slackwiki.com/LVM/Luks_Encryption\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eLVM - ArchWiki\u003cbr\u003e\n\u003ca href=\"https://wiki.archlinux.jp/index.php/LVM\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://wiki.archlinux.jp/index.php/LVM\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003c/p\u003e\n\u003c/div\u003e\u003c/details\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"通常の-os-インストール手順\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%80%9A%E5%B8%B8%E3%81%AE-os-%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E6%89%8B%E9%A0%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e通常の OS インストール手順\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e# setup\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e※ 完了時にうっかり再起動をかけないこと。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/45968beb4322faff0cd9047923f5338ce95cbd1e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3431303337392f61656139353439632d333635642d366165322d323664382d6362643464656164656532322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/45968beb4322faff0cd9047923f5338ce95cbd1e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3431303337392f61656139353439632d333635642d366165322d323664382d6362643464656164656532322e706e67\" alt=\"VirtualBox_Slackware_14.2_113.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/410379/aea9549c-365d-6ae2-26d8-cbd4deadee22.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e参考文献：\u003cbr\u003e\n\u003ca href=\"http://www.slackware.com/install/setup.php\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://www.slackware.com/install/setup.php\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"os-インストール環境におけるブートローダーの-lvm-対応\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#os-%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E7%92%B0%E5%A2%83%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E3%83%96%E3%83%BC%E3%83%88%E3%83%AD%E3%83%BC%E3%83%80%E3%83%BC%E3%81%AE-lvm-%E5%AF%BE%E5%BF%9C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eOS インストール環境におけるブートローダーの LVM 対応\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e# chroot /mnt\n# $(/usr/share/mkinitrd/mkinitrd_command_generator.sh -r)\n# exit\n# eliloconfig /mnt /dev/SlackVG/root\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e※ eliloconfig は引数1で OS ルートを、引数2でルートに対応するデバイスを指定出来るようです。\u003cbr\u003e\n※ /dev/SlackVG/root は作成した論理ボリュームに応じて適宜読み替えて下さい。\u003cbr\u003e\n※ 再起動後、インストール済みの Slackware からは eliloconfig に引数を与えなくとも正しく /boot/efi/EFI/Slackware/elilo.conf を生成出来ました。\u003cbr\u003e\n※ カーネルのアップグレードを行った場合は忘れずに \u003ccode\u003e$(/usr/share/mkinitrd/mkinitrd_command_generator.sh -r)\u003c/code\u003e 及び \u003ccode\u003eeliloconfig\u003c/code\u003e を実行すること。インストール済みの Slackware で行う場合 chroot の必要はありません。\u003c/p\u003e\n\n\u003cp\u003e\u003cdetails\u003e\u003csummary\u003e参考文献：\u003c/summary\u003e\u003cdiv\u003e\n\n\u003cp\u003ebash Tips - コマンド置換と算術式展開、パラメータ展開 - Qiita\u003cbr\u003e\n\u003ca href=\"https://qiita.com/mashumashu/items/bbc3a79bc779fe8c4f99\" class=\"autolink\"\u003ehttps://qiita.com/mashumashu/items/bbc3a79bc779fe8c4f99\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eMan page of BASH\u003cbr\u003e\n\u003ca href=\"https://linuxjm.osdn.jp/html/GNU_bash/man1/bash.1.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://linuxjm.osdn.jp/html/GNU_bash/man1/bash.1.html\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eGNU Coreutils: 23.1 chroot: ルートディレクトリを変更して、コマンドを実行する\u003cbr\u003e\n\u003ca href=\"https://linuxjm.osdn.jp/info/GNU_coreutils/coreutils-ja_169.html#chroot-invocation\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://linuxjm.osdn.jp/info/GNU_coreutils/coreutils-ja_169.html#chroot-invocation\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eChroot - Gentoo Wiki\u003cbr\u003e\n\u003ca href=\"https://wiki.gentoo.org/wiki/Chroot/ja\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://wiki.gentoo.org/wiki/Chroot/ja\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003echroot - ArchWiki\u003cbr\u003e\n\u003ca href=\"https://wiki.archlinux.jp/index.php/Chroot\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://wiki.archlinux.jp/index.php/Chroot\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eLVM/Luks Encryption - SlackWiki\u003cbr\u003e\n\u003ca href=\"https://www.slackwiki.com/LVM/Luks_Encryption\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.slackwiki.com/LVM/Luks_Encryption\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e[SOLVED] Slackware-current elilo lvm\u003cbr\u003e\n\u003ca href=\"https://www.linuxquestions.org/questions/slackware-14/slackware-current-elilo-lvm-4175534140/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.linuxquestions.org/questions/slackware-14/slackware-current-elilo-lvm-4175534140/\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cdetails\u003e\u003csummary\u003eeliloconfig 本体\u003c/summary\u003e\u003cdiv\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"sh\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e/usr/sbin/eliloconfig\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"c\"\u003e#!/bin/sh\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# Copyright 2013, 2016, 2017  Patrick Volkerding, Sebeka, Minnesota, USA\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# All rights reserved.\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# Redistribution and use of this script, with or without modification, is\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# permitted provided that the following conditions are met:\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# 1. Redistributions of this script must retain the above copyright\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#    notice, this list of conditions and the following disclaimer.\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#  THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#  WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#  MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#  EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#  SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#  OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#  OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#  ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# This script installs the elilo boot loader, the kernel, and optionally\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# an initrd into the EFI System Partition.  A boot menu entry can also be\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# installed using efibootmgr.  The kernel used will be whatever the symlink\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# /boot/vmlinuz points to, and if /boot/initrd.gz exists, that will be \u003c/span\u003e\n\u003cspan class=\"c\"\u003e# installed as the initrd.\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# The EFI System Partition is expected to be mounted on /boot/efi before\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# running this script.\u003c/span\u003e\n\n\u003cspan class=\"nv\"\u003eTMP\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e/var/log/setup/tmp\n\n\u003cspan class=\"c\"\u003e# Set the OS root directory (called T_PX for some unknown reason).\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# If an argument is given to this script and it is a directory, it\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# is taken to be the root directory.  First though, we check for a\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# directory named $T_PX, and that gets the first priority.\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  if\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$1\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    if\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$1\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n      \u003c/span\u003e\u003cspan class=\"nv\"\u003eT_PX\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$1\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efi\n  else\u003c/span\u003e\n    \u003cspan class=\"c\"\u003e# Are we on the installer image?\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-r\u003c/span\u003e /usr/lib/setup/SeTpartitions \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n      \u003c/span\u003e\u003cspan class=\"nv\"\u003eT_PX\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e/mnt\n    \u003cspan class=\"c\"\u003e# Or, are we on a running system?\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eelif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-r\u003c/span\u003e /etc/slackware-version \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n      \u003c/span\u003e\u003cspan class=\"nv\"\u003eT_PX\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e/\n    \u003cspan class=\"c\"\u003e# One more installer-likely thing:\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eelif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-r\u003c/span\u003e /usr/lib/setup/setup \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n      \u003c/span\u003e\u003cspan class=\"nv\"\u003eT_PX\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e/mnt\n    \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n      \u003cspan class=\"c\"\u003e# We will have to assume we're on an installed and running system.\u003c/span\u003e\n      \u003cspan class=\"nv\"\u003eT_PX\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e/\n    \u003cspan class=\"k\"\u003efi\n  fi\nfi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Determine the root partition (such as /dev/sda1)\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eROOT_DEVICE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$2\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$ROOT_DEVICE\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n if\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-r\u003c/span\u003e \u003cspan class=\"nv\"\u003e$TMP\u003c/span\u003e/SeTrootdev \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nv\"\u003eROOT_DEVICE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ecat\u003c/span\u003e \u003cspan class=\"nv\"\u003e$TMP\u003c/span\u003e/SeTrootdev\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n \u003cspan class=\"k\"\u003eelse\n  \u003c/span\u003e\u003cspan class=\"nv\"\u003eROOT_DEVICE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003emount | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f\u003c/span\u003e 1 \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e | \u003cspan class=\"nb\"\u003ehead\u003c/span\u003e \u003cspan class=\"nt\"\u003e-n\u003c/span\u003e 1\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n \u003cspan class=\"k\"\u003efi\nfi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# If the system is not running under EFI, skip running this script:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e /sys/firmware/efi \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  if\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"/\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"ERROR:  System is not running under UEFI.\"\u003c/span\u003e\n  \u003cspan class=\"k\"\u003efi\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003eexit\n\u003c/span\u003e\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# If there's no vfat mounted on /boot/efi or $T_PX/boot/efi, forget it:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e mount | \u003cspan class=\"nb\"\u003egrep \u003c/span\u003evfat | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-wq\u003c/span\u003e /boot/efi \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  if\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e mount | \u003cspan class=\"nb\"\u003egrep \u003c/span\u003evfat | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-wq\u003c/span\u003e \u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e/boot/efi \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    if\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"/\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n      \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"ERROR:  No EFI System Partition mounted on /boot/efi.\"\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efi\n    \u003c/span\u003e\u003cspan class=\"nb\"\u003eexit\n  \u003c/span\u003e\u003cspan class=\"k\"\u003efi\nfi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Figure out the device and partition number of the ESP:\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eDEVLEN\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e8\n\u003cspan class=\"nv\"\u003ePARTLEN\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e9\n\u003cspan class=\"k\"\u003eif \u003c/span\u003emount | \u003cspan class=\"nb\"\u003egrep \u003c/span\u003evfat | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-wq\u003c/span\u003e /boot/efi \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003emount | \u003cspan class=\"nb\"\u003egrep \u003c/span\u003evfat | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-w\u003c/span\u003e /boot/efi | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e \u003cspan class=\"nt\"\u003e-e\u003c/span\u003e nvme \u003cspan class=\"nt\"\u003e-e\u003c/span\u003e mmcblk \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003eDEVLEN\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e12 \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003ePARTLEN\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e14\n  \u003cspan class=\"nv\"\u003eEFI_DEVICE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003emount | \u003cspan class=\"nb\"\u003egrep \u003c/span\u003evfat | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-w\u003c/span\u003e /boot/efi | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-b\u003c/span\u003e 1-\u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eDEVLEN\u003c/span\u003e\u003cspan class=\"k\"\u003e})\u003c/span\u003e\n  \u003cspan class=\"nv\"\u003eEFI_PARTITION\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003emount | \u003cspan class=\"nb\"\u003egrep \u003c/span\u003evfat | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-w\u003c/span\u003e /boot/efi | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f\u003c/span\u003e 1 \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-b\u003c/span\u003e \u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003ePARTLEN\u003c/span\u003e\u003cspan class=\"k\"\u003e}\u003c/span\u003e- | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003ea-z]\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eelse\n  \u003c/span\u003emount | \u003cspan class=\"nb\"\u003egrep \u003c/span\u003evfat | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-w\u003c/span\u003e \u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e/boot/efi | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e \u003cspan class=\"nt\"\u003e-e\u003c/span\u003e nvme \u003cspan class=\"nt\"\u003e-e\u003c/span\u003e mmcblk \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003eDEVLEN\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e12 \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003ePARTLEN\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e14\n  \u003cspan class=\"nv\"\u003eEFI_DEVICE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003emount | \u003cspan class=\"nb\"\u003egrep \u003c/span\u003evfat | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-w\u003c/span\u003e \u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e/boot/efi | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-b\u003c/span\u003e 1-\u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eDEVLEN\u003c/span\u003e\u003cspan class=\"k\"\u003e})\u003c/span\u003e\n  \u003cspan class=\"nv\"\u003eEFI_PARTITION\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003emount | \u003cspan class=\"nb\"\u003egrep \u003c/span\u003evfat | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-w\u003c/span\u003e \u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e/boot/efi | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f\u003c/span\u003e 1 \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-b\u003c/span\u003e \u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003ePARTLEN\u003c/span\u003e\u003cspan class=\"k\"\u003e}\u003c/span\u003e- | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003ea-z]\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# There better be a kernel:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"nt\"\u003e-r\u003c/span\u003e \u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e/boot/vmlinuz \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  if\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"/\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"ERROR:  No kernel found at /boot/vmlinuz.\"\u003c/span\u003e\n  \u003cspan class=\"k\"\u003efi\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003eexit\n\u003c/span\u003e\u003cspan class=\"k\"\u003efi\n\n\u003c/span\u003edialog \u003cspan class=\"nt\"\u003e--title\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"INSTALL ELILO\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e--backtitle\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"ELILO (EFI Linux Loader) installation\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e--menu\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"ELILO is a Linux boot loader for \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nEFI based systems.  Installing ELILO will allow you to boot your Linux \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nsystem from the hard drive after selecting it from the UEFI boot menu.  \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nSince an EFI System Partition was detected on this machine, it is \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nrecommended that you install ELILO now.  Please select an option:\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n13 70 2 \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"install\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Install ELILO on the EFI System Partition\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"skip\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Do not install ELILO\"\u003c/span\u003e 2\u0026gt; \u003cspan class=\"nv\"\u003e$TMP\u003c/span\u003e/reply\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nv\"\u003e$?\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e 1 \u003cspan class=\"nt\"\u003e-o\u003c/span\u003e \u003cspan class=\"nv\"\u003e$?\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e 255 \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003eexit\n\u003c/span\u003e\u003cspan class=\"k\"\u003efi\n\u003c/span\u003e\u003cspan class=\"nv\"\u003eREPLY\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"sb\"\u003e`\u003c/span\u003e\u003cspan class=\"nb\"\u003ecat\u003c/span\u003e \u003cspan class=\"nv\"\u003e$TMP\u003c/span\u003e/reply\u003cspan class=\"sb\"\u003e`\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n\u003cspan class=\"nb\"\u003erm\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f\u003c/span\u003e \u003cspan class=\"nv\"\u003e$TMP\u003c/span\u003e/reply\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$REPLY\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"skip\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003eexit\n\u003c/span\u003e\u003cspan class=\"k\"\u003efi\n\n\u003c/span\u003e\u003cspan class=\"nb\"\u003emkdir\u003c/span\u003e \u003cspan class=\"nt\"\u003e-p\u003c/span\u003e \u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e/boot/efi/EFI/Slackware 1\u0026gt; /dev/null 2\u0026gt; /dev/null\n\u003cspan class=\"nb\"\u003ecat\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan class=\"no\"\u003eEOF\u003c/span\u003e\u003cspan class=\"sh\"\u003e \u0026gt; \u003c/span\u003e\u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e\u003cspan class=\"sh\"\u003e/boot/efi/EFI/Slackware/elilo.conf\nchooser=simple\ndelay=1\ntimeout=1\n#\n\u003c/span\u003e\u003cspan class=\"no\"\u003eEOF\n\u003c/span\u003e\u003cspan class=\"nb\"\u003ecp\u003c/span\u003e \u003cspan class=\"nt\"\u003e-a\u003c/span\u003e \u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e/boot/elilo-x86_64.efi \u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e/boot/efi/EFI/Slackware/elilo.efi 1\u0026gt; /dev/null 2\u0026gt; /dev/null\n\u003cspan class=\"nb\"\u003ecp\u003c/span\u003e \u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e/boot/vmlinuz \u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e/boot/efi/EFI/Slackware 1\u0026gt; /dev/null 2\u0026gt; /dev/null\n\u003cspan class=\"nb\"\u003ecat\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan class=\"no\"\u003eEOF\u003c/span\u003e\u003cspan class=\"sh\"\u003e \u0026gt;\u0026gt; \u003c/span\u003e\u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e\u003cspan class=\"sh\"\u003e/boot/efi/EFI/Slackware/elilo.conf\nimage=vmlinuz\n        label=vmlinuz\n\u003c/span\u003e\u003cspan class=\"no\"\u003eEOF\n\u003c/span\u003e\u003cspan class=\"nb\"\u003etouch\u003c/span\u003e \u003cspan class=\"nt\"\u003e-r\u003c/span\u003e \u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e/boot/vmlinuz \u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e/boot/efi/EFI/Slackware/vmlinuz\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-r\u003c/span\u003e \u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e/boot/initrd.gz \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003ecp\u003c/span\u003e \u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e/boot/initrd.gz \u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e/boot/efi/EFI/Slackware 1\u0026gt; /dev/null 2\u0026gt; /dev/null\n  \u003cspan class=\"nb\"\u003etouch\u003c/span\u003e \u003cspan class=\"nt\"\u003e-r\u003c/span\u003e \u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e/boot/initrd.gz \u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e/boot/efi/EFI/Slackware/initrd.gz\n  \u003cspan class=\"nb\"\u003ecat\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan class=\"no\"\u003eEOF\u003c/span\u003e\u003cspan class=\"sh\"\u003e \u0026gt;\u0026gt; \u003c/span\u003e\u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e\u003cspan class=\"sh\"\u003e/boot/efi/EFI/Slackware/elilo.conf\n        initrd=initrd.gz\n\u003c/span\u003e\u003cspan class=\"no\"\u003eEOF\n\u003c/span\u003e\u003cspan class=\"k\"\u003efi\n\u003c/span\u003e\u003cspan class=\"nb\"\u003ecat\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan class=\"no\"\u003eEOF\u003c/span\u003e\u003cspan class=\"sh\"\u003e \u0026gt;\u0026gt; \u003c/span\u003e\u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e\u003cspan class=\"sh\"\u003e/boot/efi/EFI/Slackware/elilo.conf\n        read-only\n        append=\"root=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$ROOT_DEVICE\u003c/span\u003e\u003cspan class=\"sh\"\u003e vga=normal ro\"\n\u003c/span\u003e\u003cspan class=\"no\"\u003eEOF\n\n\u003c/span\u003edialog \u003cspan class=\"nt\"\u003e--title\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"INSTALL BOOT MENU ENTRY?\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e--backtitle\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"ELILO (EFI Linux Loader) installation\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e--menu\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Would you like to install \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\na boot menu entry so that you can easily select Slackware when you boot your \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nmachine?  WARNING:  DO NOT install a boot menu entry on Apple hardware.  \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nApple computers use a different type of EFI firmware, and efibootmgr has \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nbeen known to damage them.  On all other computers, it is recommended to add \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\na boot menu entry.  Please select an option:\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n14 70 2 \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"install\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Install a boot menu entry\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"skip\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Do not install a boot menu entry\"\u003c/span\u003e 2\u0026gt; \u003cspan class=\"nv\"\u003e$TMP\u003c/span\u003e/reply\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nv\"\u003e$?\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e 1 \u003cspan class=\"nt\"\u003e-o\u003c/span\u003e \u003cspan class=\"nv\"\u003e$?\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e 255 \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003eexit\n\u003c/span\u003e\u003cspan class=\"k\"\u003efi\n\u003c/span\u003e\u003cspan class=\"nv\"\u003eREPLY\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"sb\"\u003e`\u003c/span\u003e\u003cspan class=\"nb\"\u003ecat\u003c/span\u003e \u003cspan class=\"nv\"\u003e$TMP\u003c/span\u003e/reply\u003cspan class=\"sb\"\u003e`\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n\u003cspan class=\"nb\"\u003erm\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f\u003c/span\u003e \u003cspan class=\"nv\"\u003e$TMP\u003c/span\u003e/reply\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$REPLY\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"skip\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003eexit\n\u003c/span\u003e\u003cspan class=\"k\"\u003efi\n\nif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e /sys/firmware/efi/vars \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003emodprobe efivars 1\u0026gt; /dev/null 2\u0026gt; /dev/null\n  \u003cspan class=\"nb\"\u003esleep \u003c/span\u003e1 \u003cspan class=\"c\"\u003e# Probably not needed, but playing it safe\u003c/span\u003e\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# If it's still gone, we fail silently:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e /sys/firmware/efi/vars \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003eexit\n\u003c/span\u003e\u003cspan class=\"k\"\u003efi\n\n\u003c/span\u003eefibootmgr \u003cspan class=\"nt\"\u003e-v\u003c/span\u003e | rev | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f\u003c/span\u003e 2- | rev | \u003cspan class=\"nb\"\u003egrep \u003c/span\u003eBoot0 | \u003cspan class=\"nb\"\u003egrep \u003c/span\u003eSlackware | \u003cspan class=\"k\"\u003ewhile \u003c/span\u003e\u003cspan class=\"nb\"\u003eread \u003c/span\u003eline \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e# Reject entries that don't exactly match as not our business\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$line\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f\u003c/span\u003e 2- \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Slackware\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    continue\n  fi\n  \u003c/span\u003e\u003cspan class=\"nv\"\u003eENTRY\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003eefibootmgr \u003cspan class=\"nt\"\u003e-v\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"^\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$line\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-b1-8\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n  dialog \u003cspan class=\"nt\"\u003e--title\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"REMOVE OLD \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eSlackware\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e EFI BOOT ENTRY?\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e--backtitle\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"ELILO (EFI Linux Loader) installation\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e--yesno\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"An old Slackware boot entry has been found in your EFI boot menu. \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nWould you like to remove this before installing the new Slackware boot \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nentry?  This is recommended.\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\\n\u003c/span\u003e\u003cspan class=\"s2\"\u003eOld EFI boot menu entry:\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"nv\"\u003e$ENTRY\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e 13 70\n  \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"nv\"\u003e$?\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e 0 \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    continue\n  fi\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e# Remove the boot entry:\u003c/span\u003e\n  efibootmgr \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e \u003cspan class=\"nt\"\u003e-B\u003c/span\u003e \u003cspan class=\"nt\"\u003e-b\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$line\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-b5-8\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003edone\n\n\u003c/span\u003eefibootmgr \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e \u003cspan class=\"nt\"\u003e-c\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"nv\"\u003e$EFI_DEVICE\u003c/span\u003e \u003cspan class=\"nt\"\u003e-p\u003c/span\u003e \u003cspan class=\"nv\"\u003e$EFI_PARTITION\u003c/span\u003e \u003cspan class=\"nt\"\u003e-l\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\\\u003c/span\u003e\u003cspan class=\"s2\"\u003eEFI\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\\\u003c/span\u003e\u003cspan class=\"s2\"\u003eSlackware\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\\\u003c/span\u003e\u003cspan class=\"s2\"\u003eelilo.efi\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e-L\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Slackware\"\u003c/span\u003e\n\nefibootmgr \u003cspan class=\"nt\"\u003e-v\u003c/span\u003e | rev | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f\u003c/span\u003e 2- | rev | \u003cspan class=\"nb\"\u003egrep \u003c/span\u003eBoot0 | \u003cspan class=\"nb\"\u003egrep \u003c/span\u003eSlackware | \u003cspan class=\"k\"\u003ewhile \u003c/span\u003e\u003cspan class=\"nb\"\u003eread \u003c/span\u003eline \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e# Reject entries that don't exactly match as not our business\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$line\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f\u003c/span\u003e 2- \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Slackware\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    continue\n  fi\n  \u003c/span\u003e\u003cspan class=\"nv\"\u003eENTRY\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003eefibootmgr \u003cspan class=\"nt\"\u003e-v\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"^\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$line\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-b1-8\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$ENTRY\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e \u003cspan class=\"nt\"\u003e-F\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"se\"\u003e\\E\u003c/span\u003e\u003cspan class=\"s2\"\u003eFI\u003c/span\u003e\u003cspan class=\"se\"\u003e\\S\u003c/span\u003e\u003cspan class=\"s2\"\u003elackware\u003c/span\u003e\u003cspan class=\"se\"\u003e\\e\u003c/span\u003e\u003cspan class=\"s2\"\u003elilo.efi\"\u003c/span\u003e \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003edialog \u003cspan class=\"nt\"\u003e--title\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"EFI BOOT ENTRY INSTALLED\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e--backtitle\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"ELILO (EFI Linux Loader) installation\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e--msgbox\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"A Slackware boot entry has been installed to your EFI boot\nmenu.\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\\n\u003c/span\u003e\u003cspan class=\"s2\"\u003eEFI boot menu entry:\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"nv\"\u003e$ENTRY\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e 11 70\n  \u003cspan class=\"k\"\u003efi\ndone\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Done.\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003c/p\u003e\n\u003c/div\u003e\u003c/details\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cdetails\u003e\u003csummary\u003emkinitrd_command_generator.sh 本体\u003c/summary\u003e\u003cdiv\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"sh\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e/usr/share/mkinitrd/mkinitrd_command_generator.sh\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"c\"\u003e#!/bin/sh\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# $Id: mkinitrd_command_generator.sh,v 1.45 2011/02/17 09:27:05 eha Exp eha $\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# Copyright 2013  Patrick J. Volkerding, Sebeka, Minnesota, USA\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# Copyright 2008, 2009, 2010, 2011  Eric Hameleers, Eindhoven, Netherlands\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# Copyright 2008, 2009  PiterPUNK, Sao Paulo, SP, Brazil\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# All rights reserved.\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#   Permission to use, copy, modify, and distribute this software for\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#   any purpose with or without fee is hereby granted, provided that\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#   the above copyright notice and this permission notice appear in all\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#   copies.\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#   THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#   WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#   MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#   IN NO EVENT SHALL THE AUTHORS AND COPYRIGHT HOLDERS AND THEIR\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#   CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#   SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#   LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#   USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#   ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#   OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#   OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#   SUCH DAMAGE.\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# -----------------------------------------------------------------------------\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# Create an initrd which fits the system.\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# Take into account the use of LVM/LUKS/RAID.\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# Find out about any hardware drivers the system may need in an initrd when\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# booting from a generic lightweight kernel.\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# -----------------------------------------------------------------------------\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# The script's revision number will be displayed in the help text:\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eREV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$Revision\u003c/span\u003e\u003cspan class=\"s2\"\u003e: 1.45 $\"\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"s1\"\u003e' '\u003c/span\u003e  \u003cspan class=\"nt\"\u003e-f2\u003c/span\u003e \u003cspan class=\"k\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Define some essential parameter values:\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eUSING_LVM\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eUSING_LUKS\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eUSING_RAID\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eMLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eREALDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e   \u003cspan class=\"c\"\u003e# The device that contains the LUKS volume\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eBASEDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e   \u003cspan class=\"c\"\u003e# Lowest level device (raw block device or RAID volume)\u003c/span\u003e\n\n\u003cspan class=\"nv\"\u003eFSTAB\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eFSTAB\u003c/span\u003e\u003cspan class=\"k\"\u003e:-\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"/etc/fstab\"\u003c/span\u003e\u003cspan class=\"k\"\u003e}\u003c/span\u003e \u003cspan class=\"c\"\u003e# so we can test with alternate fstab files\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# These are needed by -c and -i options:\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eSOURCE_TREE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eSOURCE_TREE\u003c/span\u003e\u003cspan class=\"k\"\u003e:-\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"/boot/initrd-tree\"\u003c/span\u003e\u003cspan class=\"k\"\u003e}\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eCLEAR_TREE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eCLEAR_TREE\u003c/span\u003e\u003cspan class=\"k\"\u003e:-\u003c/span\u003e\u003cspan class=\"nv\"\u003e1\u003c/span\u003e\u003cspan class=\"k\"\u003e}\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eKEYMAP\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eKEYMAP\u003c/span\u003e\u003cspan class=\"k\"\u003e:-\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"us\"\u003c/span\u003e\u003cspan class=\"k\"\u003e}\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eUDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eUDEV\u003c/span\u003e\u003cspan class=\"k\"\u003e:-\u003c/span\u003e\u003cspan class=\"nv\"\u003e1\u003c/span\u003e\u003cspan class=\"k\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# ARM devices need more time:\u003c/span\u003e\n\u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e \u003cspan class=\"nb\"\u003euname\u003c/span\u003e \u003cspan class=\"nt\"\u003e-m\u003c/span\u003e \u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"k\"\u003ein\n  \u003c/span\u003earm\u003cspan class=\"k\"\u003e*\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"nv\"\u003eWAIT_DEFAULT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e4\u003cspan class=\"p\"\u003e;;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003e*\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"nv\"\u003eWAIT_DEFAULT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e1\u003cspan class=\"p\"\u003e;;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eesac\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eWAIT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eWAIT\u003c/span\u003e\u003cspan class=\"k\"\u003e:-\u003c/span\u003e\u003cspan class=\"nv\"\u003e$WAIT_DEFAULT\u003c/span\u003e\u003cspan class=\"k\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# A basic explanation of the commandline parameters:\u003c/span\u003e\nbasic_usage\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nb\"\u003ecat\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;-\u003c/span\u003e\u003cspan class=\"no\"\u003eEOT\u003c/span\u003e\u003cspan class=\"sh\"\u003e\n\n    *** \u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ebasename\u003c/span\u003e \u003cspan class=\"nv\"\u003e$0\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"sh\"\u003e revision \u003c/span\u003e\u003cspan class=\"nv\"\u003e$REV\u003c/span\u003e\u003cspan class=\"sh\"\u003e ***\n    Usage:\n      \u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ebasename\u003c/span\u003e \u003cspan class=\"nv\"\u003e$0\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"sh\"\u003e [ options ] [ kernel_filename ]\n    Options:\n      -a \u0026lt;\"additional params\"\u0026gt;  Additional parameters to pass to mkinitrd.\n      -c | --conf               Show a suitable mkinitrd configuration file.\n      -h | --help               Show this help.\n      -i | --interactive        Navigate through menus instead of using\n                                commandline arguments.  \n      --longhelp                Show more detailed information/examples.\n      -k \u0026lt;kernelversion\u0026gt;        Use specific kernel version.\n      -m \u0026lt;\"additional mods\"\u0026gt;    Additional modules to pass to mkinitrd,\n                                separated by colons (:).\n      -l | --lilo               Only show lilo.conf section\n                                (requires a kernel_filename).\n      -r | --run                Only show 'mkinitrd' command.\n\u003c/span\u003e\u003cspan class=\"no\"\u003e    EOT\n\u003c/span\u003e\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# More of a tutorial here:\u003c/span\u003e\nextended_usage\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nb\"\u003ecat\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;-\u003c/span\u003e\u003cspan class=\"no\"\u003eEOT\u003c/span\u003e\u003cspan class=\"sh\"\u003e\n\n    This script is useful in situations where you require an initrd image\n    to boot your computer.\n    For instance, when booting a kernel that does not have support for your\n    storage or root filesystem built in (such as the Slackware 'generic'\n    kernels').\n\n    * When you run the script without parameters, it will examine your\n    running system, your current kernel version and will output an example\n    of a 'mkinitrd' commandline that you can use to generate an initrd\n    image containing enough driver support to boot the computer.\n\n    * You can make it more specific: when you add the filename of a kernel\n    as parameter to the script, it will determine the kernel version from\n    that kernel, and also give an example of the lines that you should add\n    to your '/etc/lilo.conf' file.\n\n    * If you want your initrd image to have a custom name instead of the\n    default '/boot/initrd.gz' you can add it as another parameter to the\n    script, as follows:\n\n      \u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ebasename\u003c/span\u003e \u003cspan class=\"nv\"\u003e$0\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"sh\"\u003e -a \"-o /boot/custom.gz\"\n\n    The arguments to the '-a' parameter will be used as additional arguments\n    to the 'mkinitrd' command.\n\n    * If you need additional modules in the initrd image, apart from what\n    the script determines, you can pass then to the script using the '-m'\n    parameter as follows:\n\n      \u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ebasename\u003c/span\u003e \u003cspan class=\"nv\"\u003e$0\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"sh\"\u003e -m \"uhci-hcd:usbhid:hid_generic\"\n\n    The above example adds support for USB keyboards to the initrd - you\n    may need that if you have encrypted your root partition and need to\n    enter a passphrase using a USB keyboard.\n\n    * Instead of copying and pasting the script's output, you can create\n    an initrd by directly executing the output, like in this example:\n\u003c/span\u003e\u003cspan class=\"no\"\u003e\n    EOT\n\n\u003c/span\u003e  \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"  \u003c/span\u003e\u003cspan class=\"se\"\u003e\\$\u003c/span\u003e\u003cspan class=\"s2\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ebasename\u003c/span\u003e \u003cspan class=\"nv\"\u003e$0\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e --run /boot/vmlinuz-generic-smp-2.6.35.11-smp)\"\u003c/span\u003e\n\n  \u003cspan class=\"nb\"\u003ecat\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;-\u003c/span\u003e\u003cspan class=\"no\"\u003eEOT\u003c/span\u003e\u003cspan class=\"sh\"\u003e\n\n    That used the '-r' or '--run' switch to make the script only write\n    the 'mkinitrd' commandline to the terminal.\n\n    * When you want to add a section for a specific kernel to\n    '/etc/lilo.conf' directly, use the '-l' or '--lilo' switch and use a\n    command like in this example:\n\u003c/span\u003e\u003cspan class=\"no\"\u003e\n    EOT\n\n\u003c/span\u003e  \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"  \u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ebasename\u003c/span\u003e \u003cspan class=\"nv\"\u003e$0\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e --lilo /boot/vmlinuz-generic-smp-2.6.35.11-smp \u0026gt;\u0026gt;/etc/lilo.conf\"\u003c/span\u003e\n\n  \u003cspan class=\"nb\"\u003ecat\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;-\u003c/span\u003e\u003cspan class=\"no\"\u003eEOT\u003c/span\u003e\u003cspan class=\"sh\"\u003e\n\n    That command will result in the following lines being added to your\n    '/etc/lilo.conf' file (example for my hardware):\n\n      # Linux bootable partition config begins\n      # initrd created with 'mkinitrd -c -k 2.6.35.11-smp -m ata_generic:pata_amd:mbcache:jbd:ext3 -f ext3 -r /dev/hda7'\n      image = /boot/vmlinuz-generic-smp-2.6.35.11-smp\n        initrd = /boot/initrd.gz\n        root = /dev/hda7\n        label = 2.6.35.11-smp\n        read-only\n      # Linux bootable partition config ends\n\n    The last two examples show how easy it is to configure your computer\n    for the use of an initrd if you need one. The only thing left to do\n    afterwards is running 'lilo'.\n\u003c/span\u003e\u003cspan class=\"no\"\u003e\n    EOT\n\u003c/span\u003e\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Find the device that holds the root partition:\u003c/span\u003e\nget_root_device\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-e\u003c/span\u003e \u003cspan class=\"nv\"\u003e$FSTAB\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    \u003c/span\u003e\u003cspan class=\"nv\"\u003eRD\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ecat\u003c/span\u003e \u003cspan class=\"nv\"\u003e$FSTAB\u003c/span\u003e |tr \u003cspan class=\"s1\"\u003e'\\t'\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e |grep \u003cspan class=\"nt\"\u003e-v\u003c/span\u003e \u003cspan class=\"s1\"\u003e'^ *#'\u003c/span\u003e |tr \u003cspan class=\"nt\"\u003e-s\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e |grep \u003cspan class=\"s1\"\u003e' / '\u003c/span\u003e |cut \u003cspan class=\"nt\"\u003e-f1\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"s1\"\u003e' '\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$RD\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f1\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"LABEL\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e-o\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$RD\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f1\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"UUID\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n      \u003c/span\u003e\u003cspan class=\"nv\"\u003eDKEY\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$RD\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f1\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"c\"\u003e# The value can be LABEL=foo or LABEL='foo' or LABEL=\"foo\"\u003c/span\u003e\n      \u003cspan class=\"nv\"\u003eDVAL\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$RD\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f2\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"'\u003c/span\u003e\u003cspan class=\"se\"\u003e\\0\u003c/span\u003e\u003cspan class=\"s2\"\u003e42\"\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"nv\"\u003eRD\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e/sbin/blkid | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-w\u003c/span\u003e \u003cspan class=\"nv\"\u003e$DKEY\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-w\u003c/span\u003e \u003cspan class=\"nv\"\u003e$DVAL\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f1\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e:\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efi\n  else\n    \u003c/span\u003e\u003cspan class=\"nv\"\u003eRD\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-m1\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"^/dev/.*[[:blank:]]/[[:blank:]]\"\u003c/span\u003e /proc/mounts | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f1\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"s1\"\u003e' '\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"k\"\u003efi\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$RD\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Get the root fs information:\u003c/span\u003e\nget_rootfs_type\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003etype \u003c/span\u003eblkid 1\u0026gt;/dev/null 2\u0026gt;\u0026amp;1\u003cspan class=\"k\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n   \u003c/span\u003eblkid \u003cspan class=\"nt\"\u003e-s\u003c/span\u003e TYPE \u003cspan class=\"nt\"\u003e-o\u003c/span\u003e value \u003cspan class=\"nv\"\u003e$ROOTDEV\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eelif\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003etype \u003c/span\u003evol_id 1\u0026gt;/dev/null 2\u0026gt;\u0026amp;1\u003cspan class=\"k\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n   \u003c/span\u003evol_id \u003cspan class=\"nv\"\u003e$ROOTDEV\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep \u003c/span\u003eID_FS_TYPE | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f2\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n   \u003cspan class=\"c\"\u003e# As a fallback, use:\u003c/span\u003e\n   \u003cspan class=\"nb\"\u003ecat\u003c/span\u003e \u003cspan class=\"nv\"\u003e$FSTAB\u003c/span\u003e |tr \u003cspan class=\"s1\"\u003e'\\t'\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e |grep \u003cspan class=\"nt\"\u003e-v\u003c/span\u003e \u003cspan class=\"s1\"\u003e'^ *#'\u003c/span\u003e |tr \u003cspan class=\"nt\"\u003e-s\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e |grep \u003cspan class=\"s1\"\u003e' / '\u003c/span\u003e |cut \u003cspan class=\"nt\"\u003e-f3\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"s1\"\u003e' '\u003c/span\u003e\n  \u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Add the module(s) needed for the root filesystem:\u003c/span\u003e\nadd_rootfs_module\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nb\"\u003elocal \u003c/span\u003eFSMOD\n  \u003cspan class=\"nv\"\u003eFSMOD\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e/sbin/modprobe \u003cspan class=\"nt\"\u003e--set-version\u003c/span\u003e \u003cspan class=\"nv\"\u003e$KVER\u003c/span\u003e \u003cspan class=\"nt\"\u003e--show-depends\u003c/span\u003e \u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eROOTFS\u003c/span\u003e\u003cspan class=\"k\"\u003e}\u003c/span\u003e 2\u0026gt;/dev/null | \u003cspan class=\"k\"\u003ewhile \u003c/span\u003e\u003cspan class=\"nb\"\u003eread \u003c/span\u003eLINE\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003edo\n    \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ebasename\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$LINE\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"s1\"\u003e' '\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f2\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e .ko \u003cspan class=\"k\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"k\"\u003edone)\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-n\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$FSMOD\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n     \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-n\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e\u003cspan class=\"s2\"\u003e:\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$FSMOD\u003c/span\u003e | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e \u003cspan class=\"s1\"\u003e':'\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n                    \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$FSMOD\u003c/span\u003e | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e \u003cspan class=\"s1\"\u003e':'\u003c/span\u003e\n  \u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Determine the list of kernel modules needed to support the root device:\u003c/span\u003e\ndetermine_blockdev_drivers\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e# Walk the /sys tree to find kernel modules that are\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e# required for our storage devices.\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e# Thanks to PiterPUNK for help with this code.\u003c/span\u003e\n  \u003cspan class=\"nb\"\u003elocal \u003c/span\u003eMLIST\n  \u003cspan class=\"nv\"\u003eMLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(for \u003c/span\u003ei \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003efind /sys/block/\u003cspan class=\"k\"\u003e*\u003c/span\u003e/ \u003cspan class=\"nt\"\u003e-name\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"device\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e-print0\u003c/span\u003e | xargs \u003cspan class=\"nt\"\u003e-0\u003c/span\u003e \u003cspan class=\"nt\"\u003e-i\u003c/span\u003e\u003cspan class=\"s1\"\u003e'{}'\u003c/span\u003e \u003cspan class=\"nb\"\u003ereadlink\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f\u003c/span\u003e \u003cspan class=\"s1\"\u003e'{}'\u003c/span\u003e | \u003cspan class=\"nb\"\u003esort\u003c/span\u003e \u003cspan class=\"nt\"\u003e-u\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e\n    /sbin/udevadm info \u003cspan class=\"nt\"\u003e--query\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003eall \u003cspan class=\"nt\"\u003e--path\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$i\u003c/span\u003e \u003cspan class=\"nt\"\u003e--attribute-walk\u003c/span\u003e | \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n      \u003cspan class=\"nb\"\u003esed\u003c/span\u003e \u003cspan class=\"nt\"\u003e-ne\u003c/span\u003e \u003cspan class=\"s1\"\u003e's/^[[:blank:]]\\+DRIVER[S]*==\"\\([^\"]\\+\\)\"$/\\1/p'\u003c/span\u003e | \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n      xargs \u003cspan class=\"nt\"\u003e-I\u003c/span\u003e@ /sbin/modprobe \u003cspan class=\"nt\"\u003e--set-version\u003c/span\u003e \u003cspan class=\"nv\"\u003e$KVER\u003c/span\u003e \u003cspan class=\"nt\"\u003e--show-depends\u003c/span\u003e @ \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n      2\u0026gt;/dev/null | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-v\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"builtin \"\u003c/span\u003e | \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n      \u003cspan class=\"k\"\u003ewhile \u003c/span\u003e\u003cspan class=\"nb\"\u003eread \u003c/span\u003eLINE \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003edo \n        \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ebasename\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$LINE\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"s1\"\u003e' '\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f2\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e .ko \u003cspan class=\"k\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"k\"\u003edone\n  done)\u003c/span\u003e\n  \u003cspan class=\"nv\"\u003eMLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e \u003cspan class=\"s1\"\u003e':'\u003c/span\u003e \u003cspan class=\"k\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Search for USB keyboards:\u003c/span\u003e\n\u003cspan class=\"k\"\u003efunction \u003c/span\u003eadd_usb_keyboard\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nb\"\u003elocal \u003c/span\u003eUSBMOD\n  \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"nb\"\u003ecat\u003c/span\u003e /proc/bus/input/devices | \u003cspan class=\"nb\"\u003esed\u003c/span\u003e \u003cspan class=\"nt\"\u003e-e\u003c/span\u003e \u003cspan class=\"s1\"\u003e's/^$/\\$/g'\u003c/span\u003e | \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n     \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e$\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\" \u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e \u003cspan class=\"s2\"\u003e\" Phys=.*usb.* .*Handlers=.*kbd.*B:\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n     \u003c/span\u003e\u003cspan class=\"nv\"\u003eUSBMOD\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"xhci-pci:ohci-pci:ehci-pci:xhci-hcd:uhci-hcd:ehci-hcd:hid:usbhid:i2c-hid:hid_generic:hid-cherry:hid-logitech:hid-logitech-dj:hid-logitech-hidpp:hid-lenovo:hid-microsoft:hid_multitouch\"\u003c/span\u003e\n     \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-n\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003eMLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e\u003cspan class=\"s2\"\u003e:\u003c/span\u003e\u003cspan class=\"nv\"\u003e$USBMOD\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n                     \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"nv\"\u003eMLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$USBMOD\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n  \u003cspan class=\"k\"\u003efi\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Determine what USB Host Controller is in use\u003c/span\u003e\n\u003cspan class=\"k\"\u003efunction \u003c/span\u003eadd_usb_hcd\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nb\"\u003elocal \u003c/span\u003eUSBMOD\n  \u003cspan class=\"k\"\u003efor \u003c/span\u003ei \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003els\u003c/span\u003e \u003cspan class=\"nt\"\u003e-Ld\u003c/span\u003e /sys/module/\u003cspan class=\"k\"\u003e*\u003c/span\u003e_hcd/drivers/\u003cspan class=\"k\"\u003e*\u003c/span\u003e 2\u0026gt; /dev/null\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003edo \n    if \u003c/span\u003e\u003cspan class=\"nb\"\u003els\u003c/span\u003e \u003cspan class=\"nt\"\u003e-L\u003c/span\u003e \u003cspan class=\"nv\"\u003e$i\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"[0-9a-f]*:\"\u003c/span\u003e \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n      \u003c/span\u003e\u003cspan class=\"nv\"\u003eUSBMOD\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$i\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f4\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e/ | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"_\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"-\"\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-n\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003eMLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e\u003cspan class=\"s2\"\u003e:\u003c/span\u003e\u003cspan class=\"nv\"\u003e$USBMOD\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n                      \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"nv\"\u003eMLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$USBMOD\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efi\n  done\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Is the root partition on a (combination of) LVM/LUKS volume?\u003c/span\u003e\ncheck_luks_lvm_raid\u003cspan class=\"o\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e lvdisplay \u003cspan class=\"nt\"\u003e-c\u003c/span\u003e \u003cspan class=\"nv\"\u003e$ROOTDEV\u003c/span\u003e 1\u0026gt;/dev/null 2\u0026gt;/dev/null \u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n    \u003cspan class=\"c\"\u003e# Our root partition is on a LV:\u003c/span\u003e\n    \u003cspan class=\"nv\"\u003eUSING_LVM\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e1\n    \u003cspan class=\"c\"\u003e# Search the Physical Volume of our Logical Volume:\u003c/span\u003e\n    \u003cspan class=\"nv\"\u003eMYVG\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003elvdisplay \u003cspan class=\"nt\"\u003e-c\u003c/span\u003e \u003cspan class=\"nv\"\u003e$ROOTDEV\u003c/span\u003e 2\u0026gt;/dev/null\u003cspan class=\"k\"\u003e)\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e: \u003cspan class=\"nt\"\u003e-f2\u003c/span\u003e \u003cspan class=\"k\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor \u003c/span\u003eLINE \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003epvdisplay \u003cspan class=\"nt\"\u003e-c\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003edo\n      \u003c/span\u003e\u003cspan class=\"nv\"\u003eVG\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$LINE\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e: \u003cspan class=\"nt\"\u003e-f2\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$VG\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MYVG\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nb\"\u003ebreak\n    \u003c/span\u003e\u003cspan class=\"k\"\u003edone \n    \u003c/span\u003e\u003cspan class=\"nv\"\u003ePV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$LINE\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e: \u003cspan class=\"nt\"\u003e-f1\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"c\"\u003e# Check if there is a LUKS device underneath:\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e cryptsetup status \u003cspan class=\"nv\"\u003e$PV\u003c/span\u003e 1\u0026gt;/dev/null 2\u0026gt;/dev/null \u003cspan class=\"k\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n      \u003cspan class=\"c\"\u003e# Our root partition's LV  is on a LUKS volume:\u003c/span\u003e\n      \u003cspan class=\"nv\"\u003eUSING_LUKS\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e1\n      \u003cspan class=\"nv\"\u003eREALDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e cryptsetup status \u003cspan class=\"nv\"\u003e$PV\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"s1\"\u003e'device: '\u003c/span\u003e | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e: \u003cspan class=\"nt\"\u003e-f2\u003c/span\u003e \u003cspan class=\"k\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"nv\"\u003eBASEDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$REALDEV\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eelse\n      \u003c/span\u003e\u003cspan class=\"nv\"\u003eBASEDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$PV\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efi\n  elif\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e cryptsetup status \u003cspan class=\"nv\"\u003e$ROOTDEV\u003c/span\u003e 1\u0026gt;/dev/null 2\u0026gt;/dev/null \u003cspan class=\"k\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n    \u003cspan class=\"c\"\u003e# Our root device is on a LUKS volume:\u003c/span\u003e\n    \u003cspan class=\"nv\"\u003eUSING_LUKS\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e1\n    \u003cspan class=\"nv\"\u003eREALDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e cryptsetup status \u003cspan class=\"nv\"\u003e$ROOTDEV\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"s1\"\u003e'device: '\u003c/span\u003e | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e: \u003cspan class=\"nt\"\u003e-f2\u003c/span\u003e \u003cspan class=\"k\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"nv\"\u003eROOTDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ebasename\u003c/span\u003e \u003cspan class=\"nv\"\u003e$ROOTDEV\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"c\"\u003e# Check for LVM:\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor \u003c/span\u003eLV \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003elvdisplay \u003cspan class=\"nt\"\u003e-c\u003c/span\u003e 2\u0026gt;/dev/null | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f1\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e:\u003cspan class=\"k\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e\n      \u003cspan class=\"c\"\u003e# Note: cryptsetup shows the real device, whereas \u003c/span\u003e\n      \u003cspan class=\"c\"\u003e# lvdisplay requires the /dev/\u0026lt;myvg\u0026gt;/... symlink to the real device.\u003c/span\u003e\n      \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ereadlink\u003c/span\u003e \u003cspan class=\"nv\"\u003e$LV\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$REALDEV\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n        \u003c/span\u003e\u003cspan class=\"nv\"\u003eREALDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$LV\u003c/span\u003e\n        \u003cspan class=\"nb\"\u003ebreak\n      \u003c/span\u003e\u003cspan class=\"k\"\u003efi\n    done\n    if\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e lvdisplay \u003cspan class=\"nt\"\u003e-c\u003c/span\u003e \u003cspan class=\"nv\"\u003e$REALDEV\u003c/span\u003e 1\u0026gt;/dev/null 2\u0026gt;/dev/null \u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n      \u003cspan class=\"c\"\u003e# Our root partition's LUKS device is on a LV:\u003c/span\u003e\n      \u003cspan class=\"nv\"\u003eUSING_LVM\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e1\n      \u003cspan class=\"c\"\u003e# Search the Physical Volume of our Logical Volume:\u003c/span\u003e\n      \u003cspan class=\"nv\"\u003eMYVG\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003elvdisplay \u003cspan class=\"nt\"\u003e-c\u003c/span\u003e \u003cspan class=\"nv\"\u003e$REALDEV\u003c/span\u003e 2\u0026gt;/dev/null\u003cspan class=\"k\"\u003e)\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e: \u003cspan class=\"nt\"\u003e-f2\u003c/span\u003e \u003cspan class=\"k\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"k\"\u003efor \u003c/span\u003eLINE \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003epvdisplay \u003cspan class=\"nt\"\u003e-c\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003edo\n        \u003c/span\u003e\u003cspan class=\"nv\"\u003eVG\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$LINE\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e: \u003cspan class=\"nt\"\u003e-f2\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$VG\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MYVG\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nb\"\u003ebreak\n      \u003c/span\u003e\u003cspan class=\"k\"\u003edone \n      \u003c/span\u003e\u003cspan class=\"nv\"\u003ePV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$LINE\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e: \u003cspan class=\"nt\"\u003e-f1\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"nv\"\u003eBASEDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$PV\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eelse\n      \u003c/span\u003e\u003cspan class=\"nv\"\u003eBASEDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$REALDEV\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efi\n  else\n    \u003c/span\u003e\u003cspan class=\"nv\"\u003eBASEDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$ROOTDEV\u003c/span\u003e\n  \u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n  \u003cspan class=\"c\"\u003e# Finally, we should check if base device is\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e#   a real block device or a RAID volume:\u003c/span\u003e\n  \u003cspan class=\"k\"\u003efor \u003c/span\u003eMD \u003cspan class=\"k\"\u003ein\u003c/span\u003e  \u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ecat\u003c/span\u003e /proc/mdstat | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-w\u003c/span\u003e active | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"s1\"\u003e' '\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f1\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003edo\n    if\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$BASEDEV\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"/dev/\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MD\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n      \u003c/span\u003e\u003cspan class=\"nv\"\u003eUSING_RAID\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e1\n      \u003cspan class=\"nb\"\u003ebreak\n    \u003c/span\u003e\u003cspan class=\"k\"\u003efi\n  done\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Before we start\u003c/span\u003e\n\u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /bin/id \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003eCMD_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"/bin/id\"\u003c/span\u003e \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"nv\"\u003eCMD_ID\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"/usr/bin/id\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$CMD_ID\u003c/span\u003e \u003cspan class=\"nt\"\u003e-u\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"0\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"You need to be root to run \u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ebasename\u003c/span\u003e \u003cspan class=\"nv\"\u003e$0\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e.\"\u003c/span\u003e\n  \u003cspan class=\"nb\"\u003eexit \u003c/span\u003e1\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Parse the commandline parameters:\u003c/span\u003e\n\u003cspan class=\"k\"\u003ewhile\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"nt\"\u003e-z\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$1\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003edo\n  case\u003c/span\u003e \u003cspan class=\"nv\"\u003e$1\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e--longhelp\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n      basic_usage\n      extended_usage\n      \u003cspan class=\"nb\"\u003eexit \u003c/span\u003e0\n      \u003cspan class=\"p\"\u003e;;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e-a\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"nv\"\u003eMKINIT_PARAMS\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$2\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n      \u003cspan class=\"nb\"\u003eshift \u003c/span\u003e2\n      \u003cspan class=\"p\"\u003e;;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e-c\u003c/span\u003e\u003cspan class=\"p\"\u003e|\u003c/span\u003e\u003cspan class=\"nt\"\u003e--conf\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-n\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$EMIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Do not mix incompatible parameters!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"nb\"\u003eexit \u003c/span\u003e1\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"nv\"\u003eEMIT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"conf\"\u003c/span\u003e\n      \u003cspan class=\"nb\"\u003eshift\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e;;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e-h\u003c/span\u003e\u003cspan class=\"p\"\u003e|\u003c/span\u003e\u003cspan class=\"nt\"\u003e--help\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n      basic_usage\n      \u003cspan class=\"nb\"\u003eexit \u003c/span\u003e0\n      \u003cspan class=\"p\"\u003e;;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e-i\u003c/span\u003e\u003cspan class=\"p\"\u003e|\u003c/span\u003e\u003cspan class=\"nt\"\u003e--interactive\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"nv\"\u003eINTERACTIVE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e1\n      \u003cspan class=\"nb\"\u003eshift\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e;;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e-k\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"nv\"\u003eKVER\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$2\u003c/span\u003e\n      \u003cspan class=\"nb\"\u003eshift \u003c/span\u003e2\n      \u003cspan class=\"p\"\u003e;;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e-m\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"nv\"\u003eMKINIT_MODS\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$2\u003c/span\u003e\n      \u003cspan class=\"nb\"\u003eshift \u003c/span\u003e2\n      \u003cspan class=\"p\"\u003e;;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e-l\u003c/span\u003e\u003cspan class=\"p\"\u003e|\u003c/span\u003e\u003cspan class=\"nt\"\u003e--lilo\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-n\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$EMIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Do not mix incompatible parameters!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"nb\"\u003eexit \u003c/span\u003e1\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"nv\"\u003eEMIT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"lilo\"\u003c/span\u003e\n      \u003cspan class=\"nb\"\u003eshift\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e;;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e-L\u003c/span\u003e\u003cspan class=\"p\"\u003e|\u003c/span\u003e\u003cspan class=\"nt\"\u003e--fromlilo\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"nv\"\u003eFROMLILO\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e1\n      \u003cspan class=\"nb\"\u003eshift\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e;;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e-r\u003c/span\u003e\u003cspan class=\"p\"\u003e|\u003c/span\u003e\u003cspan class=\"nt\"\u003e--run\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-n\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$EMIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Do not mix incompatible parameters!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"nb\"\u003eexit \u003c/span\u003e1\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"nv\"\u003eEMIT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"run\"\u003c/span\u003e\n      \u003cspan class=\"nb\"\u003eshift\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e;;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e-R\u003c/span\u003e\u003cspan class=\"p\"\u003e|\u003c/span\u003e\u003cspan class=\"nt\"\u003e--rootdev\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"nv\"\u003eROOTDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$2\u003c/span\u003e\n      \u003cspan class=\"nb\"\u003eshift \u003c/span\u003e2\n      \u003cspan class=\"p\"\u003e;;\u003c/span\u003e\n    -\u003cspan class=\"k\"\u003e*\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Unsupported parameter '\u003c/span\u003e\u003cspan class=\"nv\"\u003e$1\u003c/span\u003e\u003cspan class=\"s2\"\u003e'!\"\u003c/span\u003e\n      \u003cspan class=\"nb\"\u003eexit \u003c/span\u003e1\n      \u003cspan class=\"p\"\u003e;;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003e*\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"c\"\u003e# Everything else but switches (which start with '-') follows:\u003c/span\u003e\n      \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f\u003c/span\u003e \u003cspan class=\"nv\"\u003e$1\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n        \u003c/span\u003e\u003cspan class=\"nv\"\u003eKFILE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$1\u003c/span\u003e\n        \u003cspan class=\"c\"\u003e# Construction of KFILE's full filename:\u003c/span\u003e\n        \u003cspan class=\"nv\"\u003eKFILEPATH\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ecd\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003edirname\u003c/span\u003e \u003cspan class=\"nv\"\u003e$KFILE\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nb\"\u003epwd\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-L\u003c/span\u003e \u003cspan class=\"nv\"\u003e$KFILE\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n          \u003c/span\u003e\u003cspan class=\"nv\"\u003eKFILE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ereadlink\u003c/span\u003e \u003cspan class=\"nv\"\u003e$KFILE\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eelse\n          \u003c/span\u003e\u003cspan class=\"nv\"\u003eKFILE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ebasename\u003c/span\u003e \u003cspan class=\"nv\"\u003e$KFILE\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003efi\n        \u003c/span\u003e\u003cspan class=\"nv\"\u003eKFILE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eKFILEPATH\u003c/span\u003e\u003cspan class=\"k\"\u003e}\u003c/span\u003e/\u003cspan class=\"nv\"\u003e$KFILE\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-z\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003efile \u003cspan class=\"nv\"\u003e$KFILE\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-E\u003c/span\u003e \u003cspan class=\"s1\"\u003e'Linux kernel x86 boot|x86 boot sector'\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n          \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"File '\u003c/span\u003e\u003cspan class=\"nv\"\u003e$KFILE\u003c/span\u003e\u003cspan class=\"s2\"\u003e' does not look like it is a kernel file!\"\u003c/span\u003e\n          \u003cspan class=\"nb\"\u003eexit \u003c/span\u003e1\n        \u003cspan class=\"k\"\u003efi\n      else\n        \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"File \u003c/span\u003e\u003cspan class=\"nv\"\u003e$1\u003c/span\u003e\u003cspan class=\"s2\"\u003e not found!\"\u003c/span\u003e\n        \u003cspan class=\"nb\"\u003eexit \u003c/span\u003e1\n      \u003cspan class=\"k\"\u003efi   \n      \u003c/span\u003e\u003cspan class=\"nb\"\u003eshift\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e;;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eesac\u003c/span\u003e\n\u003cspan class=\"k\"\u003edone\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Determine what to show as output (other options may have set EMIT already)\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eEMIT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eEMIT\u003c/span\u003e\u003cspan class=\"k\"\u003e:-\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"all\"\u003c/span\u003e\u003cspan class=\"k\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# An EMIT value of 'lilo' requires a kernel filename as script parameter:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$EMIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"lilo\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  if\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-z\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$KFILE\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"A kernel_filename is required with the '-l|--lilo' option!\"\u003c/span\u003e\n    \u003cspan class=\"nb\"\u003eexit \u003c/span\u003e1\n  \u003cspan class=\"k\"\u003efi\nfi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Determine kernel version to use,\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# and check if modules for this kernel are actually present:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-z\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$KVER\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  if\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-n\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$KFILE\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    \u003c/span\u003e\u003cspan class=\"nv\"\u003eKVER\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003estrings \u003cspan class=\"nv\"\u003e$KFILE\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"s1\"\u003e'([^ ]*@[^ ]*) #'\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f1\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"s1\"\u003e' '\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eelse\n    \u003c/span\u003e\u003cspan class=\"nv\"\u003eKVER\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003euname\u003c/span\u003e \u003cspan class=\"nt\"\u003e-r\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n  \u003cspan class=\"k\"\u003efi\nfi\nif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e /lib/modules/\u003cspan class=\"nv\"\u003e$KVER\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Modules for kernel \u003c/span\u003e\u003cspan class=\"nv\"\u003e$KVER\u003c/span\u003e\u003cspan class=\"s2\"\u003e aren't installed.\"\u003c/span\u003e\n  \u003cspan class=\"nb\"\u003eexit \u003c/span\u003e1\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e  \n\n\u003cspan class=\"c\"\u003e# Determine whether the user passed an alternate filename for the initrd:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-n\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MKINIT_PARAMS\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nv\"\u003eSRCHLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MKINIT_PARAMS\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n  \u003cspan class=\"k\"\u003efor \u003c/span\u003eELEM \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"nv\"\u003e$MKINIT_PARAMS\u003c/span\u003e \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003edo\n    \u003c/span\u003e\u003cspan class=\"nv\"\u003eSRCHLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$SRCHLIST\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"s1\"\u003e' '\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f2-\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e \u003cspan class=\"c\"\u003e# cut ELEM from the list\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$ELEM\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"-o\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n      \u003c/span\u003e\u003cspan class=\"nv\"\u003eIMGFILE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$SRCHLIST\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"s1\"\u003e' '\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f1\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"nb\"\u003ebreak\n    \u003c/span\u003e\u003cspan class=\"k\"\u003efi\n  done\nfi\n\u003c/span\u003e\u003cspan class=\"nv\"\u003eIMGFILE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eIMGFILE\u003c/span\u003e\u003cspan class=\"k\"\u003e:-\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"/boot/initrd.gz\"\u003c/span\u003e\u003cspan class=\"k\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Get information about the root device / root filesystem:\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eROOTDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eROOTDEV\u003c/span\u003e\u003cspan class=\"k\"\u003e:-$(\u003c/span\u003eget_root_device\u003cspan class=\"k\"\u003e)}\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eROOTFS\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003eget_rootfs_type\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Determine the list of kernel modules needed to support the root device:\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eMLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003edetermine_blockdev_drivers\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Check if we are running in a kvm guest with virtio block device driver\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# (add all virtio modules, we sort out the doubles later):\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"virtio\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nv\"\u003eMLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e\u003cspan class=\"s2\"\u003e:virtio:virtio_balloon:virtio_blk:virtio_ring:virtio_pci:virtio_net\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Determine if a USB keyboard is in use and include usbhid and hid_generic\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# to module list\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eMLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003eadd_usb_keyboard\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# If we use any USB module, try to determine the Host Controller\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"usb\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nv\"\u003eMLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003eadd_usb_hcd\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Check what combination of LUKS/LVM/RAID we have to support:\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# This sets values for USING_LUKS, USING_LVM, USING_RAID, REALDEV and BASEDEV.\u003c/span\u003e\ncheck_luks_lvm_raid\n\n\u003cspan class=\"c\"\u003e# This is the interactive part:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$INTERACTIVE\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"k\"\u003ethen\n  if\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$FROMLILO\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    \u003c/span\u003edialog \u003cspan class=\"nt\"\u003e--stdout\u003c/span\u003e \u003cspan class=\"nt\"\u003e--title\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"WELCOME TO MKINITRD COMMAND GENERATOR\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e--msgbox\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nThe main goal of this utility is to create a good initrd to \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nfit your needs.  It can detect what kernel you are running, \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nwhat is your root device, root filesystem, if you use encryption, \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nLVM, RAID, etc. \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\\n\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nUsually the probed values are OK and they will be the \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\ndefaults in all subsequent dialogs, but maybe you want \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nto change something. \u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nIf in doubt, leave the defaults.\"\u003c/span\u003e 0 0 \n\n    \u003cspan class=\"nv\"\u003eKVER\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e \u003cspan class=\"nb\"\u003els\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d1\u003c/span\u003e \u003cspan class=\"nt\"\u003e--indicator-style\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003enone /lib/modules/\u003cspan class=\"k\"\u003e*\u003c/span\u003e | \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n      \u003cspan class=\"nb\"\u003eawk\u003c/span\u003e \u003cspan class=\"nt\"\u003e-F\u003c/span\u003e/ \u003cspan class=\"nt\"\u003e-vVER\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$KVER\u003c/span\u003e \u003cspan class=\"s1\"\u003e'{ \n                            if ( VER == $NF ) { \n                              ONOFF=\"on\" \n                            } else { \n                              ONOFF=\"off\" \n                            } ; printf(\"%s \\\"\\\" %s\\n\",$NF,ONOFF) }'\u003c/span\u003e | \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n      xargs dialog \u003cspan class=\"nt\"\u003e--stdout\u003c/span\u003e \u003cspan class=\"nt\"\u003e--title\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"CHOOSE KERNEL VERSION\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n                   \u003cspan class=\"nt\"\u003e--default-item\u003c/span\u003e \u003cspan class=\"nv\"\u003e$KVER\u003c/span\u003e \u003cspan class=\"nt\"\u003e--radiolist\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nPlease, select the kernel version you want to create this initrd for.\"\u003c/span\u003e 0 0 4 \u003cspan class=\"k\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-z\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$KVER\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nb\"\u003eexit \u003c/span\u003e1\n\n    \u003cspan class=\"nv\"\u003eOLDROOTDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$ROOTDEV\u003c/span\u003e\n    \u003cspan class=\"nv\"\u003eROOTDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e dialog \u003cspan class=\"nt\"\u003e--stdout\u003c/span\u003e \u003cspan class=\"nt\"\u003e--title\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"SELECT ROOT DEVICE\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e--inputbox\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nEnter your root device. Root device is the one where your '/' filesystem \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nis mounted.\"\u003c/span\u003e 0 0 \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$ROOTDEV\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"k\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-z\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$ROOTDEV\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nb\"\u003eexit \u003c/span\u003e1\n\n    \u003cspan class=\"c\"\u003e# We need to re-check our defaults in case the user changed the default\u003c/span\u003e\n    \u003cspan class=\"c\"\u003e# value for ROOTDEV:\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$OLDROOTDEV\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$ROOTDEV\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e check_luks_lvm_raid\n    \u003cspan class=\"nv\"\u003eROOTFS\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003eget_rootfs_type\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"nv\"\u003eROOTFS\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e dialog \u003cspan class=\"nt\"\u003e--stdout\u003c/span\u003e \u003cspan class=\"nt\"\u003e--title\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"SELECT ROOT FILESYSTEM\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e--inputbox\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nEnter the type of your root filesystem.\"\u003c/span\u003e 0 0 \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$ROOTFS\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"k\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-z\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$ROOTFS\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nb\"\u003eexit \u003c/span\u003e1\n  \u003cspan class=\"k\"\u003efi\n\n  \u003c/span\u003e\u003cspan class=\"nv\"\u003eMLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003eadd_rootfs_module\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n\n  \u003cspan class=\"nv\"\u003eLLR\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e dialog \u003cspan class=\"nt\"\u003e--stdout\u003c/span\u003e \u003cspan class=\"nt\"\u003e--title\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"LVM/LUKS/RAID\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e--checklist\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nDo you use some of those in your root filesystem?  \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nIf this is the case, please select one or more options.\"\u003c/span\u003e 12 45 3 \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"LVM\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Logical Volume Manager\"\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$USING_LVM\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho \u003c/span\u003eon \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho \u003c/span\u003eoff\u003cspan class=\"k\"\u003e)\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"LUKS\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Linux Unified Key Setup\"\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$USING_LUKS\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho \u003c/span\u003eon \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho \u003c/span\u003eoff\u003cspan class=\"k\"\u003e)\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"RAID\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Linux Software RAID\"\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$USING_RAID\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho \u003c/span\u003eon \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho \u003c/span\u003eoff\u003cspan class=\"k\"\u003e))\u003c/span\u003e \n\n  \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$?\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"0\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    \u003c/span\u003e\u003cspan class=\"nb\"\u003eexit \u003c/span\u003e1\n  \u003cspan class=\"k\"\u003efi\n\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$LLR\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e LUKS \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003eUSING_LUKS\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"1\"\u003c/span\u003e\n  \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$LLR\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e LVM \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003eUSING_LVM\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"1\"\u003c/span\u003e\n  \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$LLR\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e RAID \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003eUSING_RAID\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"1\"\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$USING_LUKS\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    \u003c/span\u003e\u003cspan class=\"nv\"\u003eREALDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e dialog \u003cspan class=\"nt\"\u003e--stdout\u003c/span\u003e \u003cspan class=\"nt\"\u003e--title\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"LUKS ROOT DEVICE\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e--inputbox\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nPlease, enter your LUKS root device:\"\u003c/span\u003e 0 0 \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$REALDEV\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"k\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-z\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$REALDEV\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nb\"\u003eexit \u003c/span\u003e1\n  \u003cspan class=\"k\"\u003efi\nfi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Step out of the interactive loop for a moment. The next block needs to be\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# executed in all cases.\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# We need to 'undouble' the MLIST array. Some people report that walking the\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# /sys tree produces duplicate modules in the list.\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# The awk command elimitates doubles without changing the order:\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eMLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"s1\"\u003e':'\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\\n'\u003c/span\u003e | \u003cspan class=\"nb\"\u003eawk\u003c/span\u003e \u003cspan class=\"s1\"\u003e'!x[$0]++'\u003c/span\u003e | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\\n'\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e \u003cspan class=\"k\"\u003e)\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eMLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e \u003cspan class=\"s1\"\u003e':'\u003c/span\u003e \u003cspan class=\"k\"\u003e)\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eMLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMLIST\u003c/span\u003e\u003cspan class=\"p\"\u003e%\u003c/span\u003e:\u003cspan class=\"k\"\u003e})\u003c/span\u003e \u003cspan class=\"c\"\u003e# To weed out a trailing ':' which was reported once.\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Back to the interactive part:\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$INTERACTIVE\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nv\"\u003eMLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e dialog \u003cspan class=\"nt\"\u003e--stdout\u003c/span\u003e \u003cspan class=\"nt\"\u003e--title\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"INITRD'S MODULE LIST\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e--inputbox\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nThe list here shows all modules needed to support your root filesystem \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nand boot from it.  But you can change the list to use some alternative \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nor additional modules.  If you don't know what to do, the default is safe.\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n0 0 \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"k\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$?\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"0\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    \u003c/span\u003e\u003cspan class=\"nb\"\u003eexit \u003c/span\u003e1\n  \u003cspan class=\"k\"\u003efi\n\n  \u003c/span\u003e\u003cspan class=\"nv\"\u003eEXTRA\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e dialog \u003cspan class=\"nt\"\u003e--stdout\u003c/span\u003e \u003cspan class=\"nt\"\u003e--title\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"EXTRA CONFIGURATION\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e--checklist\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nNow is your chance for some additional configuration.  All of these \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nconfigurations are optional and you can stick to the defaults.\"\u003c/span\u003e 11 72 3 \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"KEYMAP\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Select keyboard layout (default: US)\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n               \u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nv\"\u003e$USING_LUKS\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e 1 \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho \u003c/span\u003eon \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho \u003c/span\u003eoff\u003cspan class=\"k\"\u003e)\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"RESUMEDEV\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Select device for 'suspend-to-disk' feature\"\u003c/span\u003e off \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"UDEV\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Use UDEV in the initrd for device configuration\"\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003etest\u003c/span\u003e \u003cspan class=\"nv\"\u003e$UDEV\u003c/span\u003e \u003cspan class=\"nt\"\u003e-eq\u003c/span\u003e 1 \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho \u003c/span\u003eon \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho \u003c/span\u003eoff\u003cspan class=\"k\"\u003e)\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"WAIT\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Add delay to allow detection of slow disks at boot\"\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003etest\u003c/span\u003e \u003cspan class=\"nv\"\u003e$WAIT\u003c/span\u003e \u003cspan class=\"nt\"\u003e-gt\u003c/span\u003e \u003cspan class=\"nv\"\u003e$WAIT_DEFAULT\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho \u003c/span\u003eon \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho \u003c/span\u003eoff\u003cspan class=\"k\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$?\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"0\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    \u003c/span\u003e\u003cspan class=\"nb\"\u003eexit \u003c/span\u003e1\n  \u003cspan class=\"k\"\u003efi\n\n  if \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$EXTRA\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e KEYMAP \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    \u003c/span\u003e\u003cspan class=\"nv\"\u003eKEYMAP\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e dialog \u003cspan class=\"nt\"\u003e--stdout\u003c/span\u003e \u003cspan class=\"nt\"\u003e--title\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"KEYBOARD LAYOUT SELECTION\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n      \u003cspan class=\"nt\"\u003e--cancel-label\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Skip\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n      \u003cspan class=\"nt\"\u003e--menu\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"You may select one of the following keyboard layouts. \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nIf you do not select a keyboard map, 'us.map' \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n(the US keyboard layout) is the default.  Use the UP/DOWN \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\narrow keys and PageUp/PageDown to scroll \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nthrough the whole list of choices.\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n22 55 11 \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/us.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"azerty/azerty.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"azerty/be-latin1.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"azerty/fr-latin0.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"azerty/fr-latin1.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"azerty/fr-latin9.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"azerty/fr-old.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"azerty/fr-pc.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"azerty/fr.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"azerty/wangbe.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"azerty/wangbe2.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"dvorak/ANSI-dvorak.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"dvorak/dvorak-l.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"dvorak/dvorak-r.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"dvorak/dvorak.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"dvorak/no-dvorak.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"fgGIod/tr_f-latin5.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"fgGIod/trf-fgGIod.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"olpc/es-olpc.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"olpc/pt-olpc.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/bg-cp1251.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/bg-cp855.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/bg_bds-cp1251.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/bg_bds-utf8.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/bg_pho-cp1251.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/bg_pho-utf8.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/br-abnt.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/br-abnt2.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/br-latin1-abnt2.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/br-latin1-us.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/by-cp1251.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/by.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/bywin-cp1251.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/cf.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/cz-cp1250.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/cz-lat2-prog.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/cz-lat2.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/cz-qwerty.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/defkeymap.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/defkeymap_V1.0.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/dk-latin1.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/dk.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/emacs.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/emacs2.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/es-cp850.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/es.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/et-nodeadkeys.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/et.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/fi-latin1.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/fi-latin9.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/fi-old.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/fi.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/gr-pc.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/gr.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/hu101.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/il-heb.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/il-phonetic.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/il.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/is-latin1-us.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/is-latin1.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/it-ibm.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/it.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/it2.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/jp106.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/kazakh.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/kyrgyz.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/la-latin1.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/lt.baltic.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/lt.l4.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/lt.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/mk-cp1251.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/mk-utf.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/mk.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/mk0.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/nl.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/nl2.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/no-latin1.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/no.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/pc110.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/pl.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/pl1.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/pl2.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/pl3.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/pl4.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/pt-latin1.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/pt-latin9.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/pt.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ro.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ro_std.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ru-cp1251.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ru-ms.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ru-yawerty.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ru.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ru1.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ru2.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ru3.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ru4.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ru_win.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ruwin_alt-CP1251.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ruwin_alt-KOI8-R.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ruwin_alt-UTF-8.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ruwin_cplk-CP1251.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ruwin_cplk-KOI8-R.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ruwin_cplk-UTF-8.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ruwin_ct_sh-CP1251.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ruwin_ct_sh-KOI8-R.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ruwin_ct_sh-UTF-8.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ruwin_ctrl-CP1251.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ruwin_ctrl-KOI8-R.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ruwin_ctrl-UTF-8.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/se-fi-ir209.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/se-fi-lat6.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/se-ir209.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/se-lat6.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/se-latin1.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/sk-prog-qwerty.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/sk-qwerty.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/speakup-jfw.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/speakupmap.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/sr-cy.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/sv-latin1.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/tr_q-latin5.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/tralt.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/trf.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/trq.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ttwin_alt-UTF-8.map.gz\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ttwin_cplk-UTF-8.map.gz\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ttwin_ct_sh-UTF-8.map.gz\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ttwin_ctrl-UTF-8.map.gz\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ua-cp1251.map.gz\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ua-utf-ws.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ua-utf.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ua-ws.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/ua.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/uk.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/us-acentos.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwerty/us.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwertz/croat.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwertz/cz-us-qwertz.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwertz/cz.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwertz/de-latin1-nodeadkeys.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwertz/de-latin1.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwertz/de.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwertz/de_CH-latin1.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwertz/fr_CH-latin1.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwertz/fr_CH.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwertz/hu.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwertz/sg-latin1-lk450.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwertz/sg-latin1.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwertz/sg.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwertz/sk-prog-qwertz.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwertz/sk-qwertz.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"s2\"\u003e\"qwertz/slovene.map\"\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"k\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-n\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$KEYMAP\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003eKEYMAP\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ebasename\u003c/span\u003e \u003cspan class=\"nv\"\u003e$KEYMAP\u003c/span\u003e .map\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"k\"\u003efi\n\n  if \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$EXTRA\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e UDEV \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    \u003c/span\u003e\u003cspan class=\"nv\"\u003eUDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e1\n  \u003cspan class=\"k\"\u003efi\n\n  if \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$EXTRA\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e RESUMEDEV \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n    \u003cspan class=\"c\"\u003e# Print information about swap partitions:\u003c/span\u003e\n    \u003cspan class=\"nv\"\u003eFREERAM\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003efree \u003cspan class=\"nt\"\u003e-k\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"^Mem:\"\u003c/span\u003e | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"nt\"\u003e-s\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"s1\"\u003e' '\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f2\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"nv\"\u003eSWPINFO\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor \u003c/span\u003eSWPDEV \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-w\u003c/span\u003e swap \u003cspan class=\"nv\"\u003e$FSTAB\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"s1\"\u003e' '\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f1\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003edo\n      \u003c/span\u003e\u003cspan class=\"nv\"\u003eSWPINFO\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$SWPINFO\u003c/span\u003e\u003cspan class=\"s2\"\u003e  \u003c/span\u003e\u003cspan class=\"nv\"\u003e$SWPDEV\u003c/span\u003e\u003cspan class=\"s2\"\u003e    Linux swap partition    \u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003efdisk \u003cspan class=\"nt\"\u003e-s\u003c/span\u003e \u003cspan class=\"nv\"\u003e$SWPDEV\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e KB \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\\\u003c/span\u003e\u003cspan class=\"s2\"\u003en\"\u003c/span\u003e\n      \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003efdisk \u003cspan class=\"nt\"\u003e-s\u003c/span\u003e \u003cspan class=\"nv\"\u003e$SWPDEV\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e \u003cspan class=\"nt\"\u003e-gt\u003c/span\u003e \u003cspan class=\"nv\"\u003e$FREERAM\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003eRESUMEDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$SWPDEV\u003c/span\u003e\n    \u003cspan class=\"k\"\u003edone\n    \u003c/span\u003e\u003cspan class=\"nv\"\u003eFREERAM\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003efree \u003cspan class=\"nt\"\u003e-m\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"^Mem:\"\u003c/span\u003e | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"nt\"\u003e-s\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"s1\"\u003e' '\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f2\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"nv\"\u003eRESUMEDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e dialog \u003cspan class=\"nt\"\u003e--stdout\u003c/span\u003e \u003cspan class=\"nt\"\u003e--no-collapse\u003c/span\u003e \u003cspan class=\"nt\"\u003e--title\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"HIBERNATE RESUME DEVICE\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e--inputbox\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nWhen using suspend-to-disk feature (hibernate), your computer's RAM is copied \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nto a swap device when it shuts down.  The kernel will resume from that RAM \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nimage at boot.  This means that the swap partition must not be smaller than \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nthe amount of RAM you have (\u003c/span\u003e\u003cspan class=\"nv\"\u003e$FREERAM\u003c/span\u003e\u003cspan class=\"s2\"\u003e MB). \u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"nv\"\u003e$SWPINFO\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nPlease specify a swap partition to be used for hibernation:\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n0 0 \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$RESUMEDEV\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-z\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$RESUMEDEV\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nb\"\u003eexit \u003c/span\u003e1\n  \u003cspan class=\"k\"\u003efi\n\n  if \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$EXTRA\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e WAIT \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    \u003c/span\u003e\u003cspan class=\"nv\"\u003eWAIT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e dialog \u003cspan class=\"nt\"\u003e--stdout\u003c/span\u003e \u003cspan class=\"nt\"\u003e--title\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"WAIT FOR ROOT DEVICE\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e--inputbox\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nSome block devices are too slow to be detected properly at boot. USB storage \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\ndevices and some disk arrays have this 'feature'. To make your machine \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nboot properly, you can add some delay here, to wait until all your disks are \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nprobed and detected. The time is in seconds:\"\u003c/span\u003e 0 0 \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$WAIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-z\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$WAIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nb\"\u003eexit \u003c/span\u003e1\n  \u003cspan class=\"k\"\u003efi\n\n  \u003c/span\u003e\u003cspan class=\"nv\"\u003eIMGFILE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e dialog \u003cspan class=\"nt\"\u003e--stdout\u003c/span\u003e \u003cspan class=\"nt\"\u003e--title\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"INITRD IMAGE NAME\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e--inputbox\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\u003c/span\u003e\u003cspan class=\"s2\"\u003e\nEnter your initrd image filename.\"\u003c/span\u003e 0 0 \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$IMGFILE\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"k\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-z\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$IMGFILE\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nb\"\u003eexit \u003c/span\u003e1\n\n\u003cspan class=\"k\"\u003eelse    \n  \u003c/span\u003e\u003cspan class=\"nv\"\u003eMLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003eadd_rootfs_module\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Add any modules passed along on the commandline:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-n\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MKINIT_MODS\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-n\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003eMLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e\u003cspan class=\"s2\"\u003e:\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$MKINIT_MODS\u003c/span\u003e | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e \u003cspan class=\"s1\"\u003e':'\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n                  \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"nv\"\u003eMLIST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$MKINIT_MODS\u003c/span\u003e | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e \u003cspan class=\"s1\"\u003e':'\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Constructing the mkinitrd command:\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eMKINIT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"mkinitrd -c -k \u003c/span\u003e\u003cspan class=\"nv\"\u003e$KVER\u003c/span\u003e\u003cspan class=\"s2\"\u003e -f \u003c/span\u003e\u003cspan class=\"nv\"\u003e$ROOTFS\u003c/span\u003e\u003cspan class=\"s2\"\u003e -r \u003c/span\u003e\u003cspan class=\"nv\"\u003e$ROOTDEV\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# If we have a module list, add them:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-z\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e-o\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\":\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nv\"\u003eMKINIT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MKINIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e -m \u003c/span\u003e\u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Deal with LUKS/LVM/RAID:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$USING_LUKS\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nv\"\u003eMKINIT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MKINIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e -C \u003c/span\u003e\u003cspan class=\"nv\"\u003e$REALDEV\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003efi\nif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$USING_LVM\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nv\"\u003eMKINIT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MKINIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e -L\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003efi\nif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$USING_RAID\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nv\"\u003eMKINIT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MKINIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e -R\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003efi\n\nif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-n\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$RESUMEDEV\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e# Add hibernation partition:\u003c/span\u003e\n  \u003cspan class=\"nv\"\u003eMKINIT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MKINIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e -h \u003c/span\u003e\u003cspan class=\"nv\"\u003e$RESUMEDEV\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003efi\nif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-n\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$KEYMAP\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e-a\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$KEYMAP\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"us\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e# Add non-us keyboard mapping:\u003c/span\u003e\n  \u003cspan class=\"nv\"\u003eMKINIT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MKINIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e -l \u003c/span\u003e\u003cspan class=\"nv\"\u003e$KEYMAP\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003efi\nif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nv\"\u003e$UDEV\u003c/span\u003e \u003cspan class=\"nt\"\u003e-eq\u003c/span\u003e 1 \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e# Add UDEV support:\u003c/span\u003e\n  \u003cspan class=\"nv\"\u003eMKINIT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MKINIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e -u\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003efi\nif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-n\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$WAIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e-a\u003c/span\u003e \u003cspan class=\"nv\"\u003e$WAIT\u003c/span\u003e \u003cspan class=\"nt\"\u003e-ne\u003c/span\u003e \u003cspan class=\"nv\"\u003e$WAIT_DEFAULT\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e# Add non-default wait time:\u003c/span\u003e\n  \u003cspan class=\"nv\"\u003eMKINIT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MKINIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e -w \u003c/span\u003e\u003cspan class=\"nv\"\u003e$WAIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003efi\nif\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MKINIT_PARAMS\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e \u003cspan class=\"nt\"\u003e--\u003c/span\u003e \u003cspan class=\"s1\"\u003e'-o '\u003c/span\u003e \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e# Add default output filename:\u003c/span\u003e\n  \u003cspan class=\"nv\"\u003eMKINIT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MKINIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e -o \u003c/span\u003e\u003cspan class=\"nv\"\u003e$IMGFILE\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003efi\nif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-n\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MKINIT_PARAMS\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e# Add user-supplied additional parameters:\u003c/span\u003e\n  \u003cspan class=\"nv\"\u003eMKINIT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MKINIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$MKINIT_PARAMS\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Notify the user:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$EMIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"all\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003ecat\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;-\u003c/span\u003e\u003cspan class=\"no\"\u003eEOT\u003c/span\u003e\u003cspan class=\"sh\"\u003e\n    #\n    # \u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ebasename\u003c/span\u003e \u003cspan class=\"nv\"\u003e$0\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"sh\"\u003e revision \u003c/span\u003e\u003cspan class=\"nv\"\u003e$REV\u003c/span\u003e\u003cspan class=\"sh\"\u003e\n    #\n    # This script will now make a recommendation about the command to use\n    # in case you require an initrd image to boot a kernel that does not\n    # have support for your storage or root filesystem built in\n    # (such as the Slackware 'generic' kernels').\n    # A suitable 'mkinitrd' command will be:\n\n    \u003c/span\u003e\u003cspan class=\"nv\"\u003e$MKINIT\u003c/span\u003e\u003cspan class=\"sh\"\u003e\n\u003c/span\u003e\u003cspan class=\"no\"\u003e    EOT\n\u003c/span\u003e\u003cspan class=\"k\"\u003eelif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$EMIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"run\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MKINIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003eelif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$EMIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"conf\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003ecat\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;-\u003c/span\u003e\u003cspan class=\"no\"\u003eEOT\u003c/span\u003e\u003cspan class=\"sh\"\u003e\n    SOURCE_TREE=\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$SOURCE_TREE\u003c/span\u003e\u003cspan class=\"sh\"\u003e\"\n    CLEAR_TREE=\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$CLEAR_TREE\u003c/span\u003e\u003cspan class=\"sh\"\u003e\"\n    OUTPUT_IMAGE=\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$IMGFILE\u003c/span\u003e\u003cspan class=\"sh\"\u003e\"\n    KERNEL_VERSION=\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$KVER\u003c/span\u003e\u003cspan class=\"sh\"\u003e\"\n    KEYMAP=\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$KEYMAP\u003c/span\u003e\u003cspan class=\"sh\"\u003e\"\n    MODULE_LIST=\"\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$MLIST\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f2\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"se\"\u003e\\ \u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"sh\"\u003e\"\n    LUKSDEV=\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$REALDEV\u003c/span\u003e\u003cspan class=\"sh\"\u003e\"\n    ROOTDEV=\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$ROOTDEV\u003c/span\u003e\u003cspan class=\"sh\"\u003e\"\n    ROOTFS=\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$ROOTFS\u003c/span\u003e\u003cspan class=\"sh\"\u003e\"\n    RESUMEDEV=\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$RESUMEDEV\u003c/span\u003e\u003cspan class=\"sh\"\u003e\"\n    RAID=\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$USING_RAID\u003c/span\u003e\u003cspan class=\"sh\"\u003e\"\n    LVM=\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$USING_LVM\u003c/span\u003e\u003cspan class=\"sh\"\u003e\"\n    UDEV=\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$UDEV\u003c/span\u003e\u003cspan class=\"sh\"\u003e\"\n    WAIT=\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$WAIT\u003c/span\u003e\u003cspan class=\"sh\"\u003e\"\n\u003c/span\u003e\u003cspan class=\"no\"\u003e    EOT\n\u003c/span\u003e\u003cspan class=\"k\"\u003efi\n\nif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-n\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$KFILE\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  if\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$EMIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"all\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    \u003c/span\u003e\u003cspan class=\"nb\"\u003ecat\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;-\u003c/span\u003e\u003cspan class=\"no\"\u003eEOT\u003c/span\u003e\u003cspan class=\"sh\"\u003e\n    # An entry in 'etc/lilo.conf' for kernel '\u003c/span\u003e\u003cspan class=\"nv\"\u003e$KFILE\u003c/span\u003e\u003cspan class=\"sh\"\u003e' would look like this:\n\u003c/span\u003e\u003cspan class=\"no\"\u003e    EOT\n\u003c/span\u003e  \u003cspan class=\"k\"\u003efi\n  if\u003c/span\u003e  \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$EMIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"all\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e-o\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$EMIT\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"lilo\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e# Compensate for the syntax used for the LUKS-on-LVM case:\u003c/span\u003e\n  \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ebasename\u003c/span\u003e \u003cspan class=\"nv\"\u003e$ROOTDEV\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$ROOTDEV\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003eBASE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"/dev/mapper/\"\u003c/span\u003e \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"nv\"\u003eBASE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e\n    \u003cspan class=\"nb\"\u003ecat\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;-\u003c/span\u003e\u003cspan class=\"no\"\u003eEOT\u003c/span\u003e\u003cspan class=\"sh\"\u003e\n    # Linux bootable partition config begins\n    # initrd created with '\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MKINIT\u003c/span\u003e\u003cspan class=\"sh\"\u003e'\n    image = \u003c/span\u003e\u003cspan class=\"nv\"\u003e$KFILE\u003c/span\u003e\u003cspan class=\"sh\"\u003e\n      initrd = \u003c/span\u003e\u003cspan class=\"nv\"\u003e$IMGFILE\u003c/span\u003e\u003cspan class=\"sh\"\u003e\n      root = \u003c/span\u003e\u003cspan class=\"nv\"\u003e$BASE$ROOTDEV\u003c/span\u003e\u003cspan class=\"sh\"\u003e\n      label = \u003c/span\u003e\u003cspan class=\"nv\"\u003e$KVER\u003c/span\u003e\u003cspan class=\"sh\"\u003e\n      read-only\n    # Linux bootable partition config ends\n\u003c/span\u003e\u003cspan class=\"no\"\u003e    EOT\n\u003c/span\u003e  \u003cspan class=\"k\"\u003efi\nfi\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003c/p\u003e\n\u003c/div\u003e\u003c/details\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003c/p\u003e\n\u003c/div\u003e\u003c/details\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"再起動\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%86%8D%E8%B5%B7%E5%8B%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e再起動\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e# reboot\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e※ インストールメディアを取り出し忘れないこと。\u003c/p\u003e\n\n\u003cp\u003e参考文献：\u003cbr\u003e\n\u003ca href=\"https://linuxjm.osdn.jp/html/0MultiFileIdx/man8/reboot.8.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://linuxjm.osdn.jp/html/0MultiFileIdx/man8/reboot.8.html\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"-に容量を継ぎ足す場合\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#-%E3%81%AB%E5%AE%B9%E9%87%8F%E3%82%92%E7%B6%99%E3%81%8E%E8%B6%B3%E3%81%99%E5%A0%B4%E5%90%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e/ に容量を継ぎ足す場合\u003c/h2\u003e\n\n\u003cp\u003eコマンド実行例：\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e# fdisk -l\n# pvcreate /dev/moomoo\n# lvs\n# vgextend SlackVG /dev/moomoo\n# lvextend -l +100%FREE SlackVG/root\n# resize2fs /dev/SlackVG/root\n# lvs\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e※ 100%FREE って\u003ca href=\"https://duckduckgo.com/?q=%E6%B0%97%E3%81%AE%E3%81%9B%E3%81%84\" rel=\"nofollow noopener\" target=\"_blank\"\u003e何だか体に良さそう\u003c/a\u003e。\u003cbr\u003e\n※ /dev/moomoo SlackVG root はハードウェア構成や LVM の設定に応じて適宜読み替えてください。\u003cbr\u003e\n※ ファイルシステムのオンラインリサイズについて、\u003cbr\u003e\n　・ext2/3/4 の場合は \u003ccode\u003eresize2fs\u003c/code\u003e 。\u003cbr\u003e\n　・btrfs の場合は \u003ccode\u003ebtrfs filesystem resize\u003c/code\u003e 。\u003cbr\u003e\n　・reiserfs の場合は \u003ccode\u003eresize_reiserfs\u003c/code\u003e 。\u003cbr\u003e\n　・xfs の場合は \u003ccode\u003exfs_growfs\u003c/code\u003e 。\u003c/p\u003e\n\n\u003cp\u003e\u003cdetails\u003e\u003csummary\u003e参考文献：\u003c/summary\u003e\u003cdiv\u003e\n\n\u003cp\u003eMan page of FDISK\u003cbr\u003e\n\u003ca href=\"https://linuxjm.osdn.jp/html/util-linux/man8/fdisk.8.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://linuxjm.osdn.jp/html/util-linux/man8/fdisk.8.html\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003epvcreate(8) - Linux man page\u003cbr\u003e\n\u003ca href=\"https://linux.die.net/man/8/pvcreate\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://linux.die.net/man/8/pvcreate\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003elvs(8) - Linux man page\u003cbr\u003e\n\u003ca href=\"https://linux.die.net/man/8/lvs\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://linux.die.net/man/8/lvs\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003evgextend(8) - Linux man page\u003cbr\u003e\n\u003ca href=\"https://linux.die.net/man/8/vgextend\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://linux.die.net/man/8/vgextend\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003elvextend(8) - Linux man page\u003cbr\u003e\n\u003ca href=\"https://linux.die.net/man/8/lvextend\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://linux.die.net/man/8/lvextend\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eresize2fs(8) - Linux man page\u003cbr\u003e\n\u003ca href=\"https://linux.die.net/man/8/resize2fs\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://linux.die.net/man/8/resize2fs\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003ebtrfs(8) - Linux man page\u003cbr\u003e\n\u003ca href=\"https://linux.die.net/man/8/btrfs\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://linux.die.net/man/8/btrfs\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eMan page of RESIZE_REISERFS\u003cbr\u003e\n\u003ca href=\"https://linuxjm.osdn.jp/html/reiserfsprogs/man8/resize_reiserfs.8.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://linuxjm.osdn.jp/html/reiserfsprogs/man8/resize_reiserfs.8.html\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003exfs_growfs(8) - Linux man page\u003cbr\u003e\n\u003ca href=\"https://linux.die.net/man/8/xfs_growfs\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://linux.die.net/man/8/xfs_growfs\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eLVM - ArchWiki\u003cbr\u003e\n\u003ca href=\"https://wiki.archlinux.jp/index.php/LVM\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://wiki.archlinux.jp/index.php/LVM\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003ePantora Networks » 3章 LVM操作 応用編\u003cbr\u003e\n\u003ca href=\"http://pantora.net/pages/linux/lvm/3/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://pantora.net/pages/linux/lvm/3/\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eLVMで新たにディスクを追加して既存のLVを拡張する - Qiita\u003cbr\u003e\n\u003ca href=\"https://qiita.com/g_maeda/items/3602dc2f7af3f711f9c4\" class=\"autolink\"\u003ehttps://qiita.com/g_maeda/items/3602dc2f7af3f711f9c4\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eLVM上のbtrfsのRAID1のサイズを拡張する - Qiita\u003cbr\u003e\n\u003ca href=\"https://qiita.com/takaki@github/items/5d96d80dc78b09ea600b\" class=\"autolink\"\u003ehttps://qiita.com/takaki@github/items/5d96d80dc78b09ea600b\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003c/p\u003e\n\u003c/div\u003e\u003c/details\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"備考\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%82%99%E8%80%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e備考\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"シャットダウンリブート時の-lvm-cant-deactivate--エラー\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B7%E3%83%A3%E3%83%83%E3%83%88%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AA%E3%83%96%E3%83%BC%E3%83%88%E6%99%82%E3%81%AE-lvm-cant-deactivate--%E3%82%A8%E3%83%A9%E3%83%BC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eシャットダウン・リブート時の “lvm can't deactivate …” エラー\u003c/h2\u003e\n\n\u003cp\u003eLVM に置いたルートでは毎回このエラーが出ますが、リードオンリーで再マウントした後の話なので最悪でもデータが飛ぶ恐れはないそうです。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e# This never hurts again (especially since root-on-LVM always fails\n# to deactivate the / logical volume...  but at least it was\n# remounted as read-only first)\n/bin/sync\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e出典：\u003c/p\u003e\n\n\u003cp\u003e\u003cdetails\u003e\u003csummary\u003e/etc/rc.d/rc.6 本体\u003c/summary\u003e\u003cdiv\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"sh\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e/etc/rc.d/rc.6\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"c\"\u003e#! /bin/sh\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# rc.6      This file is executed by init when it goes into runlevel\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#       0 (halt) or runlevel 6 (reboot). It kills all processes,\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#       unmounts file systems and then either halts or reboots.\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# Version:  @(#)/etc/rc.d/rc.6  2.47 Sat Jan 13 13:37:26 PST 2001\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# Author:   Miquel van Smoorenburg\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# Modified by:  Patrick J. Volkerding\u003c/span\u003e\n\u003cspan class=\"c\"\u003e#\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Set the path.\u003c/span\u003e\n\u003cspan class=\"nv\"\u003ePATH\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e/sbin:/etc:/bin:/usr/bin\n\n\u003cspan class=\"c\"\u003e# If there are SystemV init scripts for this runlevel, run them.\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /etc/rc.d/rc.sysvinit \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  \u003cspan class=\"nb\"\u003e.\u003c/span\u003e /etc/rc.d/rc.sysvinit\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Set linefeed mode to avoid staircase effect.\u003c/span\u003e\n/bin/stty onlcr\n\n\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Running shutdown script \u003c/span\u003e\u003cspan class=\"nv\"\u003e$0\u003c/span\u003e\u003cspan class=\"s2\"\u003e:\"\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Find out how we were called.\u003c/span\u003e\n\u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$0\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e\n    \u003cspan class=\"k\"\u003e*\u003c/span\u003e0\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"nv\"\u003eshutdown_command\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"halt\"\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e;;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003e*\u003c/span\u003e6\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"nv\"\u003eshutdown_command\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003ereboot\n        \u003cspan class=\"p\"\u003e;;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003e*\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$0\u003c/span\u003e\u003cspan class=\"s2\"\u003e: call me as \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\"\u003c/span\u003e\u003cspan class=\"s2\"\u003erc.0\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e or \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\"\u003c/span\u003e\u003cspan class=\"s2\"\u003erc.6\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e please!\"\u003c/span\u003e\n        \u003cspan class=\"nb\"\u003eexit \u003c/span\u003e1\n        \u003cspan class=\"p\"\u003e;;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eesac\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Save the system time to the hardware clock using hwclock --systohc.\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# This will also create or update the timestamps in /etc/adjtime.\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /sbin/hwclock \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e# Check for a broken motherboard RTC clock (where ioports for rtc are\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e# unknown) to prevent hwclock causing a hang:\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e \u003cspan class=\"s2\"\u003e\" : rtc\"\u003c/span\u003e /proc/ioports \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    \u003c/span\u003e\u003cspan class=\"nv\"\u003eCLOCK_OPT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"--directisa\"\u003c/span\u003e\n  \u003cspan class=\"k\"\u003efi\n  if\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e /etc/adjtime \u003cspan class=\"nt\"\u003e-nt\u003c/span\u003e /etc/hardwareclock \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    if \u003c/span\u003e\u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"^LOCAL\"\u003c/span\u003e /etc/adjtime \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n      \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Saving system time to the hardware clock (localtime).\"\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eelse\n      \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Saving system time to the hardware clock (UTC).\"\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efi\u003c/span\u003e\n    /sbin/hwclock \u003cspan class=\"nv\"\u003e$CLOCK_OPT\u003c/span\u003e \u003cspan class=\"nt\"\u003e--systohc\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eelif \u003c/span\u003e\u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"^UTC\"\u003c/span\u003e /etc/hardwareclock 2\u0026gt; /dev/null \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Saving system time to the hardware clock (UTC).\"\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"nt\"\u003e-r\u003c/span\u003e /etc/adjtime \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n      \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Creating system time correction file /etc/adjtime.\"\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efi\u003c/span\u003e\n    /sbin/hwclock \u003cspan class=\"nv\"\u003e$CLOCK_OPT\u003c/span\u003e \u003cspan class=\"nt\"\u003e--utc\u003c/span\u003e \u003cspan class=\"nt\"\u003e--systohc\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eelse\n    \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Saving system time to the hardware clock (localtime).\"\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"nt\"\u003e-r\u003c/span\u003e /etc/adjtime \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n      \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Creating system time correction file /etc/adjtime.\"\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efi\u003c/span\u003e\n    /sbin/hwclock \u003cspan class=\"nv\"\u003e$CLOCK_OPT\u003c/span\u003e \u003cspan class=\"nt\"\u003e--localtime\u003c/span\u003e \u003cspan class=\"nt\"\u003e--systohc\u003c/span\u003e\n  \u003cspan class=\"k\"\u003efi\nfi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Run any local shutdown scripts:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /etc/rc.d/rc.local_shutdown \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  /etc/rc.d/rc.local_shutdown stop\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Stop the Apache web server:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /etc/rc.d/rc.httpd \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  /etc/rc.d/rc.httpd stop\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Stop the MySQL database:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-r\u003c/span\u003e /var/run/mysql/mysql.pid \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  \u003cspan class=\"nb\"\u003e.\u003c/span\u003e /etc/rc.d/rc.mysqld stop\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Stop the Samba server:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /etc/rc.d/rc.samba \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  \u003cspan class=\"nb\"\u003e.\u003c/span\u003e /etc/rc.d/rc.samba stop\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Shut down the NFS server:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /etc/rc.d/rc.nfsd \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  /etc/rc.d/rc.nfsd stop\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Shut down the SSH server:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /etc/rc.d/rc.sshd \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  /etc/rc.d/rc.sshd stop\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Shut down the SASL authentication daemon:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /etc/rc.d/rc.saslauthd \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  /etc/rc.d/rc.saslauthd stop\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Shut down OpenLDAP:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /etc/rc.d/rc.openldap \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  /etc/rc.d/rc.openldap stop\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Stop D-Bus:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /etc/rc.d/rc.messagebus \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003esh /etc/rc.d/rc.messagebus stop\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Kill any processes (typically gam) that would otherwise prevent\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# unmounting NFS volumes:\u003c/span\u003e\n\u003cspan class=\"nb\"\u003eunset \u003c/span\u003eFUSER_DELAY\n\u003cspan class=\"k\"\u003efor \u003c/span\u003e\u003cspan class=\"nb\"\u003edir \u003c/span\u003e\u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e/bin/mount | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"s1\"\u003e'type nfs '\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f\u003c/span\u003e 3 \u003cspan class=\"k\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003edo\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Killing processes holding NFS mount \u003c/span\u003e\u003cspan class=\"nv\"\u003e$dir\u003c/span\u003e\u003cspan class=\"s2\"\u003e open...\"\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e# Background this to prevent fuser from also blocking shutdown:\u003c/span\u003e\n  /usr/bin/fuser \u003cspan class=\"nt\"\u003e-k\u003c/span\u003e \u003cspan class=\"nt\"\u003e-m\u003c/span\u003e \u003cspan class=\"nv\"\u003e$dir\u003c/span\u003e \u0026amp;\n  \u003cspan class=\"nv\"\u003eFUSER_DELAY\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e5\n\u003cspan class=\"k\"\u003edone\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# If fuser was run, let it have some delay:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"nt\"\u003e-z\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$FUSER_DELAY\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003esleep\u003c/span\u003e \u003cspan class=\"nv\"\u003e$FUSER_DELAY\u003c/span\u003e\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Unmount any NFS, SMB, or CIFS filesystems:\u003c/span\u003e\n\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Unmounting remote filesystems:\"\u003c/span\u003e\n/bin/umount \u003cspan class=\"nt\"\u003e-v\u003c/span\u003e \u003cspan class=\"nt\"\u003e-a\u003c/span\u003e \u003cspan class=\"nt\"\u003e-l\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f\u003c/span\u003e \u003cspan class=\"nt\"\u003e-r\u003c/span\u003e \u003cspan class=\"nt\"\u003e-t\u003c/span\u003e nfs,smbfs,cifs | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep \u003c/span\u003esuccessfully | \u003cspan class=\"nb\"\u003esed\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"s/:successfullyunmounted/ has been successfully unmounted./g\"\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Try to shut down pppd:\u003c/span\u003e\n\u003cspan class=\"nv\"\u003ePS\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003eps ax\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$PS\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e | /bin/grep \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e \u003cspan class=\"nt\"\u003e-w\u003c/span\u003e pppd \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  if\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /usr/sbin/ppp-off \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n    /usr/sbin/ppp-off\n  \u003cspan class=\"k\"\u003efi\nfi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Shut down YP services:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /etc/rc.d/rc.yp \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  if \u003c/span\u003e\u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-wq\u003c/span\u003e stop /etc/rc.d/rc.yp \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n    /etc/rc.d/rc.yp stop\n  \u003cspan class=\"k\"\u003efi\nfi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Bring down the networking system, but first make sure that this\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# isn't a diskless client with the / partition mounted via NFS:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e /bin/mount | /bin/grep \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e \u003cspan class=\"s1\"\u003e'on / type nfs'\u003c/span\u003e \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  if\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /etc/rc.d/rc.inet1 \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n    \u003cspan class=\"nb\"\u003e.\u003c/span\u003e /etc/rc.d/rc.inet1 stop\n  \u003cspan class=\"k\"\u003efi\nfi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# In case dhcpcd might have been manually started on the command line,\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# look for the .pid file, and shut dhcpcd down if it's found:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e /bin/ls /etc/dhcpc/\u003cspan class=\"k\"\u003e*\u003c/span\u003e.pid 1\u0026gt; /dev/null 2\u0026gt; /dev/null \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  /sbin/dhcpcd \u003cspan class=\"nt\"\u003e-k\u003c/span\u003e 1\u0026gt; /dev/null 2\u0026gt; /dev/null\n  \u003cspan class=\"c\"\u003e# A little time for /etc/resolv.conf and/or other files to\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e# restore themselves.\u003c/span\u003e\n  \u003cspan class=\"nb\"\u003esleep \u003c/span\u003e2\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Shut down PCMCIA devices:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /etc/rc.d/rc.pcmcia \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  \u003cspan class=\"nb\"\u003e.\u003c/span\u003e /etc/rc.d/rc.pcmcia stop\n  \u003cspan class=\"c\"\u003e# The cards might need a little extra time here to deactivate:\u003c/span\u003e\n  /bin/sleep 5\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Turn off process accounting:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /sbin/accton \u003cspan class=\"nt\"\u003e-a\u003c/span\u003e \u003cspan class=\"nt\"\u003e-r\u003c/span\u003e /var/log/pacct \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  /sbin/accton off\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Terminate acpid before syslog:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /etc/rc.d/rc.acpid \u003cspan class=\"nt\"\u003e-a\u003c/span\u003e \u003cspan class=\"nt\"\u003e-r\u003c/span\u003e /var/run/acpid.pid \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e \u003cspan class=\"c\"\u003e# quit\u003c/span\u003e\n  \u003cspan class=\"nb\"\u003e.\u003c/span\u003e /etc/rc.d/rc.acpid stop\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Stop udev:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /etc/rc.d/rc.udev \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003esh /etc/rc.d/rc.udev force-stop\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Kill all remaining processes.\u003c/span\u003e\n\u003cspan class=\"nv\"\u003eOMITPIDS\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"k\"\u003e$(for \u003c/span\u003ep \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003epgrep mdmon\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003edo \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nt\"\u003e-o\u003c/span\u003e \u003cspan class=\"nv\"\u003e$p\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003edone)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"c\"\u003e# Don't kill mdmon\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$1\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"fast\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Sending all processes the SIGTERM signal.\"\u003c/span\u003e\n  /sbin/killall5 \u003cspan class=\"nt\"\u003e-15\u003c/span\u003e \u003cspan class=\"nv\"\u003e$OMITPIDS\u003c/span\u003e\n  /bin/sleep 5\n  \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Sending all processes the SIGKILL signal.\"\u003c/span\u003e\n  /sbin/killall5 \u003cspan class=\"nt\"\u003e-9\u003c/span\u003e \u003cspan class=\"nv\"\u003e$OMITPIDS\u003c/span\u003e\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Try to turn off quota.\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e /bin/grep \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e quota /etc/fstab \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  if\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /sbin/quotaoff \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n    \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Turning off filesystem quotas.\"\u003c/span\u003e\n    /sbin/quotaoff \u003cspan class=\"nt\"\u003e-a\u003c/span\u003e\n  \u003cspan class=\"k\"\u003efi\nfi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Carry a random seed between reboots.\u003c/span\u003e\n\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Saving random seed from /dev/urandom in /etc/random-seed.\"\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# Use the pool size from /proc, or 4096 bits:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-r\u003c/span\u003e /proc/sys/kernel/random/poolsize \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  /bin/dd \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e/dev/urandom \u003cspan class=\"nv\"\u003eof\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e/etc/random-seed \u003cspan class=\"nv\"\u003ecount\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e1 \u003cspan class=\"nv\"\u003ebs\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eexpr\u003c/span\u003e \u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003ecat\u003c/span\u003e /proc/sys/kernel/random/poolsize\u003cspan class=\"k\"\u003e)\u003c/span\u003e / 8\u003cspan class=\"k\"\u003e)\u003c/span\u003e 2\u0026gt; /dev/null\n\u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n  /bin/dd \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e/dev/urandom \u003cspan class=\"nv\"\u003eof\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e/etc/random-seed \u003cspan class=\"nv\"\u003ecount\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e1 \u003cspan class=\"nv\"\u003ebs\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e512 2\u0026gt; /dev/null\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n/bin/chmod 600 /etc/random-seed\n\n\u003cspan class=\"c\"\u003e# Before unmounting file systems write a reboot or halt record to wtmp.\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$shutdown_command\u003c/span\u003e \u003cspan class=\"nt\"\u003e-w\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Turn off swap:\u003c/span\u003e\n\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Turning off swap.\"\u003c/span\u003e\n/sbin/swapoff \u003cspan class=\"nt\"\u003e-a\u003c/span\u003e\n/bin/sync\n\n\u003cspan class=\"c\"\u003e# Stop cgmanager and cgproxy:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /etc/rc.d/rc.cgmanager \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003esh /etc/rc.d/rc.cgmanager stop\n\u003cspan class=\"k\"\u003efi\n\n\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Unmounting local file systems:\"\u003c/span\u003e\n/bin/umount \u003cspan class=\"nt\"\u003e-v\u003c/span\u003e \u003cspan class=\"nt\"\u003e-a\u003c/span\u003e \u003cspan class=\"nt\"\u003e-t\u003c/span\u003e no,proc,sysfs | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep \u003c/span\u003esuccessfully | \u003cspan class=\"nb\"\u003esed\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"s/:successfullyunmounted/ has been successfully unmounted./g\"\u003c/span\u003e 2\u0026gt; /dev/null\n\n\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Remounting root filesystem read-only:\"\u003c/span\u003e\n/bin/mount \u003cspan class=\"nt\"\u003e-v\u003c/span\u003e \u003cspan class=\"nt\"\u003e-n\u003c/span\u003e \u003cspan class=\"nt\"\u003e-o\u003c/span\u003e remount,ro /\n\n\u003cspan class=\"c\"\u003e# This never hurts:\u003c/span\u003e\n/bin/sync\n\n\u003cspan class=\"c\"\u003e# Close any volumes opened by cryptsetup:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f\u003c/span\u003e /etc/crypttab \u003cspan class=\"nt\"\u003e-a\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /sbin/cryptsetup \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003ecat\u003c/span\u003e /etc/crypttab | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-v\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"^#\"\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-v\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"^$\"\u003c/span\u003e | \u003cspan class=\"k\"\u003ewhile \u003c/span\u003e\u003cspan class=\"nb\"\u003eread \u003c/span\u003eline\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e\n    \u003cspan class=\"c\"\u003e# NOTE: we only support LUKS formatted volumes (except for swap)!\u003c/span\u003e\n    \u003cspan class=\"nv\"\u003eLUKS\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$line\u003c/span\u003e | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\\t'\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"nt\"\u003e-s\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f1\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"s1\"\u003e' '\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"nv\"\u003eDEV\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$line\u003c/span\u003e | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\\t'\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"nt\"\u003e-s\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f2\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"s1\"\u003e' '\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"nv\"\u003eOPTS\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$line\u003c/span\u003e | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\\t'\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e | \u003cspan class=\"nb\"\u003etr\u003c/span\u003e \u003cspan class=\"nt\"\u003e-s\u003c/span\u003e \u003cspan class=\"s1\"\u003e' '\u003c/span\u003e | \u003cspan class=\"nb\"\u003ecut\u003c/span\u003e \u003cspan class=\"nt\"\u003e-f4\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\u003cspan class=\"s1\"\u003e' '\u003c/span\u003e\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e /sbin/cryptsetup isLuks \u003cspan class=\"nv\"\u003e$DEV\u003c/span\u003e 2\u0026gt;/dev/null \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n      \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Locking LUKS crypt volume '\u003c/span\u003e\u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eLUKS\u003c/span\u003e\u003cspan class=\"k\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e':\"\u003c/span\u003e\n      /sbin/cryptsetup luksClose \u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eLUKS\u003c/span\u003e\u003cspan class=\"k\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eelif \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$OPTS\u003c/span\u003e | \u003cspan class=\"nb\"\u003egrep\u003c/span\u003e \u003cspan class=\"nt\"\u003e-wq\u003c/span\u003e swap \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n      \u003cspan class=\"c\"\u003e# If any of the volumes was used as encrypted swap,\u003c/span\u003e\n      \u003cspan class=\"c\"\u003e# then run mkswap on the underlying device -\u003c/span\u003e\n      \u003cspan class=\"c\"\u003e# in case other Linux installations on this computer should use it:\u003c/span\u003e\n      \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Erasing encrypted swap '\u003c/span\u003e\u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eLUKS\u003c/span\u003e\u003cspan class=\"k\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e' and restoring normal swap on \u003c/span\u003e\u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eDEV\u003c/span\u003e\u003cspan class=\"k\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e:\"\u003c/span\u003e\n      /sbin/cryptsetup remove \u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eLUKS\u003c/span\u003e\u003cspan class=\"k\"\u003e}\u003c/span\u003e\n      mkswap \u003cspan class=\"nv\"\u003e$DEV\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efi\n  done\nfi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Deactivate LVM volume groups:\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-r\u003c/span\u003e /etc/lvmtab \u003cspan class=\"nt\"\u003e-o\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e /etc/lvm/backup \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Deactivating LVM volume groups:\"\u003c/span\u003e\n  /sbin/vgchange \u003cspan class=\"nt\"\u003e-an\u003c/span\u003e \u003cspan class=\"nt\"\u003e--ignorelockingfailure\u003c/span\u003e\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# This never hurts again (especially since root-on-LVM always fails\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# to deactivate the / logical volume...  but at least it was\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# remounted as read-only first)\u003c/span\u003e\n/bin/sync\n\n\u003cspan class=\"c\"\u003e# sleep 3 fixes problems with some hard drives that don't\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# otherwise finish syncing before reboot or poweroff\u003c/span\u003e\n/bin/sleep 3\n\n\u003cspan class=\"c\"\u003e# This is to ensure all processes have completed on SMP machines:\u003c/span\u003e\n\u003cspan class=\"nb\"\u003ewait\n\n\u003c/span\u003e\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"nt\"\u003e-x\u003c/span\u003e /sbin/genpowerd \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e# See if this is a powerfail situation:\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif\u003c/span\u003e /bin/egrep \u003cspan class=\"nt\"\u003e-q\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"FAIL|SCRAM\"\u003c/span\u003e /etc/upsstatus 2\u0026gt; /dev/null \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n    \u003cspan class=\"c\"\u003e# Signal UPS to shut off the inverter:\u003c/span\u003e\n    /sbin/genpowerd \u003cspan class=\"nt\"\u003e-k\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"nv\"\u003e$?\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e 0 \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n      \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\n      echo\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"There was an error signaling the UPS.\"\u003c/span\u003e\n      \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Perhaps you need to edit /etc/genpowerd.conf to configure\"\u003c/span\u003e\n      \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"the serial line and UPS type.\"\u003c/span\u003e\n      \u003cspan class=\"c\"\u003e# Wasting 15 seconds of precious power:\u003c/span\u003e\n      /bin/sleep 15\n    \u003cspan class=\"k\"\u003efi\n  fi\nfi\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# Now halt (poweroff with APM or ACPI enabled kernels) or reboot.\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e$shutdown_command\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"reboot\"\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\n  \u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Rebooting.\"\u003c/span\u003e\n  /sbin/reboot\n\u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n  /sbin/poweroff\n\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003c/p\u003e\n\u003c/div\u003e\u003c/details\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"elilo-におけるハイバネート機能swsuspの有効化任意のカーネルパラメータの適用\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#elilo-%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E3%83%8F%E3%82%A4%E3%83%90%E3%83%8D%E3%83%BC%E3%83%88%E6%A9%9F%E8%83%BDswsusp%E3%81%AE%E6%9C%89%E5%8A%B9%E5%8C%96%E4%BB%BB%E6%84%8F%E3%81%AE%E3%82%AB%E3%83%BC%E3%83%8D%E3%83%AB%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF%E3%81%AE%E9%81%A9%E7%94%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eELILO におけるハイバネート機能（SWSUSP）の有効化、任意のカーネルパラメータの適用\u003c/h2\u003e\n\n\u003cp\u003e/usr/sbin/eliloconfig を編集することで swsusp に対応させることが出来る他、起動時にお好みのカーネルパラメータを渡すことが可能です。\u003c/p\u003e\n\n\u003cp\u003e該当個所を、例えば以下のように編集します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"sh\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e/usr/sbin/eliloconfig\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nb\"\u003ecat\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan class=\"no\"\u003eEOF\u003c/span\u003e\u003cspan class=\"sh\"\u003e \u0026gt;\u0026gt; \u003c/span\u003e\u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e\u003cspan class=\"sh\"\u003e/boot/efi/EFI/Slackware/elilo.conf\n        read-only\n        append=\"root=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$ROOT_DEVICE\u003c/span\u003e\u003cspan class=\"sh\"\u003e vga=normal ro\"\n\u003c/span\u003e\u003cspan class=\"no\"\u003eEOF\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"sh\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e/usr/local/sbin/eliloconfig-modified\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nb\"\u003ecat\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan class=\"no\"\u003eEOF\u003c/span\u003e\u003cspan class=\"sh\"\u003e \u0026gt;\u0026gt; \u003c/span\u003e\u003cspan class=\"nv\"\u003e$T_PX\u003c/span\u003e\u003cspan class=\"sh\"\u003e/boot/efi/EFI/Slackware/elilo.conf\n        read-only\n        append=\"root=\u003c/span\u003e\u003cspan class=\"nv\"\u003e$ROOT_DEVICE\u003c/span\u003e\u003cspan class=\"sh\"\u003e resume=/dev/moo2 vga=normal ro\"\n\u003c/span\u003e\u003cspan class=\"no\"\u003eEOF\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eresume=/dev/moo2 はインストールした Slackware で使用している swap 領域を指定。\u003c/p\u003e\n\n\u003cp\u003e直接編集せず、/usr/local/sbin/eliloconfig-modified 等の名前でコピーを作成してそちらを編集すると安全かも。\u003c/p\u003e\n\n\u003cp\u003e\u003cdetails\u003e\u003csummary\u003e参考文献：\u003c/summary\u003e\u003cdiv\u003e\n\n\u003cp\u003eUsing swap files with software suspend (swsusp)\u003cbr\u003e\n\u003ca href=\"https://www.kernel.org/doc/Documentation/power/swsusp-and-swap-files.txt\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.kernel.org/doc/Documentation/power/swsusp-and-swap-files.txt\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://wiki.archlinux.jp/index.php/%E3%82%B5%E3%82%B9%E3%83%9A%E3%83%B3%E3%83%89%E3%81%A8%E3%83%8F%E3%82%A4%E3%83%90%E3%83%8D%E3%83%BC%E3%83%88\" rel=\"nofollow noopener\" target=\"_blank\"\u003eサスペンドとハイバネート - ArchWiki\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003ekernel.org の Documentation/admin-guide/kernel-parameters.txt\u003cbr\u003e\n\u003ca href=\"https://www.kernel.org/doc/Documentation/admin-guide/kernel-parameters.txt\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.kernel.org/doc/Documentation/admin-guide/kernel-parameters.txt\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://wiki.archlinux.jp/index.php/%E3%82%AB%E3%83%BC%E3%83%8D%E3%83%AB%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF\" rel=\"nofollow noopener\" target=\"_blank\"\u003eカーネルパラメータ - ArchWiki\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eMan page of BOOTPARAM\u003cbr\u003e\n\u003ca href=\"https://linuxjm.osdn.jp/html/LDP_man-pages/man7/bootparam.7.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://linuxjm.osdn.jp/html/LDP_man-pages/man7/bootparam.7.html\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003c/p\u003e\n\u003c/div\u003e\u003c/details\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"編集後記\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B7%A8%E9%9B%86%E5%BE%8C%E8%A8%98\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e編集後記：\u003c/h1\u003e\n\n\u003cp\u003e主要な設定・管理ツールがすべてシェルスクリプト\u003csup id=\"fnref2\"\u003e\u003ca href=\"#fn2\" rel=\"footnote\" title=\"例えば pkgtool 関係は軒並みシェルスクリプト（＋ dialog コマンド）。\"\u003e2\u003c/a\u003e\u003c/sup\u003eというのは見通しが良いし、改造するにも楽しいので助かります。怪しげなツールを自作する際の教材としても Good!\u003c/p\u003e\n\n\u003cp\u003e何だこのエラー？と思ってスクリプトを開くとコメント行で解説がついているのはとても助かりました。\u003c/p\u003e\n\n\u003cp\u003eSlackware、使って楽しいディストリです。\u003c/p\u003e\n\n\u003cdiv class=\"footnotes\"\u003e\n\u003chr\u003e\n\u003col\u003e\n\n\u003cli id=\"fn1\"\u003e\n\u003cp\u003eなんとなくドライブの潜在能力がもったいない気がするので。 \u003ca href=\"#fnref1\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn2\"\u003e\n\u003cp\u003e例えば pkgtool 関係は軒並みシェルスクリプト（＋ dialog コマンド）。 \u003ca href=\"#fnref2\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003c/ol\u003e\n\u003c/div\u003e\n","body":"# [当方執筆の技術情報に関するライセンス、免責事項、禁止事項](https://qiita.com/EarthSimilarityIndex/items/6b9bb2ccacb38aae15b1)\n****\n# 執筆動機\nlvm に関連する一連のコマンドラインツール群、及び eliloconfig を活用することで、そこそこシンプルに [LVM](https://ja.wikipedia.org/wiki/%E8%AB%96%E7%90%86%E3%83%9C%E3%83%AA%E3%83%A5%E3%83%BC%E3%83%A0%E3%83%9E%E3%83%8D%E3%83%BC%E3%82%B8%E3%83%A3) 領域への Slackware のインストールが可能でした。\n\n※ なお、[ESP（ EFI システムパーティション）](https://ja.wikipedia.org/wiki/EFI%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%83%91%E3%83%BC%E3%83%86%E3%82%A3%E3%82%B7%E3%83%A7%E3%83%B3)は LVM の中には置けないようです。[おのれディケイドぉぉぉぉぉ！！](https://dic.pixiv.net/a/%E3%81%8A%E3%81%AE%E3%82%8C%E3%83%87%E3%82%A3%E3%82%B1%E3%82%A4%E3%83%89)\n\n# 参考文献：\n\n\u003cdetails\u003e\u003csummary\u003e参考文献：\u003c/summary\u003e\u003cdiv\u003e\n\nhttps://www.slackwiki.com/LVM/Luks_Encryption\nhttps://wa3.i-3-i.info/word25557.html\nhttps://wa3.i-3-i.info/word12796.html\nhttps://www.debian.org/releases/stable/i386/apcs04.ja.html\nhttps://wiki.archlinux.jp/index.php/LVM\nhttps://wiki.gentoo.org/wiki/LVM/ja\nhttps://ansaikuropedia.org/wiki/Uncyclopedia:%E9%A6%AC%E9%B9%BF%E3%81%AB%E3%81%AA%E3%82%89%E3%81%9A%E3%81%AB%E3%83%90%E3%82%AB%E3%83%90%E3%82%AB%E3%81%97%E3%81%8F%E3%82%84%E3%82%8B%E6%96%B9%E6%B3%95\nhttps://www.linuxquestions.org/questions/slackware-14/slackware-current-elilo-lvm-4175534140/\nhttp://www.slackware.com/~alien/archive/13.1/README_LVM.TXT\nhttps://docs.slackware.com/howtos:slackware_admin:set_up_syslinux_as_boot_loader_on_uefi_based_hardware\nhttp://docs.slackware.com/howtos:slackware_admin:set_up_grub_as_boot_loader_on_uefi_based_hardware\nhttps://docs.slackware.com/howtos:slackware_admin:installing_on_uefi_hardware\nhttps://www.reddit.com/r/slackware/comments/4ydl83/slackware_and_uefi_help/\nhttps://blog.paranoidpenguin.net/2016/07/configuring-elilo-with-a-generic-kernel-on-slackware-14-2/\nhttps://www.linuxquestions.org/questions/slackware-14/slackpkg-lilo-elilo-initrd-4175628620/\nhttps://www.ibm.com/developerworks/jp/linux/library/l-initrd/index.html\nhttps://tech.nikkeibp.co.jp/it/article/COLUMN/20061025/251702/\nhttps://linux.die.net/man/8/mkinitrd\nhttps://duckduckgo.com/?q=lvm+can't+deactivate\nhttps://duckduckgo.com/?q=LVM+アンマウント\nhttps://rin-ka.net/centos7-lvm/\nhttps://www.youtube.com/watch?v=njxzwMGTWWs\nhttps://wiki.gentoo.org/wiki/Chroot/ja\nhttps://wiki.archlinux.jp/index.php/Chroot\nhttp://toaruhenjin.com/digimono-review/hotswap\nhttps://www.linuxquestions.org/linux/answers/Hardware/Mini_HOW_TO_Hibernate_and_resume_0\nhttps://wiki.gentoo.org/wiki/Suspend_and_hibernate\nhttps://takuya-1st.hatenablog.jp/entry/2016/12/16/183718\nhttps://duckduckgo.com/?q=スーパー牛さんパワー\nhttps://qiita.com/kon_yu/items/b8864ff566b8b67a9810\nhttps://qiita.com/mkamotsu/items/0135d2e756db4a18d965\nhttps://qiita.com/g_maeda/items/3602dc2f7af3f711f9c4\nhttps://qiita.com/takaki@github/items/5d96d80dc78b09ea600b\n\n\u003c/div\u003e\u003c/details\u003e\n\n# デスクトップ用途での LVM の利点として思いつくこと\n色々インストールしたりダウンロードしたりコンパイルしたり好き放題していたらいつの間にか容量が足りない！という場合に少ない手間で容量を[継ぎ足せます](https://duckduckgo.com/?q=何にでも牛乳を注ぐ女)。\n\n# 基本工程\n・[OS インストール環境の立ち上げ](https://qiita.com/EarthSimilarityIndex/items/89a482dd9c50401f5cf4#os-%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E7%92%B0%E5%A2%83%E3%81%AE%E7%AB%8B%E3%81%A1%E4%B8%8A%E3%81%92)\n・[GPT でフォーマット](https://qiita.com/EarthSimilarityIndex/items/89a482dd9c50401f5cf4#gpt-%E3%81%A7%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88)\n・[LVM パーティションの作成](https://qiita.com/EarthSimilarityIndex/items/89a482dd9c50401f5cf4#lvm-%E3%83%91%E3%83%BC%E3%83%86%E3%82%A3%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E4%BD%9C%E6%88%90)\n[・LVM 論理ボリュームの作成](https://qiita.com/EarthSimilarityIndex/items/89a482dd9c50401f5cf4#lvm-%E8%AB%96%E7%90%86%E3%83%9C%E3%83%AA%E3%83%A5%E3%83%BC%E3%83%A0%E3%81%AE%E4%BD%9C%E6%88%90)\n・[通常の OS インストール手順](https://qiita.com/EarthSimilarityIndex/items/89a482dd9c50401f5cf4#%E9%80%9A%E5%B8%B8%E3%81%AE-os-%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E6%89%8B%E9%A0%86)\n・[ブートローダーの LVM 対応](https://qiita.com/EarthSimilarityIndex/items/89a482dd9c50401f5cf4#os-%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E7%92%B0%E5%A2%83%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E3%83%96%E3%83%BC%E3%83%88%E3%83%AD%E3%83%BC%E3%83%80%E3%83%BC%E3%81%AE-lvm-%E5%AF%BE%E5%BF%9C)\n・[再起動](https://qiita.com/EarthSimilarityIndex/items/89a482dd9c50401f5cf4#%E5%86%8D%E8%B5%B7%E5%8B%95)\n\n# インストール時に HDD/SSD/swap を暗号化したい場合\nLVM/Luks Encryption - SlackWiki\nhttps://www.slackwiki.com/LVM/Luks_Encryption\n↑こちらをご覧下さい。\n\n※ EFI システムパーティションをこの方法で暗号化するのは無理っぽいです。改竄防止などは BIOS/UEFI 側の機能で行えるのかな？\n※ Fat32 の EFI システムパーティションってセキュリティ的にはどうなんだろ？[意外と強い](https://ja.wikipedia.org/wiki/%E3%82%B7%E3%83%A3%E3%82%B3)のか？\n\n# 各工程の詳細\n## OS インストール環境の立ち上げ\n### インストールメディアの用意\n**！！！CAUTION！！！イメージを書き込むドライブを間違えないこと！**\ndd で空の USB メモリに インストール DVD の iso を流し込むのが楽です。\n\nインストールイメージ入手先\nhttp://www.slackware.com/getslack/\n### インストールメディアからブート\nUEFI ブート。その際、インストール対象 HDD/SSD は IDE 互換モードではなく AHCI モードにしておく[^reason]。\n\n[^reason]: なんとなくドライブの潜在能力がもったいない気がするので。\n## GPT でフォーマット\n**！！！CAUTION！！！フォーマットするドライブを間違えないこと！**\n\n```\n# fdisk -l\n# sgdisk -o /dev/moo\n```\n\n※ /dev/moo は環境に応じて適宜読み替えて下さい。\n\n\u003cdetails\u003e\u003csummary\u003e参考文献：\u003c/summary\u003e\u003cdiv\u003e\n\nMan page of FDISK\nhttps://linuxjm.osdn.jp/html/util-linux/man8/fdisk.8.html\n\nMan page of SGDISK\nhttp://www.rodsbooks.com/gdisk/sgdisk.html\n\nLinux におけるデバイス名\nhttps://www.debian.org/releases/stable/i386/apcs04.ja.html\n\n\u003c/div\u003e\u003c/details\u003e\n\n## LVM パーティションの作成\n\n```\n# sgdisk -p /dev/moo\n# sgdisk -n 1:2048:1050623 -c 1:\"ESP\" -t 1:ef00 /dev/moo\n# sgdisk -n 2:1050624:3147775 -c 2:\"swap\" -t 2:8200 /dev/moo\n# sgdisk -n 3:3147776:$(sgdisk -E /dev/sda) -c 3:\"LVM00\" -t 3:8e00 /dev/moo\n# sgdisk -p /dev/moo\n```\n\n※ /dev/moo は環境に応じて適宜読み替えて下さい。\n※ EFIシステムパーティション（ESP）は LVM の外に。\n※ Swap パーティションは LVM の中でも外でも。\n※ 各パーティションに割り当てる容量はシステム環境や管理方針によります。\n※ 2048 セクタ:1 MiB（1 セクタ 512 バイトの場合）\n※ 1024 MiB = 1 GiB\n※ 1024 GiB = 1 TiB\n※ メモ書きからのコピペやシェルスクリプトに記述する用途では sgdisk 。通常使うなら対話的な gdisk や cgdisk が使いやすいかと。\n\n\u003cdetails\u003e\u003csummary\u003e参考文献：\u003c/summary\u003e\u003cdiv\u003e\n\nMan page of SGDISK\nhttp://www.rodsbooks.com/gdisk/sgdisk.html\n\nAn sgdisk Walkthrough\nhttp://www.rodsbooks.com/gdisk/sgdisk-walkthrough.html\n\nsgdisk(gdisk コマンドライン版) でまとめて変更する使い方 - それマグで！\nhttps://takuya-1st.hatenablog.jp/entry/2016/12/16/183718\n\nbash Tips - コマンド置換と算術式展開、パラメータ展開 - Qiita\nhttps://qiita.com/mashumashu/items/bbc3a79bc779fe8c4f99\n\nMan page of BASH\nhttps://linuxjm.osdn.jp/html/GNU_bash/man1/bash.1.html\n\n[メビバイト - Wikipedia](https://ja.wikipedia.org/wiki/%E3%83%A1%E3%83%93%E3%83%90%E3%82%A4%E3%83%88)\n\n\u003c/div\u003e\u003c/details\u003e\n\n## LVM 論理ボリュームの作成\n\n```\n# pvcreate /dev/moo3\n# vgcreate SlackVG /dev/moo3\n# lvcreate -l 100%FREE SlackVG -n root\n```\n\n※ /dev/moo3 SlackVG root は環境や用途、sgdisk の実行状況等に応じて適宜読み替えて下さい。\n\n\u003cdetails\u003e\u003csummary\u003e参考文献：\u003c/summary\u003e\u003cdiv\u003e\n\npvcreate(8) - Linux man page\nhttps://linux.die.net/man/8/pvcreate\n\nvgcreate(8) - Linux man page\nhttps://linux.die.net/man/8/vgcreate\n\nlvcreate(8) - Linux man page\nhttps://linux.die.net/man/8/lvcreate\n\nLVM/Luks Encryption - SlackWiki\nhttps://www.slackwiki.com/LVM/Luks_Encryption\n\nLVM - ArchWiki\nhttps://wiki.archlinux.jp/index.php/LVM\n\n\u003c/div\u003e\u003c/details\u003e\n\n## 通常の OS インストール手順\n\n```\n# setup\n```\n\n※ 完了時にうっかり再起動をかけないこと。\n\n![VirtualBox_Slackware_14.2_113.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/410379/aea9549c-365d-6ae2-26d8-cbd4deadee22.png)\n\n参考文献：\nhttp://www.slackware.com/install/setup.php\n\n## OS インストール環境におけるブートローダーの LVM 対応\n\n```\n# chroot /mnt\n# $(/usr/share/mkinitrd/mkinitrd_command_generator.sh -r)\n# exit\n# eliloconfig /mnt /dev/SlackVG/root\n```\n\n※ eliloconfig は引数1で OS ルートを、引数2でルートに対応するデバイスを指定出来るようです。\n※ /dev/SlackVG/root は作成した論理ボリュームに応じて適宜読み替えて下さい。\n※ 再起動後、インストール済みの Slackware からは eliloconfig に引数を与えなくとも正しく /boot/efi/EFI/Slackware/elilo.conf を生成出来ました。\n※ カーネルのアップグレードを行った場合は忘れずに ```$(/usr/share/mkinitrd/mkinitrd_command_generator.sh -r)``` 及び ```eliloconfig``` を実行すること。インストール済みの Slackware で行う場合 chroot の必要はありません。\n\n\u003cdetails\u003e\u003csummary\u003e参考文献：\u003c/summary\u003e\u003cdiv\u003e\n\nbash Tips - コマンド置換と算術式展開、パラメータ展開 - Qiita\nhttps://qiita.com/mashumashu/items/bbc3a79bc779fe8c4f99\n\nMan page of BASH\nhttps://linuxjm.osdn.jp/html/GNU_bash/man1/bash.1.html\n\nGNU Coreutils: 23.1 chroot: ルートディレクトリを変更して、コマンドを実行する\nhttps://linuxjm.osdn.jp/info/GNU_coreutils/coreutils-ja_169.html#chroot-invocation\n\nChroot - Gentoo Wiki\nhttps://wiki.gentoo.org/wiki/Chroot/ja\n\nchroot - ArchWiki\nhttps://wiki.archlinux.jp/index.php/Chroot\n\nLVM/Luks Encryption - SlackWiki\nhttps://www.slackwiki.com/LVM/Luks_Encryption\n\n[SOLVED] Slackware-current elilo lvm\nhttps://www.linuxquestions.org/questions/slackware-14/slackware-current-elilo-lvm-4175534140/\n\n\u003cdetails\u003e\u003csummary\u003eeliloconfig 本体\u003c/summary\u003e\u003cdiv\u003e\n\n```sh:/usr/sbin/eliloconfig\n#!/bin/sh\n# Copyright 2013, 2016, 2017  Patrick Volkerding, Sebeka, Minnesota, USA\n# All rights reserved.\n#\n# Redistribution and use of this script, with or without modification, is\n# permitted provided that the following conditions are met:\n#\n# 1. Redistributions of this script must retain the above copyright\n#    notice, this list of conditions and the following disclaimer.\n#\n#  THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED\n#  WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n#  MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO\n#  EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n#  SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n#  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n#  OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n#  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n#  OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n#  ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n#\n\n# This script installs the elilo boot loader, the kernel, and optionally\n# an initrd into the EFI System Partition.  A boot menu entry can also be\n# installed using efibootmgr.  The kernel used will be whatever the symlink\n# /boot/vmlinuz points to, and if /boot/initrd.gz exists, that will be \n# installed as the initrd.\n#\n# The EFI System Partition is expected to be mounted on /boot/efi before\n# running this script.\n\nTMP=/var/log/setup/tmp\n\n# Set the OS root directory (called T_PX for some unknown reason).\n# If an argument is given to this script and it is a directory, it\n# is taken to be the root directory.  First though, we check for a\n# directory named $T_PX, and that gets the first priority.\nif [ ! -d \"$T_PX\" ]; then\n  if [ ! \"$1\" = \"\" ]; then\n    if [ -d \"$1\" ]; then\n      T_PX=\"$1\"\n    fi\n  else\n    # Are we on the installer image?\n    if [ -r /usr/lib/setup/SeTpartitions ]; then\n      T_PX=/mnt\n    # Or, are we on a running system?\n    elif [ -r /etc/slackware-version ]; then\n      T_PX=/\n    # One more installer-likely thing:\n    elif [ -r /usr/lib/setup/setup ]; then\n      T_PX=/mnt\n    else\n      # We will have to assume we're on an installed and running system.\n      T_PX=/\n    fi\n  fi\nfi\n\n# Determine the root partition (such as /dev/sda1)\nROOT_DEVICE=$2\nif [ \"$ROOT_DEVICE\" = \"\" ]; then\n if [ -r $TMP/SeTrootdev ]; then\n  ROOT_DEVICE=\"$(cat $TMP/SeTrootdev)\"\n else\n  ROOT_DEVICE=\"$(mount | cut -f 1 -d ' ' | head -n 1)\"\n fi\nfi\n\n# If the system is not running under EFI, skip running this script:\nif [ ! -d /sys/firmware/efi ]; then\n  if [ \"$T_PX\" = \"/\" ]; then\n    echo \"ERROR:  System is not running under UEFI.\"\n  fi\n  exit\nfi\n\n# If there's no vfat mounted on /boot/efi or $T_PX/boot/efi, forget it:\nif ! mount | grep vfat | grep -wq /boot/efi ; then\n  if ! mount | grep vfat | grep -wq $T_PX/boot/efi ; then\n    if [ \"$T_PX\" = \"/\" ]; then\n      echo \"ERROR:  No EFI System Partition mounted on /boot/efi.\"\n    fi\n    exit\n  fi\nfi\n\n# Figure out the device and partition number of the ESP:\nDEVLEN=8\nPARTLEN=9\nif mount | grep vfat | grep -wq /boot/efi ; then\n  mount | grep vfat | grep -w /boot/efi | grep -q -e nvme -e mmcblk \u0026\u0026 DEVLEN=12 \u0026\u0026 PARTLEN=14\n  EFI_DEVICE=$(mount | grep vfat | grep -w /boot/efi | cut -b 1-${DEVLEN})\n  EFI_PARTITION=$(mount | grep vfat | grep -w /boot/efi | cut -f 1 -d ' ' | cut -b ${PARTLEN}- | tr -d [a-z])\nelse\n  mount | grep vfat | grep -w $T_PX/boot/efi | grep -q -e nvme -e mmcblk \u0026\u0026 DEVLEN=12 \u0026\u0026 PARTLEN=14\n  EFI_DEVICE=$(mount | grep vfat | grep -w $T_PX/boot/efi | cut -b 1-${DEVLEN})\n  EFI_PARTITION=$(mount | grep vfat | grep -w $T_PX/boot/efi | cut -f 1 -d ' ' | cut -b ${PARTLEN}- | tr -d [a-z])\nfi\n\n# There better be a kernel:\nif [ ! -r $T_PX/boot/vmlinuz ]; then\n  if [ \"$T_PX\" = \"/\" ]; then\n    echo \"ERROR:  No kernel found at /boot/vmlinuz.\"\n  fi\n  exit\nfi\n\ndialog --title \"INSTALL ELILO\" \\\n--backtitle \"ELILO (EFI Linux Loader) installation\" \\\n--menu \"ELILO is a Linux boot loader for \\\nEFI based systems.  Installing ELILO will allow you to boot your Linux \\\nsystem from the hard drive after selecting it from the UEFI boot menu.  \\\nSince an EFI System Partition was detected on this machine, it is \\\nrecommended that you install ELILO now.  Please select an option:\" \\\n13 70 2 \\\n\"install\" \"Install ELILO on the EFI System Partition\" \\\n\"skip\" \"Do not install ELILO\" 2\u003e $TMP/reply\nif [ $? = 1 -o $? = 255 ]; then\n  exit\nfi\nREPLY=\"`cat $TMP/reply`\"\nrm -f $TMP/reply\nif [ \"$REPLY\" = \"skip\" ]; then\n  exit\nfi\n\nmkdir -p $T_PX/boot/efi/EFI/Slackware 1\u003e /dev/null 2\u003e /dev/null\ncat \u003c\u003c EOF \u003e $T_PX/boot/efi/EFI/Slackware/elilo.conf\nchooser=simple\ndelay=1\ntimeout=1\n#\nEOF\ncp -a $T_PX/boot/elilo-x86_64.efi $T_PX/boot/efi/EFI/Slackware/elilo.efi 1\u003e /dev/null 2\u003e /dev/null\ncp $T_PX/boot/vmlinuz $T_PX/boot/efi/EFI/Slackware 1\u003e /dev/null 2\u003e /dev/null\ncat \u003c\u003c EOF \u003e\u003e $T_PX/boot/efi/EFI/Slackware/elilo.conf\nimage=vmlinuz\n        label=vmlinuz\nEOF\ntouch -r $T_PX/boot/vmlinuz $T_PX/boot/efi/EFI/Slackware/vmlinuz\nif [ -r $T_PX/boot/initrd.gz ]; then\n  cp $T_PX/boot/initrd.gz $T_PX/boot/efi/EFI/Slackware 1\u003e /dev/null 2\u003e /dev/null\n  touch -r $T_PX/boot/initrd.gz $T_PX/boot/efi/EFI/Slackware/initrd.gz\n  cat \u003c\u003c EOF \u003e\u003e $T_PX/boot/efi/EFI/Slackware/elilo.conf\n        initrd=initrd.gz\nEOF\nfi\ncat \u003c\u003c EOF \u003e\u003e $T_PX/boot/efi/EFI/Slackware/elilo.conf\n        read-only\n        append=\"root=$ROOT_DEVICE vga=normal ro\"\nEOF\n\ndialog --title \"INSTALL BOOT MENU ENTRY?\" \\\n--backtitle \"ELILO (EFI Linux Loader) installation\" \\\n--menu \"Would you like to install \\\na boot menu entry so that you can easily select Slackware when you boot your \\\nmachine?  WARNING:  DO NOT install a boot menu entry on Apple hardware.  \\\nApple computers use a different type of EFI firmware, and efibootmgr has \\\nbeen known to damage them.  On all other computers, it is recommended to add \\\na boot menu entry.  Please select an option:\" \\\n14 70 2 \\\n\"install\" \"Install a boot menu entry\" \\\n\"skip\" \"Do not install a boot menu entry\" 2\u003e $TMP/reply\nif [ $? = 1 -o $? = 255 ]; then\n  exit\nfi\nREPLY=\"`cat $TMP/reply`\"\nrm -f $TMP/reply\nif [ \"$REPLY\" = \"skip\" ]; then\n  exit\nfi\n\nif [ ! -d /sys/firmware/efi/vars ]; then\n  modprobe efivars 1\u003e /dev/null 2\u003e /dev/null\n  sleep 1 # Probably not needed, but playing it safe\nfi\n# If it's still gone, we fail silently:\nif [ ! -d /sys/firmware/efi/vars ]; then\n  exit\nfi\n\nefibootmgr -v | rev | cut -f 2- | rev | grep Boot0 | grep Slackware | while read line ; do\n  # Reject entries that don't exactly match as not our business\n  if [ ! \"$(echo $line | cut -f 2- -d ' ')\" = \"Slackware\" ]; then\n    continue\n  fi\n  ENTRY=\"$(efibootmgr -v | grep \"^$(echo $line | cut -b1-8)\")\"\n  dialog --title \"REMOVE OLD \\\"Slackware\\\" EFI BOOT ENTRY?\" \\\n  --backtitle \"ELILO (EFI Linux Loader) installation\" \\\n  --yesno \"An old Slackware boot entry has been found in your EFI boot menu. \\\nWould you like to remove this before installing the new Slackware boot \\\nentry?  This is recommended.\\n\\nOld EFI boot menu entry:\\n$ENTRY\" 13 70\n  if [ ! $? = 0 ]; then\n    continue\n  fi\n  # Remove the boot entry:\n  efibootmgr -q -B -b $(echo $line | cut -b5-8)\ndone\n\nefibootmgr -q -c -d $EFI_DEVICE -p $EFI_PARTITION -l \"\\\\EFI\\\\Slackware\\\\elilo.efi\" -L \"Slackware\"\n\nefibootmgr -v | rev | cut -f 2- | rev | grep Boot0 | grep Slackware | while read line ; do\n  # Reject entries that don't exactly match as not our business\n  if [ ! \"$(echo $line | cut -f 2- -d ' ')\" = \"Slackware\" ]; then\n    continue\n  fi\n  ENTRY=\"$(efibootmgr -v | grep \"^$(echo $line | cut -b1-8)\")\"\n  if echo $ENTRY | grep -q -F \"\\EFI\\Slackware\\elilo.efi\" ; then\n  dialog --title \"EFI BOOT ENTRY INSTALLED\" \\\n  --backtitle \"ELILO (EFI Linux Loader) installation\" \\\n  --msgbox \"A Slackware boot entry has been installed to your EFI boot\nmenu.\\n\\nEFI boot menu entry:\\n$ENTRY\" 11 70\n  fi\ndone\n\n# Done.\n```\n\u003c/div\u003e\u003c/details\u003e\n\n\u003cdetails\u003e\u003csummary\u003emkinitrd_command_generator.sh 本体\u003c/summary\u003e\u003cdiv\u003e\n\n```sh:/usr/share/mkinitrd/mkinitrd_command_generator.sh\n#!/bin/sh\n# $Id: mkinitrd_command_generator.sh,v 1.45 2011/02/17 09:27:05 eha Exp eha $\n# Copyright 2013  Patrick J. Volkerding, Sebeka, Minnesota, USA\n# Copyright 2008, 2009, 2010, 2011  Eric Hameleers, Eindhoven, Netherlands\n#\n# Copyright 2008, 2009  PiterPUNK, Sao Paulo, SP, Brazil\n#\n# All rights reserved.\n#\n#   Permission to use, copy, modify, and distribute this software for\n#   any purpose with or without fee is hereby granted, provided that\n#   the above copyright notice and this permission notice appear in all\n#   copies.\n#\n#   THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n#   WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n#   MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n#   IN NO EVENT SHALL THE AUTHORS AND COPYRIGHT HOLDERS AND THEIR\n#   CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n#   SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n#   LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n#   USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n#   ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n#   OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n#   OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n#   SUCH DAMAGE.\n# -----------------------------------------------------------------------------\n#\n# Create an initrd which fits the system.\n# Take into account the use of LVM/LUKS/RAID.\n# Find out about any hardware drivers the system may need in an initrd when\n# booting from a generic lightweight kernel.\n#\n# -----------------------------------------------------------------------------\n\n# The script's revision number will be displayed in the help text:\nREV=$( echo \"$Revision: 1.45 $\" | cut -d' '  -f2 )\n\n# Define some essential parameter values:\nUSING_LVM=\"\"\nUSING_LUKS=\"\"\nUSING_RAID=\"\"\nMLIST=\"\"\nREALDEV=\"\"   # The device that contains the LUKS volume\nBASEDEV=\"\"   # Lowest level device (raw block device or RAID volume)\n\nFSTAB=${FSTAB:-\"/etc/fstab\"} # so we can test with alternate fstab files\n\n# These are needed by -c and -i options:\nSOURCE_TREE=${SOURCE_TREE:-\"/boot/initrd-tree\"}\nCLEAR_TREE=${CLEAR_TREE:-1}\nKEYMAP=${KEYMAP:-\"us\"}\nUDEV=${UDEV:-1}\n# ARM devices need more time:\ncase \"$( uname -m )\" in\n  arm*) WAIT_DEFAULT=4;;\n  *) WAIT_DEFAULT=1;;\nesac\nWAIT=${WAIT:-$WAIT_DEFAULT}\n\n# A basic explanation of the commandline parameters:\nbasic_usage() {\n  cat \u003c\u003c-EOT\n\t\n\t*** $(basename $0) revision $REV ***\n\tUsage:\n\t  $(basename $0) [ options ] [ kernel_filename ]\n\tOptions:\n\t  -a \u003c\"additional params\"\u003e  Additional parameters to pass to mkinitrd.\n\t  -c | --conf               Show a suitable mkinitrd configuration file.\n\t  -h | --help               Show this help.\n\t  -i | --interactive        Navigate through menus instead of using\n\t                            commandline arguments.  \n\t  --longhelp                Show more detailed information/examples.\n\t  -k \u003ckernelversion\u003e        Use specific kernel version.\n\t  -m \u003c\"additional mods\"\u003e    Additional modules to pass to mkinitrd,\n\t                            separated by colons (:).\n\t  -l | --lilo               Only show lilo.conf section\n\t                            (requires a kernel_filename).\n\t  -r | --run                Only show 'mkinitrd' command.\n\tEOT\n}\n\n# More of a tutorial here:\nextended_usage() {\n  cat \u003c\u003c-EOT\n\t\n\tThis script is useful in situations where you require an initrd image\n\tto boot your computer.\n\tFor instance, when booting a kernel that does not have support for your\n\tstorage or root filesystem built in (such as the Slackware 'generic'\n\tkernels').\n\t\n\t* When you run the script without parameters, it will examine your\n\trunning system, your current kernel version and will output an example\n\tof a 'mkinitrd' commandline that you can use to generate an initrd\n\timage containing enough driver support to boot the computer.\n\t\n\t* You can make it more specific: when you add the filename of a kernel\n\tas parameter to the script, it will determine the kernel version from\n\tthat kernel, and also give an example of the lines that you should add\n\tto your '/etc/lilo.conf' file.\n\t\n\t* If you want your initrd image to have a custom name instead of the\n\tdefault '/boot/initrd.gz' you can add it as another parameter to the\n\tscript, as follows:\n\t\n\t  $(basename $0) -a \"-o /boot/custom.gz\"\n\t\n\tThe arguments to the '-a' parameter will be used as additional arguments\n\tto the 'mkinitrd' command.\n\t\n\t* If you need additional modules in the initrd image, apart from what\n\tthe script determines, you can pass then to the script using the '-m'\n\tparameter as follows:\n\t\n\t  $(basename $0) -m \"uhci-hcd:usbhid:hid_generic\"\n\t\n\tThe above example adds support for USB keyboards to the initrd - you\n\tmay need that if you have encrypted your root partition and need to\n\tenter a passphrase using a USB keyboard.\n\t\n\t* Instead of copying and pasting the script's output, you can create\n\tan initrd by directly executing the output, like in this example:\n\t\n\tEOT\n\n  echo \"  \\$($(basename $0) --run /boot/vmlinuz-generic-smp-2.6.35.11-smp)\"\n\n  cat \u003c\u003c-EOT\n\t\n\tThat used the '-r' or '--run' switch to make the script only write\n\tthe 'mkinitrd' commandline to the terminal.\n\t\n\t* When you want to add a section for a specific kernel to\n\t'/etc/lilo.conf' directly, use the '-l' or '--lilo' switch and use a\n\tcommand like in this example:\n\t\n\tEOT\n\n  echo \"  $(basename $0) --lilo /boot/vmlinuz-generic-smp-2.6.35.11-smp \u003e\u003e/etc/lilo.conf\"\n\n  cat \u003c\u003c-EOT\n\t\n\tThat command will result in the following lines being added to your\n\t'/etc/lilo.conf' file (example for my hardware):\n\t\n\t  # Linux bootable partition config begins\n\t  # initrd created with 'mkinitrd -c -k 2.6.35.11-smp -m ata_generic:pata_amd:mbcache:jbd:ext3 -f ext3 -r /dev/hda7'\n\t  image = /boot/vmlinuz-generic-smp-2.6.35.11-smp\n\t    initrd = /boot/initrd.gz\n\t    root = /dev/hda7\n\t    label = 2.6.35.11-smp\n\t    read-only\n\t  # Linux bootable partition config ends\n\t\n\tThe last two examples show how easy it is to configure your computer\n\tfor the use of an initrd if you need one. The only thing left to do\n\tafterwards is running 'lilo'.\n\t\n\tEOT\n}\n\n# Find the device that holds the root partition:\nget_root_device() {\n  if [ -e $FSTAB ]; then\n    RD=$(cat $FSTAB |tr '\\t' ' ' |grep -v '^ *#' |tr -s ' ' |grep ' / ' |cut -f1 -d' ')\n    if [ \"$(echo $RD | cut -f1 -d=)\" = \"LABEL\" -o \"$(echo $RD | cut -f1 -d=)\" = \"UUID\" ]; then\n      DKEY=$(echo $RD | cut -f1 -d=)\n      # The value can be LABEL=foo or LABEL='foo' or LABEL=\"foo\"\n      DVAL=$(echo $RD | cut -f2 -d= | tr -d \"'\\042\")\n      RD=$(/sbin/blkid | grep -w $DKEY | grep -w $DVAL | cut -f1 -d:)\n    fi\n  else\n    RD=$(grep -m1 \"^/dev/.*[[:blank:]]/[[:blank:]]\" /proc/mounts | cut -f1 -d' ')\n  fi\n  echo $RD\n}\n\n# Get the root fs information:\nget_rootfs_type() {\n  if $(type blkid 1\u003e/dev/null 2\u003e\u00261) ; then\n   blkid -s TYPE -o value $ROOTDEV\n  elif $(type vol_id 1\u003e/dev/null 2\u003e\u00261) ; then\n   vol_id $ROOTDEV | grep ID_FS_TYPE | cut -f2 -d=\n  else\n   # As a fallback, use:\n   cat $FSTAB |tr '\\t' ' ' |grep -v '^ *#' |tr -s ' ' |grep ' / ' |cut -f3 -d' '\n  fi\n}\n\n# Add the module(s) needed for the root filesystem:\nadd_rootfs_module() {\n  local FSMOD\n  FSMOD=$(/sbin/modprobe --set-version $KVER --show-depends ${ROOTFS} 2\u003e/dev/null | while read LINE; do\n    echo $(basename $(echo $LINE | cut -d' ' -f2) .ko )\n  done)\n  if [ -n \"$FSMOD\" ]; then\n     [ -n \"$MLIST\" ] \u0026\u0026 echo \"$MLIST:$(echo $FSMOD | tr ' ' ':')\" \\\n                    || echo $FSMOD | tr ' ' ':'\n  fi\n}\n\n# Determine the list of kernel modules needed to support the root device:\ndetermine_blockdev_drivers() {\n  # Walk the /sys tree to find kernel modules that are\n  # required for our storage devices.\n  # Thanks to PiterPUNK for help with this code.\n  local MLIST\n  MLIST=$(for i in $(find /sys/block/*/ -name \"device\" -print0 | xargs -0 -i'{}' readlink -f '{}' | sort -u); do\n    /sbin/udevadm info --query=all --path=$i --attribute-walk | \\\n      sed -ne 's/^[[:blank:]]\\+DRIVER[S]*==\"\\([^\"]\\+\\)\"$/\\1/p' | \\\n      xargs -I@ /sbin/modprobe --set-version $KVER --show-depends @ \\\n      2\u003e/dev/null | grep -v \"builtin \" | \\\n      while read LINE ; do \n        echo $(basename $(echo $LINE | cut -d' ' -f2) .ko )\n      done\n  done)\n  MLIST=$( echo $MLIST | tr ' ' ':' )\n  echo $MLIST\n}\n\n# Search for USB keyboards:\nfunction add_usb_keyboard() {\n  local USBMOD\n  if cat /proc/bus/input/devices | sed -e 's/^$/\\$/g' | \\\n     tr \"\\n$\" \" \\n\" | grep -q \" Phys=.*usb.* .*Handlers=.*kbd.*B:\"; then\n     USBMOD=\"xhci-pci:ohci-pci:ehci-pci:xhci-hcd:uhci-hcd:ehci-hcd:hid:usbhid:i2c-hid:hid_generic:hid-cherry:hid-logitech:hid-logitech-dj:hid-logitech-hidpp:hid-lenovo:hid-microsoft:hid_multitouch\"\n     [ -n \"$MLIST\" ] \u0026\u0026 MLIST=\"$MLIST:$USBMOD\" \\\n                     || MLIST=\"$USBMOD\"\n  fi\n  echo $MLIST\n}\n\n# Determine what USB Host Controller is in use\nfunction add_usb_hcd() {\n  local USBMOD\n  for i in $(ls -Ld /sys/module/*_hcd/drivers/* 2\u003e /dev/null); do \n    if ls -L $i | grep -q \"[0-9a-f]*:\" ; then\n      USBMOD=$( echo $i | cut -f4 -d/ | tr \"_\" \"-\")\n      [ -n \"$MLIST\" ] \u0026\u0026 MLIST=\"$MLIST:$USBMOD\" \\\n                      || MLIST=\"$USBMOD\"\n    fi\n  done\n  echo $MLIST\n}\n\n# Is the root partition on a (combination of) LVM/LUKS volume?\ncheck_luks_lvm_raid() {\n  if $( lvdisplay -c $ROOTDEV 1\u003e/dev/null 2\u003e/dev/null ); then\n    # Our root partition is on a LV:\n    USING_LVM=1\n    # Search the Physical Volume of our Logical Volume:\n    MYVG=$( echo $(lvdisplay -c $ROOTDEV 2\u003e/dev/null) | cut -d: -f2 )\n    for LINE in $(pvdisplay -c) ; do\n      VG=$(echo $LINE | cut -d: -f2)\n      [ \"$VG\" = \"$MYVG\" ] \u0026\u0026 break\n    done \n    PV=$(echo $LINE | cut -d: -f1)\n    # Check if there is a LUKS device underneath:\n    if $( cryptsetup status $PV 1\u003e/dev/null 2\u003e/dev/null ) ; then\n      # Our root partition's LV  is on a LUKS volume:\n      USING_LUKS=1\n      REALDEV=$( cryptsetup status $PV | grep 'device: ' | tr -d ' ' | cut -d: -f2 )\n      BASEDEV=$REALDEV\n    else\n      BASEDEV=$PV\n    fi\n  elif $( cryptsetup status $ROOTDEV 1\u003e/dev/null 2\u003e/dev/null ) ; then\n    # Our root device is on a LUKS volume:\n    USING_LUKS=1\n    REALDEV=$( cryptsetup status $ROOTDEV | grep 'device: ' | tr -d ' ' | cut -d: -f2 )\n    ROOTDEV=$(basename $ROOTDEV)\n    # Check for LVM:\n    for LV in $(lvdisplay -c 2\u003e/dev/null | tr -d ' ' | cut -f1 -d:) ; do\n      # Note: cryptsetup shows the real device, whereas \n      # lvdisplay requires the /dev/\u003cmyvg\u003e/... symlink to the real device.\n      if [ \"$(readlink $LV)\" = \"$REALDEV\" ]; then\n        REALDEV=$LV\n        break\n      fi\n    done\n    if $( lvdisplay -c $REALDEV 1\u003e/dev/null 2\u003e/dev/null ); then\n      # Our root partition's LUKS device is on a LV:\n      USING_LVM=1\n      # Search the Physical Volume of our Logical Volume:\n      MYVG=$( echo $(lvdisplay -c $REALDEV 2\u003e/dev/null) | cut -d: -f2 )\n      for LINE in $(pvdisplay -c) ; do\n        VG=$(echo $LINE | cut -d: -f2)\n        [ \"$VG\" = \"$MYVG\" ] \u0026\u0026 break\n      done \n      PV=$(echo $LINE | cut -d: -f1)\n      BASEDEV=$PV\n    else\n      BASEDEV=$REALDEV\n    fi\n  else\n    BASEDEV=$ROOTDEV\n  fi\n\n  # Finally, we should check if base device is\n  #   a real block device or a RAID volume:\n  for MD in  $(cat /proc/mdstat | grep -w active | cut -d' ' -f1) ; do\n    if [ \"$BASEDEV\" = \"/dev/$MD\" ]; then\n      USING_RAID=1\n      break\n    fi\n  done\n}\n\n# Before we start\n[ -x /bin/id ] \u0026\u0026 CMD_ID=\"/bin/id\" || CMD_ID=\"/usr/bin/id\"\nif [ \"$($CMD_ID -u)\" != \"0\" ]; then\n  echo \"You need to be root to run $(basename $0).\"\n  exit 1\nfi\n\n# Parse the commandline parameters:\nwhile [ ! -z \"$1\" ]; do\n  case $1 in\n    --longhelp)\n      basic_usage\n      extended_usage\n      exit 0\n      ;;\n    -a)\n      MKINIT_PARAMS=\"$2\"\n      shift 2\n      ;;\n    -c|--conf)\n      [ -n \"$EMIT\" ] \u0026\u0026 { echo \"Do not mix incompatible parameters!\"; exit 1; }\n      EMIT=\"conf\"\n      shift\n      ;;\n    -h|--help)\n      basic_usage\n      exit 0\n      ;;\n    -i|--interactive)\n      INTERACTIVE=1\n      shift\n      ;;\n    -k)\n      KVER=$2\n      shift 2\n      ;;\n    -m)\n      MKINIT_MODS=$2\n      shift 2\n      ;;\n    -l|--lilo)\n      [ -n \"$EMIT\" ] \u0026\u0026 { echo \"Do not mix incompatible parameters!\"; exit 1; }\n      EMIT=\"lilo\"\n      shift\n      ;;\n    -L|--fromlilo)\n      FROMLILO=1\n      shift\n      ;;\n    -r|--run)\n      [ -n \"$EMIT\" ] \u0026\u0026 { echo \"Do not mix incompatible parameters!\"; exit 1; }\n      EMIT=\"run\"\n      shift\n      ;;\n    -R|--rootdev)\n      ROOTDEV=$2\n      shift 2\n      ;;\n    -*)\n      echo \"Unsupported parameter '$1'!\"\n      exit 1\n      ;;\n    *) # Everything else but switches (which start with '-') follows:\n      if [ -f $1 ]; then\n        KFILE=$1\n        # Construction of KFILE's full filename:\n        KFILEPATH=$(cd $(dirname $KFILE) \u0026\u0026 pwd)\n        if [ -L $KFILE ]; then\n          KFILE=$(readlink $KFILE)\n        else\n          KFILE=$(basename $KFILE)\n        fi\n        KFILE=${KFILEPATH}/$KFILE\n        if [ -z \"$(file $KFILE | grep -E 'Linux kernel x86 boot|x86 boot sector')\" ]; then\n          echo \"File '$KFILE' does not look like it is a kernel file!\"\n          exit 1\n        fi\n      else\n        echo \"File $1 not found!\"\n        exit 1\n      fi   \n      shift\n      ;;\n  esac\ndone\n\n# Determine what to show as output (other options may have set EMIT already)\nEMIT=${EMIT:-\"all\"}\n\n# An EMIT value of 'lilo' requires a kernel filename as script parameter:\nif [ \"$EMIT\" = \"lilo\" ]; then\n  if [ -z \"$KFILE\" ]; then\n    echo \"A kernel_filename is required with the '-l|--lilo' option!\"\n    exit 1\n  fi\nfi\n\n# Determine kernel version to use,\n# and check if modules for this kernel are actually present:\nif [ -z \"$KVER\" ]; then\n  if [ -n \"$KFILE\" ]; then\n    KVER=\"$(strings $KFILE | grep '([^ ]*@[^ ]*) #' | cut -f1 -d' ')\"\n  else\n    KVER=\"$(uname -r)\"\n  fi\nfi\nif [ ! -d /lib/modules/$KVER ]; then\n  echo \"Modules for kernel $KVER aren't installed.\"\n  exit 1\nfi  \n\n# Determine whether the user passed an alternate filename for the initrd:\nif [ -n \"$MKINIT_PARAMS\" ]; then\n  SRCHLIST=\"$MKINIT_PARAMS\"\n  for ELEM in $MKINIT_PARAMS ; do\n    SRCHLIST=$(echo $SRCHLIST | cut -d' ' -f2-) # cut ELEM from the list\n    if [ \"$ELEM\" = \"-o\" ]; then\n      IMGFILE=$(echo $SRCHLIST | cut -d' ' -f1)\n      break\n    fi\n  done\nfi\nIMGFILE=${IMGFILE:-\"/boot/initrd.gz\"}\n\n# Get information about the root device / root filesystem:\nROOTDEV=${ROOTDEV:-$(get_root_device)}\nROOTFS=$(get_rootfs_type)\n\n# Determine the list of kernel modules needed to support the root device:\nMLIST=$(determine_blockdev_drivers)\n\n# Check if we are running in a kvm guest with virtio block device driver\n# (add all virtio modules, we sort out the doubles later):\nif echo $MLIST | grep -q \"virtio\"; then\n  MLIST=\"$MLIST:virtio:virtio_balloon:virtio_blk:virtio_ring:virtio_pci:virtio_net\"\nfi\n\n# Determine if a USB keyboard is in use and include usbhid and hid_generic\n# to module list\nMLIST=$(add_usb_keyboard)\n\n# If we use any USB module, try to determine the Host Controller\nif echo $MLIST | grep -q \"usb\"; then\n  MLIST=$(add_usb_hcd)\nfi\n\n# Check what combination of LUKS/LVM/RAID we have to support:\n# This sets values for USING_LUKS, USING_LVM, USING_RAID, REALDEV and BASEDEV.\ncheck_luks_lvm_raid\n\n# This is the interactive part:\nif [ \"$INTERACTIVE\" = \"1\" ];  then\n  if [ \"$FROMLILO\" != \"1\" ]; then\n    dialog --stdout --title \"WELCOME TO MKINITRD COMMAND GENERATOR\" --msgbox \"\\\nThe main goal of this utility is to create a good initrd to \\\nfit your needs.  It can detect what kernel you are running, \\\nwhat is your root device, root filesystem, if you use encryption, \\\nLVM, RAID, etc. \\\n\\n\\n\\\nUsually the probed values are OK and they will be the \\\ndefaults in all subsequent dialogs, but maybe you want \\\nto change something. \\n\\\nIf in doubt, leave the defaults.\" 0 0 \n\n    KVER=$( ls -d1 --indicator-style=none /lib/modules/* | \\\n      awk -F/ -vVER=$KVER '{ \n                            if ( VER == $NF ) { \n                              ONOFF=\"on\" \n                            } else { \n                              ONOFF=\"off\" \n                            } ; printf(\"%s \\\"\\\" %s\\n\",$NF,ONOFF) }' | \\\n      xargs dialog --stdout --title \"CHOOSE KERNEL VERSION\" \\\n                   --default-item $KVER --radiolist \"\\\nPlease, select the kernel version you want to create this initrd for.\" 0 0 4 )\n    [ -z \"$KVER\" ] \u0026\u0026 exit 1\n\n    OLDROOTDEV=$ROOTDEV\n    ROOTDEV=$( dialog --stdout --title \"SELECT ROOT DEVICE\" --inputbox \"\\\nEnter your root device. Root device is the one where your '/' filesystem \\\nis mounted.\" 0 0 \"$ROOTDEV\" )\n    [ -z \"$ROOTDEV\" ] \u0026\u0026 exit 1\n\n    # We need to re-check our defaults in case the user changed the default\n    # value for ROOTDEV:\n    [ \"$OLDROOTDEV\" != \"$ROOTDEV\" ] \u0026\u0026 check_luks_lvm_raid\n    ROOTFS=$(get_rootfs_type)\n\n    ROOTFS=$( dialog --stdout --title \"SELECT ROOT FILESYSTEM\" --inputbox \"\\\nEnter the type of your root filesystem.\" 0 0 \"$ROOTFS\" )\n    [ -z \"$ROOTFS\" ] \u0026\u0026 exit 1\n  fi\n\n  MLIST=$(add_rootfs_module)\n\n  LLR=$( dialog --stdout --title \"LVM/LUKS/RAID\" --checklist \"\\\nDo you use some of those in your root filesystem?  \\\nIf this is the case, please select one or more options.\" 12 45 3 \\\n\"LVM\" \"Logical Volume Manager\" $([ \"$USING_LVM\" = \"1\" ] \u0026\u0026 echo on || echo off) \\\n\"LUKS\" \"Linux Unified Key Setup\" $([ \"$USING_LUKS\" = \"1\" ] \u0026\u0026 echo on || echo off) \\\n\"RAID\" \"Linux Software RAID\" $([ \"$USING_RAID\" = \"1\" ] \u0026\u0026 echo on || echo off)) \n\n  if [ \"$?\" != \"0\" ]; then\n    exit 1\n  fi\n\n  echo $LLR | grep -q LUKS \u0026\u0026 USING_LUKS=\"1\"\n  echo $LLR | grep -q LVM \u0026\u0026 USING_LVM=\"1\"\n  echo $LLR | grep -q RAID \u0026\u0026 USING_RAID=\"1\"\n\n  if [ \"$USING_LUKS\" = \"1\" ]; then\n    REALDEV=$( dialog --stdout --title \"LUKS ROOT DEVICE\" --inputbox \"\\\nPlease, enter your LUKS root device:\" 0 0 \"$REALDEV\" )\n    [ -z \"$REALDEV\" ] \u0026\u0026 exit 1\n  fi\nfi\n\n# Step out of the interactive loop for a moment. The next block needs to be\n# executed in all cases.\n\n# We need to 'undouble' the MLIST array. Some people report that walking the\n# /sys tree produces duplicate modules in the list.\n# The awk command elimitates doubles without changing the order:\nMLIST=$( echo $MLIST | tr ':' '\\n' | awk '!x[$0]++' | tr '\\n' ' ' )\nMLIST=$( echo $MLIST | tr ' ' ':' )\nMLIST=$(echo ${MLIST%:}) # To weed out a trailing ':' which was reported once.\n\n# Back to the interactive part:\n\nif [ \"$INTERACTIVE\" = \"1\" ];  then\n  MLIST=$( dialog --stdout --title \"INITRD'S MODULE LIST\" --inputbox \"\\\nThe list here shows all modules needed to support your root filesystem \\\nand boot from it.  But you can change the list to use some alternative \\\nor additional modules.  If you don't know what to do, the default is safe.\" \\\n0 0 \"$MLIST\" )\n  if [ \"$?\" != \"0\" ]; then\n    exit 1\n  fi\n\n  EXTRA=$( dialog --stdout --title \"EXTRA CONFIGURATION\" --checklist \"\\\nNow is your chance for some additional configuration.  All of these \\\nconfigurations are optional and you can stick to the defaults.\" 11 72 3 \\\n\"KEYMAP\" \"Select keyboard layout (default: US)\" \\\n\t\t\t   $([ $USING_LUKS = 1 ] \u0026\u0026 echo on || echo off) \\\n\"RESUMEDEV\" \"Select device for 'suspend-to-disk' feature\" off \\\n\"UDEV\" \"Use UDEV in the initrd for device configuration\" $(test $UDEV -eq 1 \u0026\u0026 echo on || echo off) \\\n\"WAIT\" \"Add delay to allow detection of slow disks at boot\" $(test $WAIT -gt $WAIT_DEFAULT \u0026\u0026 echo on || echo off) )\n  if [ \"$?\" != \"0\" ]; then\n    exit 1\n  fi\n\n  if echo $EXTRA | grep -q KEYMAP ; then\n    KEYMAP=$( dialog --stdout --title \"KEYBOARD LAYOUT SELECTION\" \\\n      --cancel-label \"Skip\" \\\n      --menu \"You may select one of the following keyboard layouts. \\\nIf you do not select a keyboard map, 'us.map' \\\n(the US keyboard layout) is the default.  Use the UP/DOWN \\\narrow keys and PageUp/PageDown to scroll \\\nthrough the whole list of choices.\" \\\n22 55 11 \\\n\"qwerty/us.map\" \"\" \\\n\"azerty/azerty.map\" \"\" \\\n\"azerty/be-latin1.map\" \"\" \\\n\"azerty/fr-latin0.map\" \"\" \\\n\"azerty/fr-latin1.map\" \"\" \\\n\"azerty/fr-latin9.map\" \"\" \\\n\"azerty/fr-old.map\" \"\" \\\n\"azerty/fr-pc.map\" \"\" \\\n\"azerty/fr.map\" \"\" \\\n\"azerty/wangbe.map\" \"\" \\\n\"azerty/wangbe2.map\" \"\" \\\n\"dvorak/ANSI-dvorak.map\" \"\" \\\n\"dvorak/dvorak-l.map\" \"\" \\\n\"dvorak/dvorak-r.map\" \"\" \\\n\"dvorak/dvorak.map\" \"\" \\\n\"dvorak/no-dvorak.map\" \"\" \\\n\"fgGIod/tr_f-latin5.map\" \"\" \\\n\"fgGIod/trf-fgGIod.map\" \"\" \\\n\"olpc/es-olpc.map\" \"\" \\\n\"olpc/pt-olpc.map\" \"\" \\\n\"qwerty/bg-cp1251.map\" \"\" \\\n\"qwerty/bg-cp855.map\" \"\" \\\n\"qwerty/bg_bds-cp1251.map\" \"\" \\\n\"qwerty/bg_bds-utf8.map\" \"\" \\\n\"qwerty/bg_pho-cp1251.map\" \"\" \\\n\"qwerty/bg_pho-utf8.map\" \"\" \\\n\"qwerty/br-abnt.map\" \"\" \\\n\"qwerty/br-abnt2.map\" \"\" \\\n\"qwerty/br-latin1-abnt2.map\" \"\" \\\n\"qwerty/br-latin1-us.map\" \"\" \\\n\"qwerty/by-cp1251.map\" \"\" \\\n\"qwerty/by.map\" \"\" \\\n\"qwerty/bywin-cp1251.map\" \"\" \\\n\"qwerty/cf.map\" \"\" \\\n\"qwerty/cz-cp1250.map\" \"\" \\\n\"qwerty/cz-lat2-prog.map\" \"\" \\\n\"qwerty/cz-lat2.map\" \"\" \\\n\"qwerty/cz-qwerty.map\" \"\" \\\n\"qwerty/defkeymap.map\" \"\" \\\n\"qwerty/defkeymap_V1.0.map\" \"\" \\\n\"qwerty/dk-latin1.map\" \"\" \\\n\"qwerty/dk.map\" \"\" \\\n\"qwerty/emacs.map\" \"\" \\\n\"qwerty/emacs2.map\" \"\" \\\n\"qwerty/es-cp850.map\" \"\" \\\n\"qwerty/es.map\" \"\" \\\n\"qwerty/et-nodeadkeys.map\" \"\" \\\n\"qwerty/et.map\" \"\" \\\n\"qwerty/fi-latin1.map\" \"\" \\\n\"qwerty/fi-latin9.map\" \"\" \\\n\"qwerty/fi-old.map\" \"\" \\\n\"qwerty/fi.map\" \"\" \\\n\"qwerty/gr-pc.map\" \"\" \\\n\"qwerty/gr.map\" \"\" \\\n\"qwerty/hu101.map\" \"\" \\\n\"qwerty/il-heb.map\" \"\" \\\n\"qwerty/il-phonetic.map\" \"\" \\\n\"qwerty/il.map\" \"\" \\\n\"qwerty/is-latin1-us.map\" \"\" \\\n\"qwerty/is-latin1.map\" \"\" \\\n\"qwerty/it-ibm.map\" \"\" \\\n\"qwerty/it.map\" \"\" \\\n\"qwerty/it2.map\" \"\" \\\n\"qwerty/jp106.map\" \"\" \\\n\"qwerty/kazakh.map\" \"\" \\\n\"qwerty/kyrgyz.map\" \"\" \\\n\"qwerty/la-latin1.map\" \"\" \\\n\"qwerty/lt.baltic.map\" \"\" \\\n\"qwerty/lt.l4.map\" \"\" \\\n\"qwerty/lt.map\" \"\" \\\n\"qwerty/mk-cp1251.map\" \"\" \\\n\"qwerty/mk-utf.map\" \"\" \\\n\"qwerty/mk.map\" \"\" \\\n\"qwerty/mk0.map\" \"\" \\\n\"qwerty/nl.map\" \"\" \\\n\"qwerty/nl2.map\" \"\" \\\n\"qwerty/no-latin1.map\" \"\" \\\n\"qwerty/no.map\" \"\" \\\n\"qwerty/pc110.map\" \"\" \\\n\"qwerty/pl.map\" \"\" \\\n\"qwerty/pl1.map\" \"\" \\\n\"qwerty/pl2.map\" \"\" \\\n\"qwerty/pl3.map\" \"\" \\\n\"qwerty/pl4.map\" \"\" \\\n\"qwerty/pt-latin1.map\" \"\" \\\n\"qwerty/pt-latin9.map\" \"\" \\\n\"qwerty/pt.map\" \"\" \\\n\"qwerty/ro.map\" \"\" \\\n\"qwerty/ro_std.map\" \"\" \\\n\"qwerty/ru-cp1251.map\" \"\" \\\n\"qwerty/ru-ms.map\" \"\" \\\n\"qwerty/ru-yawerty.map\" \"\" \\\n\"qwerty/ru.map\" \"\" \\\n\"qwerty/ru1.map\" \"\" \\\n\"qwerty/ru2.map\" \"\" \\\n\"qwerty/ru3.map\" \"\" \\\n\"qwerty/ru4.map\" \"\" \\\n\"qwerty/ru_win.map\" \"\" \\\n\"qwerty/ruwin_alt-CP1251.map\" \"\" \\\n\"qwerty/ruwin_alt-KOI8-R.map\" \"\" \\\n\"qwerty/ruwin_alt-UTF-8.map\" \"\" \\\n\"qwerty/ruwin_cplk-CP1251.map\" \"\" \\\n\"qwerty/ruwin_cplk-KOI8-R.map\" \"\" \\\n\"qwerty/ruwin_cplk-UTF-8.map\" \"\" \\\n\"qwerty/ruwin_ct_sh-CP1251.map\" \"\" \\\n\"qwerty/ruwin_ct_sh-KOI8-R.map\" \"\" \\\n\"qwerty/ruwin_ct_sh-UTF-8.map\" \"\" \\\n\"qwerty/ruwin_ctrl-CP1251.map\" \"\" \\\n\"qwerty/ruwin_ctrl-KOI8-R.map\" \"\" \\\n\"qwerty/ruwin_ctrl-UTF-8.map\" \"\" \\\n\"qwerty/se-fi-ir209.map\" \"\" \\\n\"qwerty/se-fi-lat6.map\" \"\" \\\n\"qwerty/se-ir209.map\" \"\" \\\n\"qwerty/se-lat6.map\" \"\" \\\n\"qwerty/se-latin1.map\" \"\" \\\n\"qwerty/sk-prog-qwerty.map\" \"\" \\\n\"qwerty/sk-qwerty.map\" \"\" \\\n\"qwerty/speakup-jfw.map\" \"\" \\\n\"qwerty/speakupmap.map\" \"\" \\\n\"qwerty/sr-cy.map\" \"\" \\\n\"qwerty/sv-latin1.map\" \"\" \\\n\"qwerty/tr_q-latin5.map\" \"\" \\\n\"qwerty/tralt.map\" \"\" \\\n\"qwerty/trf.map\" \"\" \\\n\"qwerty/trq.map\" \"\" \\\n\"qwerty/ttwin_alt-UTF-8.map.gz\" \"\" \\\n\"qwerty/ttwin_cplk-UTF-8.map.gz\" \"\" \\\n\"qwerty/ttwin_ct_sh-UTF-8.map.gz\" \"\" \\\n\"qwerty/ttwin_ctrl-UTF-8.map.gz\" \"\" \\\n\"qwerty/ua-cp1251.map.gz\" \"\" \\\n\"qwerty/ua-utf-ws.map\" \"\" \\\n\"qwerty/ua-utf.map\" \"\" \\\n\"qwerty/ua-ws.map\" \"\" \\\n\"qwerty/ua.map\" \"\" \\\n\"qwerty/uk.map\" \"\" \\\n\"qwerty/us-acentos.map\" \"\" \\\n\"qwerty/us.map\" \"\" \\\n\"qwertz/croat.map\" \"\" \\\n\"qwertz/cz-us-qwertz.map\" \"\" \\\n\"qwertz/cz.map\" \"\" \\\n\"qwertz/de-latin1-nodeadkeys.map\" \"\" \\\n\"qwertz/de-latin1.map\" \"\" \\\n\"qwertz/de.map\" \"\" \\\n\"qwertz/de_CH-latin1.map\" \"\" \\\n\"qwertz/fr_CH-latin1.map\" \"\" \\\n\"qwertz/fr_CH.map\" \"\" \\\n\"qwertz/hu.map\" \"\" \\\n\"qwertz/sg-latin1-lk450.map\" \"\" \\\n\"qwertz/sg-latin1.map\" \"\" \\\n\"qwertz/sg.map\" \"\" \\\n\"qwertz/sk-prog-qwertz.map\" \"\" \\\n\"qwertz/sk-qwertz.map\" \"\" \\\n\"qwertz/slovene.map\" \"\" )\n    [ -n \"$KEYMAP\" ] \u0026\u0026 KEYMAP=$(basename $KEYMAP .map)\n  fi\n\n  if echo $EXTRA | grep -q UDEV ; then\n    UDEV=1\n  fi\n\n  if echo $EXTRA | grep -q RESUMEDEV ; then\n    # Print information about swap partitions:\n    FREERAM=$(free -k | grep \"^Mem:\" | tr -s ' ' | cut -d' ' -f2)\n    SWPINFO=\"\"\n    for SWPDEV in $(grep -w swap $FSTAB | cut -d' ' -f1) ; do\n      SWPINFO=\"$SWPINFO  $SWPDEV    Linux swap partition    $(fdisk -s $SWPDEV) KB \\\\n\"\n      [ $(fdisk -s $SWPDEV) -gt $FREERAM ] \u0026\u0026 RESUMEDEV=$SWPDEV\n    done\n    FREERAM=$(free -m | grep \"^Mem:\" | tr -s ' ' | cut -d' ' -f2)\n    RESUMEDEV=$( dialog --stdout --no-collapse --title \"HIBERNATE RESUME DEVICE\" --inputbox \"\\\nWhen using suspend-to-disk feature (hibernate), your computer's RAM is copied \\\nto a swap device when it shuts down.  The kernel will resume from that RAM \\\nimage at boot.  This means that the swap partition must not be smaller than \\\nthe amount of RAM you have ($FREERAM MB). \\n\\\n$SWPINFO \\n\\\nPlease specify a swap partition to be used for hibernation:\" \\\n0 0 \"$RESUMEDEV\")\n    [ -z \"$RESUMEDEV\" ] \u0026\u0026 exit 1\n  fi\n\n  if echo $EXTRA | grep -q WAIT ; then\n    WAIT=$( dialog --stdout --title \"WAIT FOR ROOT DEVICE\" --inputbox \"\\\nSome block devices are too slow to be detected properly at boot. USB storage \\\ndevices and some disk arrays have this 'feature'. To make your machine \\\nboot properly, you can add some delay here, to wait until all your disks are \\\nprobed and detected. The time is in seconds:\" 0 0 \"$WAIT\")\n    [ -z \"$WAIT\" ] \u0026\u0026 exit 1\n  fi\n  \n  IMGFILE=$( dialog --stdout --title \"INITRD IMAGE NAME\" --inputbox \"\\\nEnter your initrd image filename.\" 0 0 \"$IMGFILE\" )\n  [ -z \"$IMGFILE\" ] \u0026\u0026 exit 1\n\nelse    \n  MLIST=$(add_rootfs_module)\nfi\n\n# Add any modules passed along on the commandline:\nif [ -n \"$MKINIT_MODS\" ]; then\n  [ -n \"$MLIST\" ] \u0026\u0026 MLIST=\"$MLIST:$(echo $MKINIT_MODS | tr ' ' ':')\" \\\n                  || MLIST=\"$(echo $MKINIT_MODS | tr ' ' ':')\"\nfi\n\n# Constructing the mkinitrd command:\nMKINIT=\"mkinitrd -c -k $KVER -f $ROOTFS -r $ROOTDEV\"\n\n# If we have a module list, add them:\nif ! [ -z \"$MLIST\" -o \"$MLIST\" = \":\" ]; then\n  MKINIT=\"$MKINIT -m $MLIST\"\nfi\n\n# Deal with LUKS/LVM/RAID:\nif [ \"$USING_LUKS\" = \"1\" ]; then\n  MKINIT=\"$MKINIT -C $REALDEV\"\nfi\nif [ \"$USING_LVM\" = \"1\" ]; then\n  MKINIT=\"$MKINIT -L\"\nfi\nif [ \"$USING_RAID\" = \"1\" ]; then\n  MKINIT=\"$MKINIT -R\"\nfi\n\nif [ -n \"$RESUMEDEV\" ]; then\n  # Add hibernation partition:\n  MKINIT=\"$MKINIT -h $RESUMEDEV\"\nfi\nif [ -n \"$KEYMAP\" -a \"$KEYMAP\" != \"us\" ]; then\n  # Add non-us keyboard mapping:\n  MKINIT=\"$MKINIT -l $KEYMAP\"\nfi\nif [ $UDEV -eq 1 ]; then\n  # Add UDEV support:\n  MKINIT=\"$MKINIT -u\"\nfi\nif [ -n \"$WAIT\" -a $WAIT -ne $WAIT_DEFAULT ]; then\n  # Add non-default wait time:\n  MKINIT=\"$MKINIT -w $WAIT\"\nfi\nif ! echo \"$MKINIT_PARAMS\" | grep -q -- '-o ' ; then\n  # Add default output filename:\n  MKINIT=\"$MKINIT -o $IMGFILE\"\nfi\nif [ -n \"$MKINIT_PARAMS\" ]; then\n  # Add user-supplied additional parameters:\n  MKINIT=\"$MKINIT $MKINIT_PARAMS\"\nfi\n\n# Notify the user:\nif [ \"$EMIT\" = \"all\" ]; then\n  cat \u003c\u003c-EOT\n\t#\n\t# $(basename $0) revision $REV\n\t#\n\t# This script will now make a recommendation about the command to use\n\t# in case you require an initrd image to boot a kernel that does not\n\t# have support for your storage or root filesystem built in\n\t# (such as the Slackware 'generic' kernels').\n\t# A suitable 'mkinitrd' command will be:\n\t\n\t$MKINIT\n\tEOT\nelif [ \"$EMIT\" = \"run\" ]; then\n  echo \"$MKINIT\"\nelif [ \"$EMIT\" = \"conf\" ]; then\n  cat \u003c\u003c-EOT\n\tSOURCE_TREE=\"$SOURCE_TREE\"\n\tCLEAR_TREE=\"$CLEAR_TREE\"\n\tOUTPUT_IMAGE=\"$IMGFILE\"\n\tKERNEL_VERSION=\"$KVER\"\n\tKEYMAP=\"$KEYMAP\"\n\tMODULE_LIST=\"$(echo $MLIST | cut -f2 -d\\ )\"\n\tLUKSDEV=\"$REALDEV\"\n\tROOTDEV=\"$ROOTDEV\"\n\tROOTFS=\"$ROOTFS\"\n\tRESUMEDEV=\"$RESUMEDEV\"\n\tRAID=\"$USING_RAID\"\n\tLVM=\"$USING_LVM\"\n\tUDEV=\"$UDEV\"\n\tWAIT=\"$WAIT\"\n\tEOT\nfi\n\nif [ -n \"$KFILE\" ]; then\n  if [ \"$EMIT\" = \"all\" ]; then\n    cat \u003c\u003c-EOT\n\t# An entry in 'etc/lilo.conf' for kernel '$KFILE' would look like this:\n\tEOT\n  fi\n  if  [ \"$EMIT\" = \"all\" -o \"$EMIT\" = \"lilo\" ]; then\n  # Compensate for the syntax used for the LUKS-on-LVM case:\n  [ \"$(basename $ROOTDEV)\" = \"$ROOTDEV\" ] \u0026\u0026 BASE=\"/dev/mapper/\" || BASE=\"\"\n    cat \u003c\u003c-EOT\n\t# Linux bootable partition config begins\n\t# initrd created with '$MKINIT'\n\timage = $KFILE\n\t  initrd = $IMGFILE\n\t  root = $BASE$ROOTDEV\n\t  label = $KVER\n\t  read-only\n\t# Linux bootable partition config ends\n\tEOT\n  fi\nfi\n```\n\n\u003c/div\u003e\u003c/details\u003e\n\n\u003c/div\u003e\u003c/details\u003e\n\n## 再起動\n\n```\n# reboot\n```\n\n※ インストールメディアを取り出し忘れないこと。\n\n参考文献：\nhttps://linuxjm.osdn.jp/html/0MultiFileIdx/man8/reboot.8.html\n\n## / に容量を継ぎ足す場合\nコマンド実行例：\n\n```\n# fdisk -l\n# pvcreate /dev/moomoo\n# lvs\n# vgextend SlackVG /dev/moomoo\n# lvextend -l +100%FREE SlackVG/root\n# resize2fs /dev/SlackVG/root\n# lvs\n```\n\n※ 100%FREE って[何だか体に良さそう](https://duckduckgo.com/?q=気のせい)。\n※ /dev/moomoo SlackVG root はハードウェア構成や LVM の設定に応じて適宜読み替えてください。\n※ ファイルシステムのオンラインリサイズについて、\n　・ext2/3/4 の場合は ```resize2fs``` 。\n　・btrfs の場合は ```btrfs filesystem resize``` 。\n　・reiserfs の場合は ```resize_reiserfs``` 。\n　・xfs の場合は ```xfs_growfs``` 。\n\n\u003cdetails\u003e\u003csummary\u003e参考文献：\u003c/summary\u003e\u003cdiv\u003e\n\nMan page of FDISK\nhttps://linuxjm.osdn.jp/html/util-linux/man8/fdisk.8.html\n\npvcreate(8) - Linux man page\nhttps://linux.die.net/man/8/pvcreate\n\nlvs(8) - Linux man page\nhttps://linux.die.net/man/8/lvs\n\nvgextend(8) - Linux man page\nhttps://linux.die.net/man/8/vgextend\n\nlvextend(8) - Linux man page\nhttps://linux.die.net/man/8/lvextend\n\nresize2fs(8) - Linux man page\nhttps://linux.die.net/man/8/resize2fs\n\nbtrfs(8) - Linux man page\nhttps://linux.die.net/man/8/btrfs\n\nMan page of RESIZE_REISERFS\nhttps://linuxjm.osdn.jp/html/reiserfsprogs/man8/resize_reiserfs.8.html\n\nxfs_growfs(8) - Linux man page\nhttps://linux.die.net/man/8/xfs_growfs\n\nLVM - ArchWiki\nhttps://wiki.archlinux.jp/index.php/LVM\n\nPantora Networks » 3章 LVM操作 応用編\nhttp://pantora.net/pages/linux/lvm/3/\n\nLVMで新たにディスクを追加して既存のLVを拡張する - Qiita\nhttps://qiita.com/g_maeda/items/3602dc2f7af3f711f9c4\n\nLVM上のbtrfsのRAID1のサイズを拡張する - Qiita\nhttps://qiita.com/takaki@github/items/5d96d80dc78b09ea600b\n\n\u003c/div\u003e\u003c/details\u003e\n\n# 備考\n## シャットダウン・リブート時の “lvm can't deactivate …” エラー\n\nLVM に置いたルートでは毎回このエラーが出ますが、リードオンリーで再マウントした後の話なので最悪でもデータが飛ぶ恐れはないそうです。\n\n```\n# This never hurts again (especially since root-on-LVM always fails\n# to deactivate the / logical volume...  but at least it was\n# remounted as read-only first)\n/bin/sync\n```\n\n出典：\n\n\u003cdetails\u003e\u003csummary\u003e/etc/rc.d/rc.6 本体\u003c/summary\u003e\u003cdiv\u003e\n\n```sh:/etc/rc.d/rc.6\n#! /bin/sh\n#\n# rc.6\t\tThis file is executed by init when it goes into runlevel\n#\t\t0 (halt) or runlevel 6 (reboot). It kills all processes,\n#\t\tunmounts file systems and then either halts or reboots.\n#\n# Version:\t@(#)/etc/rc.d/rc.6\t2.47 Sat Jan 13 13:37:26 PST 2001\n#\n# Author:\tMiquel van Smoorenburg\n# Modified by:  Patrick J. Volkerding\n#\n\n# Set the path.\nPATH=/sbin:/etc:/bin:/usr/bin\n\n# If there are SystemV init scripts for this runlevel, run them.\nif [ -x /etc/rc.d/rc.sysvinit ]; then\n  . /etc/rc.d/rc.sysvinit\nfi\n\n# Set linefeed mode to avoid staircase effect.\n/bin/stty onlcr\n\necho \"Running shutdown script $0:\"\n\n# Find out how we were called.\ncase \"$0\" in\n\t*0)\n\t\tshutdown_command=\"halt\"\n\t\t;;\n\t*6)\n\t\tshutdown_command=reboot\n\t\t;;\n\t*)\n\t\techo \"$0: call me as \\\"rc.0\\\" or \\\"rc.6\\\" please!\"\n\t\texit 1\n\t\t;;\nesac\n\n# Save the system time to the hardware clock using hwclock --systohc.\n# This will also create or update the timestamps in /etc/adjtime.\nif [ -x /sbin/hwclock ]; then\n  # Check for a broken motherboard RTC clock (where ioports for rtc are\n  # unknown) to prevent hwclock causing a hang:\n  if ! grep -q \" : rtc\" /proc/ioports ; then\n    CLOCK_OPT=\"--directisa\"\n  fi\n  if [ /etc/adjtime -nt /etc/hardwareclock ]; then\n    if grep -q \"^LOCAL\" /etc/adjtime ; then\n      echo \"Saving system time to the hardware clock (localtime).\"\n    else\n      echo \"Saving system time to the hardware clock (UTC).\"\n    fi\n    /sbin/hwclock $CLOCK_OPT --systohc\n  elif grep -q \"^UTC\" /etc/hardwareclock 2\u003e /dev/null ; then\n    echo \"Saving system time to the hardware clock (UTC).\"\n    if [ ! -r /etc/adjtime ]; then\n      echo \"Creating system time correction file /etc/adjtime.\"\n    fi\n    /sbin/hwclock $CLOCK_OPT --utc --systohc\n  else\n    echo \"Saving system time to the hardware clock (localtime).\"\n    if [ ! -r /etc/adjtime ]; then\n      echo \"Creating system time correction file /etc/adjtime.\"\n    fi\n    /sbin/hwclock $CLOCK_OPT --localtime --systohc\n  fi\nfi\n\n# Run any local shutdown scripts:\nif [ -x /etc/rc.d/rc.local_shutdown ]; then\n  /etc/rc.d/rc.local_shutdown stop\nfi\n\n# Stop the Apache web server:\nif [ -x /etc/rc.d/rc.httpd ]; then\n  /etc/rc.d/rc.httpd stop\nfi\n\n# Stop the MySQL database:\nif [ -r /var/run/mysql/mysql.pid ]; then\n  . /etc/rc.d/rc.mysqld stop\nfi\n\n# Stop the Samba server:\nif [ -x /etc/rc.d/rc.samba ]; then\n  . /etc/rc.d/rc.samba stop\nfi\n\n# Shut down the NFS server:\nif [ -x /etc/rc.d/rc.nfsd ]; then\n  /etc/rc.d/rc.nfsd stop\nfi\n\n# Shut down the SSH server:\nif [ -x /etc/rc.d/rc.sshd ]; then\n  /etc/rc.d/rc.sshd stop\nfi\n\n# Shut down the SASL authentication daemon:\nif [ -x /etc/rc.d/rc.saslauthd ]; then\n  /etc/rc.d/rc.saslauthd stop\nfi\n\n# Shut down OpenLDAP:\nif [ -x /etc/rc.d/rc.openldap ]; then\n  /etc/rc.d/rc.openldap stop\nfi\n\n# Stop D-Bus:\nif [ -x /etc/rc.d/rc.messagebus ]; then\n  sh /etc/rc.d/rc.messagebus stop\nfi\n\n# Kill any processes (typically gam) that would otherwise prevent\n# unmounting NFS volumes:\nunset FUSER_DELAY\nfor dir in $(/bin/mount | grep 'type nfs ' | cut -d ' ' -f 3 ) ; do\n  echo \"Killing processes holding NFS mount $dir open...\"\n  # Background this to prevent fuser from also blocking shutdown:\n  /usr/bin/fuser -k -m $dir \u0026\n  FUSER_DELAY=5\ndone\n# If fuser was run, let it have some delay:\nif [ ! -z \"$FUSER_DELAY\" ]; then\n  sleep $FUSER_DELAY\nfi\n\n# Unmount any NFS, SMB, or CIFS filesystems:\necho \"Unmounting remote filesystems:\"\n/bin/umount -v -a -l -f -r -t nfs,smbfs,cifs | tr -d ' ' | grep successfully | sed \"s/:successfullyunmounted/ has been successfully unmounted./g\"\n\n# Try to shut down pppd:\nPS=\"$(ps ax)\"\nif echo \"$PS\" | /bin/grep -q -w pppd ; then\n  if [ -x /usr/sbin/ppp-off ]; then\n    /usr/sbin/ppp-off\n  fi\nfi\n\n# Shut down YP services:\nif [ -x /etc/rc.d/rc.yp ]; then\n  if grep -wq stop /etc/rc.d/rc.yp ; then\n    /etc/rc.d/rc.yp stop\n  fi\nfi\n\n# Bring down the networking system, but first make sure that this\n# isn't a diskless client with the / partition mounted via NFS:\nif ! /bin/mount | /bin/grep -q 'on / type nfs' ; then\n  if [ -x /etc/rc.d/rc.inet1 ]; then\n    . /etc/rc.d/rc.inet1 stop\n  fi\nfi\n\n# In case dhcpcd might have been manually started on the command line,\n# look for the .pid file, and shut dhcpcd down if it's found:\nif /bin/ls /etc/dhcpc/*.pid 1\u003e /dev/null 2\u003e /dev/null ; then\n  /sbin/dhcpcd -k 1\u003e /dev/null 2\u003e /dev/null\n  # A little time for /etc/resolv.conf and/or other files to\n  # restore themselves.\n  sleep 2\nfi\n\n# Shut down PCMCIA devices:\nif [ -x /etc/rc.d/rc.pcmcia ]; then\n  . /etc/rc.d/rc.pcmcia stop\n  # The cards might need a little extra time here to deactivate:\n  /bin/sleep 5\nfi\n\n# Turn off process accounting:\nif [ -x /sbin/accton -a -r /var/log/pacct ]; then\n  /sbin/accton off\nfi\n\n# Terminate acpid before syslog:\nif [ -x /etc/rc.d/rc.acpid -a -r /var/run/acpid.pid ]; then # quit\n  . /etc/rc.d/rc.acpid stop\nfi\n\n# Stop udev:\nif [ -x /etc/rc.d/rc.udev ]; then\n  sh /etc/rc.d/rc.udev force-stop\nfi\n\n# Kill all remaining processes.\nOMITPIDS=\"$(for p in $(pgrep mdmon); do echo -o $p; done)\" # Don't kill mdmon\nif [ ! \"$1\" = \"fast\" ]; then\n  echo \"Sending all processes the SIGTERM signal.\"\n  /sbin/killall5 -15 $OMITPIDS\n  /bin/sleep 5\n  echo \"Sending all processes the SIGKILL signal.\"\n  /sbin/killall5 -9 $OMITPIDS\nfi\n\n# Try to turn off quota.\nif /bin/grep -q quota /etc/fstab ; then\n  if [ -x /sbin/quotaoff ]; then\n    echo \"Turning off filesystem quotas.\"\n    /sbin/quotaoff -a\n  fi\nfi\n\n# Carry a random seed between reboots.\necho \"Saving random seed from /dev/urandom in /etc/random-seed.\"\n# Use the pool size from /proc, or 4096 bits:\nif [ -r /proc/sys/kernel/random/poolsize ]; then\n  /bin/dd if=/dev/urandom of=/etc/random-seed count=1 bs=$(expr $(cat /proc/sys/kernel/random/poolsize) / 8) 2\u003e /dev/null\nelse\n  /bin/dd if=/dev/urandom of=/etc/random-seed count=1 bs=512 2\u003e /dev/null\nfi\n/bin/chmod 600 /etc/random-seed\n\n# Before unmounting file systems write a reboot or halt record to wtmp.\n$shutdown_command -w\n\n# Turn off swap:\necho \"Turning off swap.\"\n/sbin/swapoff -a\n/bin/sync\n\n# Stop cgmanager and cgproxy:\nif [ -x /etc/rc.d/rc.cgmanager ]; then\n  sh /etc/rc.d/rc.cgmanager stop\nfi\n\necho \"Unmounting local file systems:\"\n/bin/umount -v -a -t no,proc,sysfs | tr -d ' ' | grep successfully | sed \"s/:successfullyunmounted/ has been successfully unmounted./g\" 2\u003e /dev/null\n\necho \"Remounting root filesystem read-only:\"\n/bin/mount -v -n -o remount,ro /\n\n# This never hurts:\n/bin/sync\n\n# Close any volumes opened by cryptsetup:\nif [ -f /etc/crypttab -a -x /sbin/cryptsetup ]; then\n  cat /etc/crypttab | grep -v \"^#\" | grep -v \"^$\" | while read line; do\n    # NOTE: we only support LUKS formatted volumes (except for swap)!\n    LUKS=$(echo $line | tr '\\t' ' ' | tr -s ' ' | cut -f1 -d' ')\n    DEV=$(echo $line | tr '\\t' ' ' | tr -s ' ' | cut -f2 -d' ')\n    OPTS=$(echo $line | tr '\\t' ' ' | tr -s ' ' | cut -f4 -d' ')\n    if /sbin/cryptsetup isLuks $DEV 2\u003e/dev/null ; then\n      echo \"Locking LUKS crypt volume '${LUKS}':\"\n      /sbin/cryptsetup luksClose ${LUKS}\n    elif echo $OPTS | grep -wq swap ; then\n      # If any of the volumes was used as encrypted swap,\n      # then run mkswap on the underlying device -\n      # in case other Linux installations on this computer should use it:\n      echo \"Erasing encrypted swap '${LUKS}' and restoring normal swap on ${DEV}:\"\n      /sbin/cryptsetup remove ${LUKS}\n      mkswap $DEV\n    fi\n  done\nfi\n\n# Deactivate LVM volume groups:\nif [ -r /etc/lvmtab -o -d /etc/lvm/backup ]; then\n  echo \"Deactivating LVM volume groups:\"\n  /sbin/vgchange -an --ignorelockingfailure\nfi\n\n# This never hurts again (especially since root-on-LVM always fails\n# to deactivate the / logical volume...  but at least it was\n# remounted as read-only first)\n/bin/sync\n\n# sleep 3 fixes problems with some hard drives that don't\n# otherwise finish syncing before reboot or poweroff\n/bin/sleep 3\n\n# This is to ensure all processes have completed on SMP machines:\nwait\n\nif [ -x /sbin/genpowerd ]; then\n  # See if this is a powerfail situation:\n  if /bin/egrep -q \"FAIL|SCRAM\" /etc/upsstatus 2\u003e /dev/null ; then\n    # Signal UPS to shut off the inverter:\n    /sbin/genpowerd -k\n    if [ ! $? = 0 ]; then\n      echo\n      echo \"There was an error signaling the UPS.\"\n      echo \"Perhaps you need to edit /etc/genpowerd.conf to configure\"\n      echo \"the serial line and UPS type.\"\n      # Wasting 15 seconds of precious power:\n      /bin/sleep 15\n    fi\n  fi\nfi\n\n# Now halt (poweroff with APM or ACPI enabled kernels) or reboot.\nif [ \"$shutdown_command\" = \"reboot\" ]; then\n  echo \"Rebooting.\"\n  /sbin/reboot\nelse\n  /sbin/poweroff\nfi\n```\n\n\u003c/div\u003e\u003c/details\u003e\n\n## ELILO におけるハイバネート機能（SWSUSP）の有効化、任意のカーネルパラメータの適用\n/usr/sbin/eliloconfig を編集することで swsusp に対応させることが出来る他、起動時にお好みのカーネルパラメータを渡すことが可能です。\n\n該当個所を、例えば以下のように編集します。\n\n```sh:/usr/sbin/eliloconfig\ncat \u003c\u003c EOF \u003e\u003e $T_PX/boot/efi/EFI/Slackware/elilo.conf\n        read-only\n        append=\"root=$ROOT_DEVICE vga=normal ro\"\nEOF\n```\n\n```sh:/usr/local/sbin/eliloconfig-modified\ncat \u003c\u003c EOF \u003e\u003e $T_PX/boot/efi/EFI/Slackware/elilo.conf\n        read-only\n        append=\"root=$ROOT_DEVICE resume=/dev/moo2 vga=normal ro\"\nEOF\n```\n\nresume=/dev/moo2 はインストールした Slackware で使用している swap 領域を指定。\n\n直接編集せず、/usr/local/sbin/eliloconfig-modified 等の名前でコピーを作成してそちらを編集すると安全かも。\n\n\u003cdetails\u003e\u003csummary\u003e参考文献：\u003c/summary\u003e\u003cdiv\u003e\n\nUsing swap files with software suspend (swsusp)\nhttps://www.kernel.org/doc/Documentation/power/swsusp-and-swap-files.txt\n\n[サスペンドとハイバネート - ArchWiki](https://wiki.archlinux.jp/index.php/%E3%82%B5%E3%82%B9%E3%83%9A%E3%83%B3%E3%83%89%E3%81%A8%E3%83%8F%E3%82%A4%E3%83%90%E3%83%8D%E3%83%BC%E3%83%88)\n\nkernel.org の Documentation/admin-guide/kernel-parameters.txt\nhttps://www.kernel.org/doc/Documentation/admin-guide/kernel-parameters.txt\n\n[カーネルパラメータ - ArchWiki](https://wiki.archlinux.jp/index.php/%E3%82%AB%E3%83%BC%E3%83%8D%E3%83%AB%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF)\n\nMan page of BOOTPARAM\nhttps://linuxjm.osdn.jp/html/LDP_man-pages/man7/bootparam.7.html\n\n\u003c/div\u003e\u003c/details\u003e\n\n# 編集後記：\n主要な設定・管理ツールがすべてシェルスクリプト[^configtool]というのは見通しが良いし、改造するにも楽しいので助かります。怪しげなツールを自作する際の教材としても Good!\n\n何だこのエラー？と思ってスクリプトを開くとコメント行で解説がついているのはとても助かりました。\n\nSlackware、使って楽しいディストリです。\n\n[^configtool]: 例えば pkgtool 関係は軒並みシェルスクリプト（＋ dialog コマンド）。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:04:29+09:00","group":null,"id":"89a482dd9c50401f5cf4","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"Linux","versions":[]},{"name":"環境構築","versions":[]},{"name":"lvm","versions":[]},{"name":"UEFI","versions":[]},{"name":"Slackware","versions":[]}],"title":"Slackware 14.2 の LVM への OS インストール例","updated_at":"2019-07-09T20:38:35+09:00","url":"https://qiita.com/EarthSimilarityIndex/items/89a482dd9c50401f5cf4","user":{"description":"さまよえる自称ファンアーティスト。\r\n創作意欲の熱暴走に伴い、ツールのメンテナンスにも手を出す。\r\n甘党。","facebook_id":"","followees_count":0,"followers_count":2,"github_login_name":null,"id":"EarthSimilarityIndex","items_count":16,"linkedin_id":"","location":"ハビタブルゾーン","name":"EarthSimilarityIndex 地球類似性指標","organization":"太陽系","permanent_id":410379,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/410379/profile-images/1557096121","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"electronメモ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#electron%E3%83%A1%E3%83%A2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eelectronメモ\u003c/h1\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"electronでhello-worldアプリ作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#electron%E3%81%A7hello-world%E3%82%A2%E3%83%97%E3%83%AA%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eelectronでHello Worldアプリ作成\u003c/h1\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"sh\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm i electron \u003cspan class=\"nt\"\u003e-g\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm i electron-packager \u003cspan class=\"nt\"\u003e-g\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ vi main.js\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eelectron\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003erequire\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'electron'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eapp\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eelectron\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eapp\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eBrowserWindow\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eelectron\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eBrowserWindow\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003emainWindow\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eapp\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eon\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'ready'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e// mainWindowを作成（windowの大きさや、Kioskモードにするかどうかなどもここで定義できる）\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003emainWindow\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eBrowserWindow\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\u003cspan class=\"na\"\u003ewidth\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e400\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003eheight\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e300\u003c/span\u003e\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e// Electronに表示するhtmlを絶対パスで指定（相対パスだと動かない）\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003emainWindow\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eloadURL\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'file://'\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"nx\"\u003e__dirname\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s1\"\u003e'/index.html'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n  \u003cspan class=\"c1\"\u003e// ChromiumのDevツールを開く\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003emainWindow\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ewebContents\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eopenDevTools\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n  \u003cspan class=\"nx\"\u003emainWindow\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eon\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'closed'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003emainWindow\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"sh\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003evi index.html\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"cp\"\u003e\u0026lt;!DOCTYPE html\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;html\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;head\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;meta\u003c/span\u003e \u003cspan class=\"na\"\u003echarset=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"UTF-8\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;title\u0026gt;\u003c/span\u003eHello World!\u003cspan class=\"nt\"\u003e\u0026lt;/title\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;/head\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;body\u0026gt;\u003c/span\u003e\n    Hello World!\n  \u003cspan class=\"nt\"\u003e\u0026lt;/body\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/html\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"mac用に実行ファイルを生成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#mac%E7%94%A8%E3%81%AB%E5%AE%9F%E8%A1%8C%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E7%94%9F%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eMac用に実行ファイルを生成\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"sh\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003eelectron \u003cspan class=\"nt\"\u003e-v\u003c/span\u003e\nv5.0.6\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"sh\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003eelectron-packager \u003cspan class=\"nb\"\u003e.\u003c/span\u003e electron-sample \u003cspan class=\"nt\"\u003e--platform\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003edarwin \u003cspan class=\"nt\"\u003e--arch\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003ex64 \u003cspan class=\"nt\"\u003e--electron-version\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e5.0.6 \n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれでelectron-sample.appというアプリケーションが作成されます。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita.com/umamichi/items/6ce4f46c1458e89c4cfc\" class=\"autolink\" id=\"reference-544ef3ebb00cdb47731a\"\u003ehttps://qiita.com/umamichi/items/6ce4f46c1458e89c4cfc\u003c/a\u003e\u003c/p\u003e\n","body":"# electronメモ\n\n# electronでHello Worldアプリ作成\n\n```sh\n$ npm i electron -g\n$ npm i electron-packager -g\n```\n\n```\n$ vi main.js\n```\n\n```js\nconst electron = require('electron');\nconst app = electron.app;\nconst BrowserWindow = electron.BrowserWindow;\n\nlet mainWindow = null;\napp.on('ready', () =\u003e {\n  // mainWindowを作成（windowの大きさや、Kioskモードにするかどうかなどもここで定義できる）\n  mainWindow = new BrowserWindow({width: 400, height: 300});\n  // Electronに表示するhtmlを絶対パスで指定（相対パスだと動かない）\n  mainWindow.loadURL('file://' + __dirname + '/index.html');\n\n  // ChromiumのDevツールを開く\n  mainWindow.webContents.openDevTools();\n\n  mainWindow.on('closed', function() {\n    mainWindow = null;\n  });\n});\n```\n\n```sh\n$ vi index.html\n```\n\n```html\n\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n  \u003chead\u003e\n    \u003cmeta charset=\"UTF-8\"\u003e\n    \u003ctitle\u003eHello World!\u003c/title\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    Hello World!\n  \u003c/body\u003e\n\u003c/html\u003e\n```\n\n\n## Mac用に実行ファイルを生成\n\n```sh\n$ electron -v\nv5.0.6\n```\n\n```sh\n$ electron-packager . electron-sample --platform=darwin --arch=x64 --electron-version=5.0.6 \n```\n\nこれでelectron-sample.appというアプリケーションが作成されます。\n\n\n# 参考\nhttps://qiita.com/umamichi/items/6ce4f46c1458e89c4cfc\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:03:56+09:00","group":null,"id":"a9425aacede65fdb5c93","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"JavaScript","versions":[]},{"name":"Electron","versions":[]}],"title":"electronメモ","updated_at":"2019-07-09T20:03:56+09:00","url":"https://qiita.com/oho/items/a9425aacede65fdb5c93","user":{"description":"","facebook_id":"","followees_count":0,"followers_count":2,"github_login_name":null,"id":"oho","items_count":11,"linkedin_id":"","location":"Tokyo, Japan","name":"","organization":"株式会社シナプスソフト","permanent_id":38148,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/38148/profile-images/1473687663","team_only":false,"twitter_screen_name":"oho","website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003eこの記事はhtmlやcssに多少知識はありjavascriptも慣れてはきたが、\u003ccode\u003e$\u003c/code\u003eとか出てくると途端にわからなくなる人向けの絶妙な記事です。\u003cbr\u003e\n自分のメモに近いので分かりにくかったらすみません。\u003cbr\u003e\nほんとは画像とか交えながらまとめたかったんですけどね…。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"jqueryとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#jquery%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eJQueryとは\u003c/h3\u003e\n\n\u003cp\u003ejavascriptのライブラリでhtmlやcssをjavascript上で簡単に扱えるようにするものです。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"定義の基本\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9A%E7%BE%A9%E3%81%AE%E5%9F%BA%E6%9C%AC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e定義の基本\u003c/h2\u003e\n\n\u003cp\u003e以下のように$をつけることでJQueryのオブジェクトとして定義できる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\n\u003cspan class=\"c1\"\u003e// 定義の仕方1\u003c/span\u003e\n\u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003e$hoge\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 定義の仕方2\u003c/span\u003e\n\u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003ehoga\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ehoga\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"err\"\u003eなんかしらのメソッド\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003ehtmlに記述されたclassやidを指定して変数として扱う場合は以下のとおり。\u003cbr\u003e\ncssと一緒でクラスには\u003ccode\u003e.\u003c/code\u003eを、idには\u003ccode\u003e#\u003c/code\u003eをつける。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\n\u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'.some_class'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"err\"\u003eなんかしらのメソッド\u003c/span\u003e \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// クラスで指定\u003c/span\u003e\n\u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'#some_id'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"err\"\u003eなんかしらのメソッド\u003c/span\u003e \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// idで指定\u003c/span\u003e\n\u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'li'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"err\"\u003eなんかしらのメソッド\u003c/span\u003e \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// htmlタグで指定\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"よく使うメソッド\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%88%E3%81%8F%E4%BD%BF%E3%81%86%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eよく使うメソッド\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"初期化関数コンストラクタ的なやつ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%88%9D%E6%9C%9F%E5%8C%96%E9%96%A2%E6%95%B0%E3%82%B3%E3%83%B3%E3%82%B9%E3%83%88%E3%83%A9%E3%82%AF%E3%82%BF%E7%9A%84%E3%81%AA%E3%82%84%E3%81%A4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e初期化関数(コンストラクタ的なやつ)\u003c/h3\u003e\n\n\u003cp\u003eページを開いた際に最初に実行される初期化関数の定義は下記のとおり。\u003cbr\u003e\n最初は慣れないけども、書き方として覚える。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e// ここに書いた内容がページを開いた際に実行される\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"クリックしたら走る関数\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AF%E3%83%AA%E3%83%83%E3%82%AF%E3%81%97%E3%81%9F%E3%82%89%E8%B5%B0%E3%82%8B%E9%96%A2%E6%95%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eクリックしたら走る関数\u003c/h3\u003e\n\n\u003cp\u003ehtmlに記述された何かがクリックされたときに処理を行う際の記述。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'.some_class'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003eclick\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e// 'some_class'をクリックした際に実行される処理\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eクリックされた「これ！」を指定する場合は変数\u003ccode\u003e$(this)\u003c/code\u003eを用いる。\u003cbr\u003e\n例えば下記のようなボタンがいくつか配置された場合があるとする。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"index-btn\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e1\u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"index-btn\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e2\u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"index-btn\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e3\u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eクリックした「これ！」を指定する場合は以下の通り。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"c1\"\u003e// クラス\"index-btn\"の中でクリックしたものを$clickedElementに代入\u003c/span\u003e\n\u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'.index-btn'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003eclick\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003e$clickedElement\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"マウスを乗せたら走る関数\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%9E%E3%82%A6%E3%82%B9%E3%82%92%E4%B9%97%E3%81%9B%E3%81%9F%E3%82%89%E8%B5%B0%E3%82%8B%E9%96%A2%E6%95%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eマウスを乗せたら走る関数\u003c/h3\u003e\n\n\u003cp\u003eあるhtmlのタグ上にマウスが乗っているとき実行される処理は\u003ccode\u003ehover\u003c/code\u003e関数によって記述できる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'.some-class'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003ehover\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(){\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e// 'some_class'の上にマウスが乗っているとき実行される処理\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e基本的にはマウスが離れたときの処理も以下のようにして記述する。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'.some-class'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003ehover\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(){\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 'some_class'の上にマウスが乗っているとき実行される処理\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 'some_class'の上からマウスが離れたとき実行される処理\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"クラスの追加削除\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AE%E8%BF%BD%E5%8A%A0%E5%89%8A%E9%99%A4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eクラスの追加・削除\u003c/h3\u003e\n\n\u003cp\u003e\u003ccode\u003eaddClass('new_class')\u003c/code\u003eでクラスを追加できる。\u003cbr\u003e\nこのときは\u003ccode\u003e.\u003c/code\u003eや\u003ccode\u003e#\u003c/code\u003eは必要ないので注意。\u003cbr\u003e\n例えばクリックした要素に新しいクラスを追加する場合は以下の通り。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'.some_class'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003eclick\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'.some_class'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003eaddClass\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'new_class'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e逆に削除は\u003ccode\u003eremoveClass('some_class')\u003c/code\u003eで行える。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"クラス等の属性の値を取得\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AF%E3%83%A9%E3%82%B9%E7%AD%89%E3%81%AE%E5%B1%9E%E6%80%A7%E3%81%AE%E5%80%A4%E3%82%92%E5%8F%96%E5%BE%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eクラス等の属性の値を取得\u003c/h3\u003e\n\n\u003cp\u003eそもそもhtmlにおけるclassやidを「属性 (attributes)」と呼ぶ。\u003cbr\u003e\n属性を指定し、その値を所得するには関数\u003ccode\u003eattr()\u003c/code\u003eを使う。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"c1\"\u003e// \u0026lt;a\u0026gt;タグのURL情報を取得\u003c/span\u003e\n\u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003eurl\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'a'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003eattr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'href'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"htmlリストタグのインデックス番号の取得\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#html%E3%83%AA%E3%82%B9%E3%83%88%E3%82%BF%E3%82%B0%E3%81%AE%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E7%95%AA%E5%8F%B7%E3%81%AE%E5%8F%96%E5%BE%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ehtmlリストタグのインデックス番号の取得\u003c/h3\u003e\n\n\u003cp\u003ehtmlの\u003ccode\u003e\u0026lt;li\u0026gt;\u003c/code\u003eにはインデックスという概念が存在する。\u003cbr\u003e\n配列のインデックスと一緒で0から始まるもの。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nt\"\u003e\u0026lt;li\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"fisrt_list\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eインデックス0\u003cspan class=\"nt\"\u003e\u0026lt;/li\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;li\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"second_list\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eインデックス1\u003cspan class=\"nt\"\u003e\u0026lt;/li\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;li\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"third_list\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eインデックス2\u003cspan class=\"nt\"\u003e\u0026lt;/li\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e上記の例の場合、関数\u003ccode\u003eindex()\u003c/code\u003eでインデックスを取得できる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003elistIndex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'li'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003eindex\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'.second_list'\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eまた、クリックした「これ！」のインデックスは以下のとおり。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'li'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003eclick\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003e$clickedIndex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'li'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003eindex\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"htmlリストタグの長さの取得\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#html%E3%83%AA%E3%82%B9%E3%83%88%E3%82%BF%E3%82%B0%E3%81%AE%E9%95%B7%E3%81%95%E3%81%AE%E5%8F%96%E5%BE%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ehtmlリストタグの長さの取得\u003c/h3\u003e\n\n\u003cp\u003e配列の\u003ccode\u003elength\u003c/code\u003eメソッドと同じようなノリで\u003ccode\u003e\u0026lt;li\u0026gt;\u003c/code\u003eの長さを取得できる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003etheLastIndex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'list_class'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003elength\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"要素の表示非表示\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A6%81%E7%B4%A0%E3%81%AE%E8%A1%A8%E7%A4%BA%E9%9D%9E%E8%A1%A8%E7%A4%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e要素の表示・非表示\u003c/h3\u003e\n\n\u003cp\u003e\u003ccode\u003e$('.some_class').show()\u003c/code\u003eで表示。\u003cbr\u003e\n\u003ccode\u003e$('.some_class').hide()\u003c/code\u003eで非表示。\u003cbr\u003e\n例えば、スライドのインデックス番号に応じてボタンを非表示にしたいとき。\u003cbr\u003e\nhtmlを以下のようなものとすると、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"change-btn prev-btn\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e← 前へ\u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"change-btn next-btn\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e次へ →\u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003ejsファイルの中身は以下の通り。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e// はじめに全てのボタンを表示\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'.change-btn'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003eshow\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n  \u003cspan class=\"c1\"\u003e// スライド番号に応じてボタンを非表示\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eslideIndex\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'.prev-btn'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003ehide\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eslideIndex\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'.next-btn'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003ehide\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"htmlで表示される文字列を編集取得\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#html%E3%81%A7%E8%A1%A8%E7%A4%BA%E3%81%95%E3%82%8C%E3%82%8B%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E7%B7%A8%E9%9B%86%E5%8F%96%E5%BE%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ehtmlで表示される文字列を編集・取得\u003c/h3\u003e\n\n\u003cp\u003e\u003ccode\u003etext()\u003c/code\u003e関数を用いることで文字列関連の操作を行える。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"c1\"\u003e// \u0026lt;h1\u0026gt;タグの文字列を書き換える場合\u003c/span\u003e\n\u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'h1'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'変更しちゃった'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// \u0026lt;h1\u0026gt;タグからの文字列の取得\u003c/span\u003e\n\u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003etext\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'h1'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"フォームで使うメソッド\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%95%E3%82%A9%E3%83%BC%E3%83%A0%E3%81%A7%E4%BD%BF%E3%81%86%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eフォームで使うメソッド\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"送信ボタンを押したら走るメソッド\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%80%81%E4%BF%A1%E3%83%9C%E3%82%BF%E3%83%B3%E3%82%92%E6%8A%BC%E3%81%97%E3%81%9F%E3%82%89%E8%B5%B0%E3%82%8B%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e送信ボタンを押したら走るメソッド\u003c/h3\u003e\n\n\u003cp\u003e送信ボタンが押された際の処理の記述を\u003ccode\u003esubmit\u003c/code\u003e関数で行うことができる。\u003cbr\u003e\n例えばフォームの送信ボタンを以下のようにhtmlで記述したとする。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nt\"\u003e\u0026lt;form\u003c/span\u003e \u003cspan class=\"na\"\u003eid=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"form\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"c\"\u003e\u0026lt;!-- 回答フォームに関する記述 --\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;button\u003c/span\u003e \u003cspan class=\"na\"\u003etype=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"submit\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"btn btn-submit\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e送信\u003cspan class=\"nt\"\u003e\u0026lt;/button\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/form\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこの送信ボタンが押されたとき実行される処理は以下のように記述する。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'#form'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003esubmit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 送信ボタンが押されたときに行う処理の記述\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e選択肢から選んだ要素を取得\u003cbr\u003e\nhtmlではタグを使って選択フォームを生成できる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nt\"\u003e\u0026lt;form\u003c/span\u003e \u003cspan class=\"na\"\u003eid=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"form\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;select\u003c/span\u003e \u003cspan class=\"na\"\u003eid=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"select-form\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"select-form\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"0\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e選択してください\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e1. 犬派\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"2\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e2. 猫派\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;option\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"3\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e3. それ以外\u003cspan class=\"nt\"\u003e\u0026lt;/option\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;/select\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;button\u003c/span\u003e \u003cspan class=\"na\"\u003etype=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"submit\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"btn btn-submit\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e送信\u003cspan class=\"nt\"\u003e\u0026lt;/button\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/form\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e選択された値は\u003ccode\u003eval()\u003c/code\u003e関数によって取得できる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'#form'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003esubmit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003eselectedValue\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'#select-form'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003eval\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e入力フォームに記載された内容を取得\u003cbr\u003e\n選択フォームとほぼ同じ。\u003cbr\u003e\nhtmlにおける入力フォームの生成は以下のとおり。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nt\"\u003e\u0026lt;form\u003c/span\u003e \u003cspan class=\"na\"\u003eid=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"form\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;textarea\u003c/span\u003e \u003cspan class=\"na\"\u003eid=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-form\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u0026lt;/textarea\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;button\u003c/span\u003e \u003cspan class=\"na\"\u003etype=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"submit\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"btn btn-submit\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e送信\u003cspan class=\"nt\"\u003e\u0026lt;/button\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/form\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e入力された値も\u003ccode\u003eval()\u003c/code\u003e関数によって取得できる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'#form'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003esubmit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003etextValue\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'#text-form'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003eval\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n","body":"#はじめに\nこの記事はhtmlやcssに多少知識はありjavascriptも慣れてはきたが、`$`とか出てくると途端にわからなくなる人向けの絶妙な記事です。\n自分のメモに近いので分かりにくかったらすみません。\nほんとは画像とか交えながらまとめたかったんですけどね…。\n\n###JQueryとは\njavascriptのライブラリでhtmlやcssをjavascript上で簡単に扱えるようにするものです。\n\n##定義の基本\n以下のように$をつけることでJQueryのオブジェクトとして定義できる。\n\n```javascript\n\n// 定義の仕方1\nvar $hoge;\n// 定義の仕方2\nvar hoga;\n$(hoga).なんかしらのメソッド\n```\n\nhtmlに記述されたclassやidを指定して変数として扱う場合は以下のとおり。\ncssと一緒でクラスには`.`を、idには`#`をつける。\n\n```javascript\n\n$('.some_class').なんかしらのメソッド ; // クラスで指定\n$('#some_id').なんかしらのメソッド ; // idで指定\n$('li').なんかしらのメソッド ; // htmlタグで指定\n```\n\n##よく使うメソッド\n###初期化関数(コンストラクタ的なやつ)\nページを開いた際に最初に実行される初期化関数の定義は下記のとおり。\n最初は慣れないけども、書き方として覚える。\n\n```javascript\n$(function() {\n  // ここに書いた内容がページを開いた際に実行される\n});\n```\n\n###クリックしたら走る関数\nhtmlに記述された何かがクリックされたときに処理を行う際の記述。\n\n```javascript\n$('.some_class').click(function() {\n  // 'some_class'をクリックした際に実行される処理\n});\n```\n\nクリックされた「これ！」を指定する場合は変数`$(this)`を用いる。\n例えば下記のようなボタンがいくつか配置された場合があるとする。\n\n```html\n\u003cdiv class=\"index-btn\"\u003e1\u003c/div\u003e\n\u003cdiv class=\"index-btn\"\u003e2\u003c/div\u003e\n\u003cdiv class=\"index-btn\"\u003e3\u003c/div\u003e\n```\n\nクリックした「これ！」を指定する場合は以下の通り。\n\n```javascript\n// クラス\"index-btn\"の中でクリックしたものを$clickedElementに代入\n$('.index-btn').click(function() {\n  var $clickedElement = $(this);\n});\n```\n\n###マウスを乗せたら走る関数\nあるhtmlのタグ上にマウスが乗っているとき実行される処理は`hover`関数によって記述できる。\n\n```javascript\n$('.some-class').hover(function(){\n  // 'some_class'の上にマウスが乗っているとき実行される処理\n});\n```\n\n基本的にはマウスが離れたときの処理も以下のようにして記述する。\n\n```javascript\n$('.some-class').hover(\n  function(){\n    // 'some_class'の上にマウスが乗っているとき実行される処理\n  }\n  function{\n    // 'some_class'の上からマウスが離れたとき実行される処理\n  }\n);\n```\n\n###クラスの追加・削除\n`addClass('new_class')`でクラスを追加できる。\nこのときは`.`や`#`は必要ないので注意。\n例えばクリックした要素に新しいクラスを追加する場合は以下の通り。\n\n```javascript\n$('.some_class').click(function() {\n  $('.some_class').addClass('new_class');\n});\n```\n\n逆に削除は`removeClass('some_class')`で行える。\n\n###クラス等の属性の値を取得\nそもそもhtmlにおけるclassやidを「属性 (attributes)」と呼ぶ。\n属性を指定し、その値を所得するには関数`attr()`を使う。\n\n```javascript\n// \u003ca\u003eタグのURL情報を取得\nvar url = $('a').attr('href');\n```\n\n###htmlリストタグのインデックス番号の取得\n\nhtmlの`\u003cli\u003e`にはインデックスという概念が存在する。\n配列のインデックスと一緒で0から始まるもの。\n\n```html\n\u003cli class=\"fisrt_list\"\u003eインデックス0\u003c/li\u003e\n\u003cli class=\"second_list\"\u003eインデックス1\u003c/li\u003e\n\u003cli class=\"third_list\"\u003eインデックス2\u003c/li\u003e\n```\n\n上記の例の場合、関数`index()`でインデックスを取得できる。\n\n```javascript\nvar listIndex = $('li').index($('.second_list'));\n```\n\nまた、クリックした「これ！」のインデックスは以下のとおり。\n\n```javascript\n$('li').click(function() {\n  var $clickedIndex = $('li').index($(this));\n});\n```\n\n###htmlリストタグの長さの取得\n配列の`length`メソッドと同じようなノリで`\u003cli\u003e`の長さを取得できる。\n\n```javascript\nvar theLastIndex = $('list_class').length - 1\n```\n\n###要素の表示・非表示\n`$('.some_class').show()`で表示。\n`$('.some_class').hide()`で非表示。\n例えば、スライドのインデックス番号に応じてボタンを非表示にしたいとき。\nhtmlを以下のようなものとすると、\n\n```html\n\u003cdiv class=\"change-btn prev-btn\"\u003e← 前へ\u003c/div\u003e\n\u003cdiv class=\"change-btn next-btn\"\u003e次へ →\u003c/div\u003e\n```\n\njsファイルの中身は以下の通り。\n\n```javascript\n$(function() {\n  // はじめに全てのボタンを表示\n  $('.change-btn').show();\n\n  // スライド番号に応じてボタンを非表示\n  if (slideIndex == 0) {\n    $('.prev-btn').hide();\n  } else if (slideIndex == 3) {\n    $('.next-btn').hide();\n  }\n});\n```\n\n###htmlで表示される文字列を編集・取得\n`text()`関数を用いることで文字列関連の操作を行える。\n\n```javascript\n// \u003ch1\u003eタグの文字列を書き換える場合\n$('h1').text('変更しちゃった');\n\n// \u003ch1\u003eタグからの文字列の取得\nvar text = $('h1').text(); \n```\n\n##フォームで使うメソッド\n###送信ボタンを押したら走るメソッド\n送信ボタンが押された際の処理の記述を`submit`関数で行うことができる。\n例えばフォームの送信ボタンを以下のようにhtmlで記述したとする。\n\n```html\n\u003cform id=\"form\"\u003e\n\u003c!-- 回答フォームに関する記述 --\u003e\n  \u003cbutton type=\"submit\" class=\"btn btn-submit\"\u003e送信\u003c/button\u003e\n\u003c/form\u003e\n```\n\nこの送信ボタンが押されたとき実行される処理は以下のように記述する。\n\n```javascript\n$('#form').submit(function() {\n// 送信ボタンが押されたときに行う処理の記述\n});\n```\n\n選択肢から選んだ要素を取得\nhtmlでは\u003cselect\u003eタグを使って選択フォームを生成できる。\n\n```html\n\u003cform id=\"form\"\u003e\n  \u003cselect id=\"select-form\" class=\"select-form\"\u003e\n    \u003coption value=\"0\"\u003e選択してください\u003c/option\u003e\n    \u003coption value=\"1\"\u003e1. 犬派\u003c/option\u003e\n    \u003coption value=\"2\"\u003e2. 猫派\u003c/option\u003e\n    \u003coption value=\"3\"\u003e3. それ以外\u003c/option\u003e\n  \u003c/select\u003e\n  \u003cbutton type=\"submit\" class=\"btn btn-submit\"\u003e送信\u003c/button\u003e\n\u003c/form\u003e\n```\n\n選択された値は`val()`関数によって取得できる。\n\n```javascript\n$('#form').submit(function() {\n  var selectedValue = $('#select-form').val();\n});\n```\n\n入力フォームに記載された内容を取得\n選択フォームとほぼ同じ。\nhtmlにおける入力フォームの生成は以下のとおり。\n\n```html\n\u003cform id=\"form\"\u003e\n  \u003ctextarea id=\"text-form\"\u003e\u003c/textarea\u003e\n  \u003cbutton type=\"submit\" class=\"btn btn-submit\"\u003e送信\u003c/button\u003e\n\u003c/form\u003e\n```\n\n入力された値も`val()`関数によって取得できる。\n\n```javascript\n$('#form').submit(function() {\n  var textValue = $('#text-form').val();\n});\n```\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:01:45+09:00","group":null,"id":"949f9165db0e19f5ddfc","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"JavaScript","versions":[]},{"name":"jQuery","versions":[]}],"title":"jQuery初心者のためのメモ","updated_at":"2019-07-09T20:01:45+09:00","url":"https://qiita.com/keinko/items/949f9165db0e19f5ddfc","user":{"description":"プログラミング等の経験は浅いです。わかりやすく説明できればと思います。","facebook_id":"","followees_count":1,"followers_count":1,"github_login_name":null,"id":"keinko","items_count":10,"linkedin_id":"","location":"東京","name":"鈴木 啓","organization":"なし","permanent_id":208979,"profile_image_url":"https://secure.gravatar.com/avatar/621143d1202cafcc4098f13e7b0c7f5e","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"timestampをsha256でhash化\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#timestamp%E3%82%92sha256%E3%81%A7hash%E5%8C%96\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eTimestampをsha256でhash化\u003c/h1\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"まず下準備\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%9A%E4%B8%8B%E6%BA%96%E5%82%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまず下準備\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"下準備\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003efrom datetime import datetime,date\nimport time\nimport hashlib\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"encodeできるように型を変える\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#encode%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%88%E3%81%86%E3%81%AB%E5%9E%8B%E3%82%92%E5%A4%89%E3%81%88%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eencodeできるように型を変える\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003et_today = datetime.now()\ns_today = t_today.strftime('%Y/%m/%d %H:%M*%S')\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"sha256でhash化\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#sha256%E3%81%A7hash%E5%8C%96\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003esha256でhash化\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eango = hashlib.sha256(s_today.encode('utf-8')).hexdigest()\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"success-\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#success-\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eSUCCESS !\u003c/h3\u003e\n\n\u003chr\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"参考\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://docs.python.org/ja/3.8/library/datetime.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://docs.python.org/ja/3.8/library/datetime.html\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://pg-chain.com/python-hash-hashlib\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://pg-chain.com/python-hash-hashlib\u003c/a\u003e\u003c/p\u003e\n","body":"#Timestampをsha256でhash化\n\n###まず下準備\n```下準備\nfrom datetime import datetime,date\nimport time\nimport hashlib\n```\n\n###encodeできるように型を変える\n\n```\nt_today = datetime.now()\ns_today = t_today.strftime('%Y/%m/%d %H:%M*%S')\n```\n\n###sha256でhash化\n```\nango = hashlib.sha256(s_today.encode('utf-8')).hexdigest()\n```\n\n###SUCCESS !\n\n\n\n\n---------------------------------------------------------\n###参考\nhttps://docs.python.org/ja/3.8/library/datetime.html\nhttps://pg-chain.com/python-hash-hashlib\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T20:01:02+09:00","group":null,"id":"2bd432d6820ef446c947","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"hash","versions":[]},{"name":"Python3","versions":[]},{"name":"暗号化","versions":[]},{"name":"sha256","versions":[]}],"title":"python3でtimestampをhash化した日","updated_at":"2019-07-09T20:02:42+09:00","url":"https://qiita.com/shiro000/items/2bd432d6820ef446c947","user":{"description":"lyrical magical girl","facebook_id":"","followees_count":31,"followers_count":5,"github_login_name":null,"id":"shiro000","items_count":20,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":83884,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/83884/profile-images/1473702919","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch2\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\n\u003cp\u003eiOSアプリでGUIを作る際にはTableviewを使うことが非常に多いと思います。\u003cbr\u003e\nこのTableview、デフォルトだとセルのクラスはUITableViewCellで、表示出来るUIが事前に定められています（テキスト、サブテキスト等）。\u003cbr\u003e\nたとえば画像を表示したかったり、ボタンを表示したかったり、実装したいUIによってはデフォルトのクラスを継承したカスタムクラスを作ってやる必要があります。\u003cbr\u003e\nそんな際にバグってしまったセルの取扱いについてまとめておきます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"バグった実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%90%E3%82%B0%E3%81%A3%E3%81%9F%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eバグった実装\u003c/h2\u003e\n\n\u003cp\u003e例によってカスタムクラスをつくって、内部にはUITextFieldを設置して、ユーザーの入力を受け付けるようにすると、以下のようなバグが発生しました。\u003cbr\u003e\n①1行目のセルのTextfieldに文字列を入力すると\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/32af9050140dd50e00fce8060d89e1abe95b6fc4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f37333139372f38383937333736612d303962382d666261302d373130352d3833353935353337326135652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/32af9050140dd50e00fce8060d89e1abe95b6fc4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f37333139372f38383937333736612d303962382d666261302d373130352d3833353935353337326135652e706e67\" alt=\"IMG_2413.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/73197/8897376a-09b8-fba0-7105-835955372a5e.png\"\u003e\u003c/a\u003e\u003cbr\u003e\n②下にスクロールすると7行目くらいのセルに文字列が入力されてしまっている\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/25dcd41ddd850282b699c787caa26357228bd588/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f37333139372f33386436376136302d313062392d376535312d326563622d3736353765616333323135322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/25dcd41ddd850282b699c787caa26357228bd588/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f37333139372f33386436376136302d313062392d376535312d326563622d3736353765616333323135322e706e67\" alt=\"IMG_2414.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/73197/38d67a60-10b9-7e51-2ecb-7657eac32152.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"バグの内容\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%90%E3%82%B0%E3%81%AE%E5%86%85%E5%AE%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eバグの内容\u003c/h2\u003e\n\n\u003cp\u003e実装したUIはセルの数が一定ではなく、ユーザーの入力によりセルが増減するものになります（初期状態はセルはひとつ）。セルを増やした際、1番目のセルに文字列を入力すると、それが「画面外の7番目くらいの別のセルにも反映されてしまう」バグに遭遇しました。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"原因\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8E%9F%E5%9B%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e原因\u003c/h2\u003e\n\n\u003cp\u003eぐぐったら以下のQiitaの記事に辿りつきました。\u003c/p\u003e\n\n\u003cp\u003eUITableViewのあるセルに設定した値が、他のセルにも反映されてしまう\u003cbr\u003e\n\u003ca href=\"https://qiita.com/shikatani/items/88dff6ecf9684027862e\" class=\"autolink\" id=\"reference-8cd34da86cc666f4c419\"\u003ehttps://qiita.com/shikatani/items/88dff6ecf9684027862e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e要は画面外にあるセルは内部的には描写されておらず、必要に応じて描写されるようになっているようです。\u003cbr\u003e\n画面外から画面内に入ってくるセルは、画面内から画面外に出ていくセルを再利用しているのです。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"対策\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AF%BE%E7%AD%96\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e対策\u003c/h2\u003e\n\n\u003cp\u003eセルに登載されるデータはcellForRowAtで指定する訳ですが、事前にデータが固定されていないと実装が複雑になる感があります。今回の件は動的に登載されるべきデータが変更されることから、単純な実装ではうまくいかなかった訳です。上記のQiita記事では、バグは発生しているものの登載されるべきデータは静的に事前に指定されているので、セルを初期化すれば解決しています（∵画像の読み込み先URLは事前に決定されているから）。しかしながら本件のようなユーザーの入力にデータが依存するケースだと、入力されるデータを逐次保存しておかないと対応出来ないと思います。すなわち、予めセルに登載するデータ（=配列）を指定しておき、その配列の中身が更新される、という実装が必要になるかと。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"終わりに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e終わりに\u003c/h2\u003e\n\n\u003cp\u003e具体的な解決策は提示出来てませんが、Tableviewのセルに登載するデータは事前に指定してあげないと予期せぬ動作をするという事と、ググれば何でも出てくるという事を伝えたかった。\u003c/p\u003e\n","body":"##はじめに\niOSアプリでGUIを作る際にはTableviewを使うことが非常に多いと思います。\nこのTableview、デフォルトだとセルのクラスはUITableViewCellで、表示出来るUIが事前に定められています（テキスト、サブテキスト等）。\nたとえば画像を表示したかったり、ボタンを表示したかったり、実装したいUIによってはデフォルトのクラスを継承したカスタムクラスを作ってやる必要があります。\nそんな際にバグってしまったセルの取扱いについてまとめておきます。\n\n##バグった実装\n例によってカスタムクラスをつくって、内部にはUITextFieldを設置して、ユーザーの入力を受け付けるようにすると、以下のようなバグが発生しました。\n①1行目のセルのTextfieldに文字列を入力すると\n![IMG_2413.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/73197/8897376a-09b8-fba0-7105-835955372a5e.png)\n②下にスクロールすると7行目くらいのセルに文字列が入力されてしまっている\n![IMG_2414.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/73197/38d67a60-10b9-7e51-2ecb-7657eac32152.png)\n\n##バグの内容\n実装したUIはセルの数が一定ではなく、ユーザーの入力によりセルが増減するものになります（初期状態はセルはひとつ）。セルを増やした際、1番目のセルに文字列を入力すると、それが「画面外の7番目くらいの別のセルにも反映されてしまう」バグに遭遇しました。\n\n##原因\nぐぐったら以下のQiitaの記事に辿りつきました。\n\nUITableViewのあるセルに設定した値が、他のセルにも反映されてしまう\nhttps://qiita.com/shikatani/items/88dff6ecf9684027862e\n\n要は画面外にあるセルは内部的には描写されておらず、必要に応じて描写されるようになっているようです。\n画面外から画面内に入ってくるセルは、画面内から画面外に出ていくセルを再利用しているのです。\n\n##対策\nセルに登載されるデータはcellForRowAtで指定する訳ですが、事前にデータが固定されていないと実装が複雑になる感があります。今回の件は動的に登載されるべきデータが変更されることから、単純な実装ではうまくいかなかった訳です。上記のQiita記事では、バグは発生しているものの登載されるべきデータは静的に事前に指定されているので、セルを初期化すれば解決しています（∵画像の読み込み先URLは事前に決定されているから）。しかしながら本件のようなユーザーの入力にデータが依存するケースだと、入力されるデータを逐次\u001c保存しておかないと対応出来ないと思います。すなわち、予めセルに登載するデータ（=配列）を指定しておき、その配列の中身が更新される、という実装が必要になるかと。\n\n##終わりに\n具体的な解決策は提示出来てませんが、Tableviewのセルに登載するデータは事前に指定してあげないと予期せぬ動作をするという事と、ググれば何でも出てくるという事を伝えたかった。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T19:51:44+09:00","group":null,"id":"794959e062921c594a68","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"iOS","versions":[]},{"name":"Swift","versions":[]}],"title":"[Swift][iOS]TableViewのセル再利用の罠","updated_at":"2019-07-09T19:51:44+09:00","url":"https://qiita.com/kigchi999/items/794959e062921c594a68","user":{"description":"個人で色々開発しています。業務経験ゼロです。","facebook_id":"","followees_count":0,"followers_count":2,"github_login_name":null,"id":"kigchi999","items_count":12,"linkedin_id":"","location":"hokkaido","name":"Iguchi Kanahiro","organization":"","permanent_id":73197,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/73197/profile-images/1557331957","team_only":false,"twitter_screen_name":"kigchi999","website_url":"https://www.labo288.site"},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003eこの記事のRailsのバージョンは5.2.2.1です。\u003cbr\u003e\n自分の備忘録としてメモします。\u003c/p\u003e\n\n\u003cp\u003e今回は「memo-app」というアプリを作成する想定で書きます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"具体的な手順\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%85%B7%E4%BD%93%E7%9A%84%E3%81%AA%E6%89%8B%E9%A0%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e具体的な手順\u003c/h2\u003e\n\n\u003cp\u003e\u003cb\u003e新規アプリ作成コマンド\u003c/b\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"terminal\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eterminal\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"gp\"\u003e$\u003c/span\u003e rails new アプリケーション名\n\u003cspan class=\"gp\"\u003e  #\u003c/span\u003e アプリケーションを新規作成\n\u003cspan class=\"go\"\u003e\n\u003c/span\u003e\u003cspan class=\"gp\"\u003e  $\u003c/span\u003e rails new アプリケーション名 -オプション名\n\u003cspan class=\"gp\"\u003e  #\u003c/span\u003e オプションを付けてアプリケーションを作成\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこの新規ファイル全体の事を\u003cbr\u003e\nRailsアプリという。\u003c/p\u003e\n\n\u003cp\u003e\u003cb\u003e新規アプリ作成コマンドの具体例\u003c/b\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"terminal\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eterminal\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"gp\"\u003e$\u003c/span\u003e \u003cspan class=\"nb\"\u003ecd\u003c/span\u003e ~/projects\n\u003cspan class=\"gp\"\u003e  #\u003c/span\u003e projectsディレクトリに移動\n\u003cspan class=\"gp\"\u003e  $\u003c/span\u003e rails _5.2.2.1_ new memo-app \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e mysql\n\u003cspan class=\"gp\"\u003e  #\u003c/span\u003e 「memoapp」を「mysql」オプションで作成。バージョンを5.2.2.1で作成。\n\u003cspan class=\"go\"\u003e\n\u003c/span\u003e\u003cspan class=\"gp\"\u003e  $\u003c/span\u003e \u003cspan class=\"nb\"\u003ecd \u003c/span\u003ememo-app\n\u003cspan class=\"gp\"\u003e  #\u003c/span\u003e 「memo-app」ディレクトリに移動\n\u003cspan class=\"go\"\u003e\n\u003c/span\u003e\u003cspan class=\"gp\"\u003e  $\u003c/span\u003e \u003cspan class=\"nb\"\u003epwd\u003c/span\u003e\n\u003cspan class=\"gp\"\u003e  #\u003c/span\u003e 現在のディレクトリのパスを表示\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e続いてデータベースの作成を行う。\u003c/p\u003e\n\n\u003cp\u003e\u003cb\u003eデータベース作成コマンド\u003c/b\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"terminal\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eterminal\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"gp\"\u003e$\u003c/span\u003e rake db:create\n\u003cspan class=\"gp\"\u003e#\u003c/span\u003edatabase.ymlというファイルに基づいて作成される\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e続いてルーティングの設定を行います（ルーティングに関するファイルはrails newコマンドですでに作成されている）\u003c/p\u003e\n\n\u003cp\u003e\u003cb\u003eルーティング設定の具体例\u003c/b\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"ruby\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eroutes.rb\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"no\"\u003eRails\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eapplication\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eroutes\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003edraw\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eget\u003c/span\u003e \u003cspan class=\"s1\"\u003e'memo'\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s1\"\u003e'memos#index'\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e続いてコントローラーの作成を行います。\u003c/p\u003e\n\n\u003cp\u003e\u003cb\u003eコントローラー作成コマンド\u003c/b\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"terminal\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eterminal\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"gp\"\u003e$\u003c/span\u003e rails g controller コントローラ名\n\u003cspan class=\"gp\"\u003e#\u003c/span\u003e コントローラを作成\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003cb\u003eコントローラー作成コマンドの具体例\u003c/b\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"terminal\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eterminal\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"gp\"\u003e$\u003c/span\u003e rails g controller memos\n\u003cspan class=\"gp\"\u003e#\u003c/span\u003e memosコントローラを作成\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003cb\u003eコントローラーファイル設定\u003c/b\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"ruby\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ememos_controller.rb\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMemosController\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"no\"\u003eApplicationController\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eindex\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e#indexアクションを定義\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e後はビューファイルの作成を行います。\u003cbr\u003e\n今回はindex.html.erbというファイル名で作成します。\u003cbr\u003e\nこの際拡張子がerbになっている事に注意。（rubyを埋め込めるHTMLだと思っておけばOK）\u003c/p\u003e\n\n\u003cp\u003e\u003cb\u003eモデルの作成\u003c/b\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"terminal\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eterminal\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"gp\"\u003e$\u003c/span\u003e rails g model memo\n\u003cspan class=\"gp\"\u003e  #\u003c/span\u003e  Memoモデルを作成→モデルクラス名\u003cspan class=\"o\"\u003e(\u003c/span\u003e全て小文字\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこの後にマイグレーションファイルで作成するカラムの設定などを行う。\u003c/p\u003e\n\n\u003cp\u003e\u003cb\u003eマイグレーションファイルの作成\u003c/b\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"terminal\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eterminal\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"gp\"\u003e$\u003c/span\u003e rake db:migrate\n\u003cspan class=\"gp\"\u003e#\u003c/span\u003e マイグレーションファイルの実行\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eDB上にmemosテーブルが作成される。\u003c/p\u003e\n\n\u003cp\u003eあとはrails sコマンドでサーバーを立ち上げればアプリとしての最低限のモノが。\u003cbr\u003e\n各人カスタマイズして良いアプリを創っていきましょう。\u003c/p\u003e\n","body":"#はじめに\nこの記事のRailsのバージョンは5.2.2.1です。\n自分の備忘録としてメモします。\n\n今回は「memo-app」というアプリを作成する想定で書きます。\n\n##具体的な手順\n\n\u003cb\u003e新規アプリ作成コマンド\u003c/b\u003e\n\n```terminal:terminal\n$ rails new アプリケーション名\n  # アプリケーションを新規作成\n\n  $ rails new アプリケーション名 -オプション名\n  # オプションを付けてアプリケーションを作成\n```\n\n\nこの新規ファイル全体の事を\nRailsアプリという。\n\n\u003cb\u003e新規アプリ作成コマンドの具体例\u003c/b\u003e\n\n```terminal:terminal\n$ cd ~/projects\n  # projectsディレクトリに移動\n  $ rails _5.2.2.1_ new memo-app -d mysql\n  # 「memoapp」を「mysql」オプションで作成。バージョンを5.2.2.1で作成。\n\n  $ cd memo-app\n  # 「memo-app」ディレクトリに移動\n\n  $ pwd\n  # 現在のディレクトリのパスを表示\n```\n\n続いてデータベースの作成を行う。\n\n\u003cb\u003eデータベース作成コマンド\u003c/b\u003e\n\n```terminal:terminal\n$ rake db:create\n#database.ymlというファイルに基づいて作成される\n```\n\n続いてルーティングの設定を行います（ルーティングに関するファイルはrails newコマンドですでに作成されている）\n\n\u003cb\u003eルーティング設定の具体例\u003c/b\u003e\n\n```ruby:routes.rb\nRails.application.routes.draw do\n    get 'memo' =\u003e 'memos#index'\n  end\n```\n\n続いてコントローラーの作成を行います。\n\n\u003cb\u003eコントローラー作成コマンド\u003c/b\u003e\n\n```terminal:terminal\n$ rails g controller コントローラ名\n# コントローラを作成\n```\n\n\u003cb\u003eコントローラー作成コマンドの具体例\u003c/b\u003e\n\n```terminal:terminal\n$ rails g controller memos\n# memosコントローラを作成\n```\n\n\u003cb\u003eコントローラーファイル設定\u003c/b\u003e\n\n```ruby:memos_controller.rb\nclass MemosController \u003c ApplicationController\n\n    def index\n    end\n\n  end\n\n#indexアクションを定義\n```\n\n後はビューファイルの作成を行います。\n今回はindex.html.erbというファイル名で作成します。\nこの際拡張子がerbになっている事に注意。（rubyを埋め込めるHTMLだと思っておけばOK）\n\n\u003cb\u003eモデルの作成\u003c/b\u003e\n\n```terminal:terminal\n$ rails g model memo\n  #  Memoモデルを作成→モデルクラス名(全て小文字)\n```\n\nこの後にマイグレーションファイルで作成するカラムの設定などを行う。\n\n\u003cb\u003eマイグレーションファイルの作成\u003c/b\u003e\n\n```terminal:terminal\n$ rake db:migrate\n# マイグレーションファイルの実行\n```\n\nDB上にmemosテーブルが作成される。\n\nあとはrails sコマンドでサーバーを立ち上げればアプリとしての最低限のモノが。\n各人カスタマイズして良いアプリを創っていきましょう。\n\n\n\n\n\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T19:51:01+09:00","group":null,"id":"2a72497df598d9b6d4ae","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"Ruby","versions":[]},{"name":"Rails","versions":[]},{"name":"_5.2.2.1_","versions":[]}],"title":"Railsにおける新規アプリ作成手順まとめ","updated_at":"2019-07-09T19:51:01+09:00","url":"https://qiita.com/kenji-nishie/items/2a72497df598d9b6d4ae","user":{"description":"","facebook_id":"kenji.ageha","followees_count":0,"followers_count":0,"github_login_name":null,"id":"kenji-nishie","items_count":1,"linkedin_id":"","location":"東京都","name":"健司 西江","organization":"","permanent_id":443695,"profile_image_url":"https://lh4.googleusercontent.com/-PgD20Je1z3c/AAAAAAAAAAI/AAAAAAAAAGU/I5RsjIDB1O4/s50/photo.jpg","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\u003cp\u003ehttp www trendysupplement com alpha testo boost\u003cbr\u003e\nAlpha Testo Boost\u003c/p\u003e\n\n\u003cp\u003eIn spite of the fact that we didn't ding focuses if a fixing wasn't demonstrated to be great (just insofar as it wasn't demonstrated to be terrible), we would not like to incorporate any fixing with proof of causing hurt. Sergeant Steel kept running into inconvenience here on the grounds that it contains Shilajit — a kind of plant-based sap. Shilajit is restricted in Canada on the grounds that the Canadian government discovered substantial metal levels when researching the fixing. Shilajit is elusive, and touchy to water and varieties in temperature,\u003c/p\u003e\n","body":"\nhttp www trendysupplement com alpha testo boost\nAlpha Testo Boost\n\nIn spite of the fact that we didn't ding focuses if a fixing wasn't demonstrated to be great (just insofar as it wasn't demonstrated to be terrible), we would not like to incorporate any fixing with proof of causing hurt. Sergeant Steel kept running into inconvenience here on the grounds that it contains Shilajit — a kind of plant-based sap. Shilajit is restricted in Canada on the grounds that the Canadian government discovered substantial metal levels when researching the fixing. Shilajit is elusive, and touchy to water and varieties in temperature,\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T19:50:16+09:00","group":null,"id":"4e1476d2f56feb55f429","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"boost","versions":[]},{"name":"alpha","versions":[]},{"name":"Testo","versions":[]}],"title":"http www trendysupplement com alpha testo boost","updated_at":"2019-07-09T19:50:16+09:00","url":"https://qiita.com/KsadoSassfd/items/4e1476d2f56feb55f429","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"KsadoSassfd","items_count":1,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":457826,"profile_image_url":"https://secure.gravatar.com/avatar/4b0e081e42722bc3caca055a294e5559","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\n\u003ch2\u003e\n\u003cspan id=\"学習ログ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AD%A6%E7%BF%92%E3%83%AD%E3%82%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e学習ログ\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"配列\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%85%8D%E5%88%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e配列\u003c/h3\u003e\n\n\u003cp\u003e配列とは同一種類の複数データを並び順で格納するデータ構造。\u003cbr\u003e\n配列の各要素には同一種類のデータしか格納できない。\u003cbr\u003e\n配列の要素は0から始まる。\u003cbr\u003e\n配列も変数と同様にデータ型を指定する。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"java\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"err\"\u003e配列変数の作成（宣言）\u003c/span\u003e\n\u003cspan class=\"err\"\u003e要素の型\u003c/span\u003e\u003cspan class=\"o\"\u003e[]\u003c/span\u003e \u003cspan class=\"err\"\u003e配列変数名\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e//例\u003c/span\u003e\n\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"o\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003escore\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e         \u003cspan class=\"c1\"\u003e//scoreをint型の配列変数として宣言。\u003c/span\u003e\n\u003cspan class=\"n\"\u003escore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"o\"\u003e];\u003c/span\u003e  \u003cspan class=\"c1\"\u003e//配列変数scoreにnew演算子で生成したint型の要素を5つ代入している。\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e//配列変数の宣言と要素の作成と代入は同時に行うことも可能\u003c/span\u003e\n\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"o\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003escore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"o\"\u003e];\u003c/span\u003e  \n\n\u003cspan class=\"c1\"\u003e//配列の中の要素を取り出す方法\u003c/span\u003e\n\u003cspan class=\"n\"\u003escore\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"o\"\u003e];\u003c/span\u003e \u003cspan class=\"c1\"\u003e//配列変数scoreの中の１番目の要素を取得\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e//配列内の要素を変更する\u003c/span\u003e\n\u003cspan class=\"n\"\u003escore\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e50\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e//配列変数scoreの中の1番目の要素に30という値を代入することができる\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e//配列の要素数の取得\u003c/span\u003e\n\u003cspan class=\"n\"\u003escore\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003elength\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e//配列変数にlengthというメソッドを使用すると配列内の要素の数を取得できる。\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//lengthメソッドは文字列にも使用できる。String型変数名.length()という形になる。\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e//配列の省略記法\u003c/span\u003e\n\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"o\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003escore1\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"o\"\u003e[]\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e30\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e50\u003c/span\u003e\u003cspan class=\"o\"\u003e};\u003c/span\u003e\n\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"o\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003escore2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e30\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e50\u003c/span\u003e\u003cspan class=\"o\"\u003e};\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"配列をforループで回す\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%85%8D%E5%88%97%E3%82%92for%E3%83%AB%E3%83%BC%E3%83%97%E3%81%A7%E5%9B%9E%E3%81%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e配列をforループで回す\u003c/h4\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"java\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"c1\"\u003e//従来のfor文\u003c/span\u003e\n\u003cspan class=\"k\"\u003efor\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"err\"\u003e配列変数名\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003elength\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"o\"\u003e++)\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e処理\u003c/span\u003e\u003cspan class=\"o\"\u003e..\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//従来のfor文 例\u003c/span\u003e\n\u003cspan class=\"kd\"\u003epublic\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMain\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003epublic\u003c/span\u003e \u003cspan class=\"kd\"\u003estatic\u003c/span\u003e \u003cspan class=\"kt\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003emain\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eString\u003c/span\u003e\u003cspan class=\"o\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"o\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003escore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e30\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e50\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e60\u003c/span\u003e\u003cspan class=\"o\"\u003e};\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003escore\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003elength\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"o\"\u003e++)\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eout\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eprintln\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003escore\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"o\"\u003e]);\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e//拡張for文\u003c/span\u003e\n\u003cspan class=\"k\"\u003efor\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"err\"\u003e要素の型\u003c/span\u003e \u003cspan class=\"err\"\u003e任意の変数名\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"err\"\u003e配列変数名\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e処理\u003c/span\u003e\u003cspan class=\"o\"\u003e..\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//拡張for文 例\u003c/span\u003e\n\u003cspan class=\"kd\"\u003epublic\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMain\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003epublic\u003c/span\u003e \u003cspan class=\"kd\"\u003estatic\u003c/span\u003e \u003cspan class=\"kt\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003emain\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eString\u003c/span\u003e\u003cspan class=\"o\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"o\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003escore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e30\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e50\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e60\u003c/span\u003e\u003cspan class=\"o\"\u003e};\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003evalue\u003c/span\u003e \u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003escore\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eout\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eprintln\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003evalue\u003c/span\u003e\u003cspan class=\"o\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"メモリ変数と配列\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%A1%E3%83%A2%E3%83%AA%E5%A4%89%E6%95%B0%E3%81%A8%E9%85%8D%E5%88%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eメモリ変数と配列\u003c/h4\u003e\n\n\u003cp\u003eコンピュータは使用するデータをメモリに記録する。\u003cbr\u003e\nメモリの中は碁盤の目のように区画整理されており、各区画には住所(アドレス)が振られている。\u003cbr\u003e\nそして変数を宣言すると、空いている区画(どこが選ばれるかはわからない)を変数のために確保する(変数の型によって何区画を使用するか異なる)。\u003cbr\u003e\n変数に値を代入するとは、確保していた区画に値を記録することである。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"java\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kd\"\u003epublic\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMain\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003epublic\u003c/span\u003e \u003cspan class=\"kd\"\u003estatic\u003c/span\u003e \u003cspan class=\"kt\"\u003evoid\u003c/span\u003e \u003cspan class=\"n\"\u003emain\u003c/span\u003e\u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eString\u003c/span\u003e\u003cspan class=\"o\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"o\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"o\"\u003e};\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"o\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eout\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eprintln\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"o\"\u003e]);\u003c/span\u003e \u003cspan class=\"c1\"\u003e//100と出力される\u003c/span\u003e\n  \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"ガベージコレクション\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AC%E3%83%99%E3%83%BC%E3%82%B8%E3%82%B3%E3%83%AC%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eガベージコレクション\u003c/h4\u003e\n\n\u003cp\u003ejavaの仕組みの一つ。\u003cbr\u003e\n実行中のプログラムが生み出したメモリ上のゴミ(＝どの変数からも参照されなくなったメモリ領域)を自動的に探し出して片付けてくれる。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"null\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#null\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNULL\u003c/h4\u003e\n\n\u003cp\u003e「何もない」という意味。\u003cbr\u003e\nnullが代入されると、参照型の変数はどこも参照していない状態になる。\u003cbr\u003e\n・int[]型などの参照型変数に代入すると、その変数は何も参照しなくなる。\u003cbr\u003e\n・int型などの基本型変数には代入することができない。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"java\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"o\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003escore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003cspan class=\"n\"\u003escore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003enull\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003cspan class=\"n\"\u003escore\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"o\"\u003e];\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"2次元配列\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2%E6%AC%A1%E5%85%83%E9%85%8D%E5%88%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2次元配列\u003c/h4\u003e\n\n\u003cp\u003e2次元配列とは要素が縦横に並んでいるイメージ。\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: left\"\u003e[0][0]\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e[0][1]\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e[0][2]\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e[0][3]\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003e[1][0]\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e[1][1]\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e[1][2]\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e[1][3]\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003e[2][0]\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e[2][1]\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e[2][2]\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e[2][3]\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"java\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"c1\"\u003e//２次元配列の宣言\u003c/span\u003e\n\u003cspan class=\"err\"\u003e要素の型\u003c/span\u003e\u003cspan class=\"o\"\u003e[][]\u003c/span\u003e \u003cspan class=\"err\"\u003e配列変数名\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"err\"\u003e要素の型\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"err\"\u003e行数\u003c/span\u003e\u003cspan class=\"o\"\u003e][\u003c/span\u003e\u003cspan class=\"err\"\u003e列数\u003c/span\u003e\u003cspan class=\"o\"\u003e]\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e//２次元配列の要素の取得\u003c/span\u003e\n\u003cspan class=\"err\"\u003e配列変数名\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"err\"\u003e行の添字\u003c/span\u003e\u003cspan class=\"o\"\u003e][\u003c/span\u003e\u003cspan class=\"err\"\u003e列の添字\u003c/span\u003e\u003cspan class=\"o\"\u003e]\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//例\u003c/span\u003e\n\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"o\"\u003e[][]\u003c/span\u003e \u003cspan class=\"n\"\u003escores\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"o\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"o\"\u003e];\u003c/span\u003e \u003cspan class=\"c1\"\u003e//2行3列の配列\u003c/span\u003e\n\u003cspan class=\"n\"\u003escores\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"o\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003cspan class=\"n\"\u003escores\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"o\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e50\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003cspan class=\"n\"\u003escores\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"o\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e60\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003cspan class=\"n\"\u003escores\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e70\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003cspan class=\"n\"\u003escores\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e80\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003cspan class=\"n\"\u003escores\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e90\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eout\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eprintln\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003escores\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e]);\u003c/span\u003e \u003cspan class=\"c1\"\u003e//８0\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n","body":"##学習ログ\n\n###配列\n配列とは同一種類の複数データを並び順で格納するデータ構造。\n配列の各要素には同一種類のデータしか格納できない。\n配列の要素は0から始まる。\n配列も変数と同様にデータ型を指定する。\n\n```java:\n配列変数の作成（宣言）\n要素の型[] 配列変数名\n\n//例\nint[] score;         //scoreをint型の配列変数として宣言。\nscore = new int[5];  //配列変数scoreにnew演算子で生成したint型の要素を5つ代入している。\n\n//配列変数の宣言と要素の作成と代入は同時に行うことも可能\nint[] score = new int[5];  \n\n//配列の中の要素を取り出す方法\nscore[0]; //配列変数scoreの中の１番目の要素を取得\n\n//配列内の要素を変更する\nscore[0] = 50; //配列変数scoreの中の1番目の要素に30という値を代入することができる\n\n//配列の要素数の取得\nscore.length; //配列変数にlengthというメソッドを使用すると配列内の要素の数を取得できる。\n//lengthメソッドは文字列にも使用できる。String型変数名.length()という形になる。\n\n//配列の省略記法\nint[] score1 = new int[] {10, 20, 30, 40, 50};\nint[] score2 = {10, 20, 30, 40, 50};\n```\n\n####配列をforループで回す\n\n```java:\n//従来のfor文\nfor(int i = 0; i \u003c 配列変数名.length; i++) {\n  処理..\n}\n//従来のfor文 例\npublic class Main {\n  public static void main(String[] args) {\n    int[] score = {20, 30, 40, 50, 60};\n    for(int i = 0; i \u003c score.length; i++) {\n      System.out.println(score[i]);\n    }\n  }\n}\n\n//拡張for文\nfor(要素の型 任意の変数名:配列変数名) {\n  処理..\n}\n//拡張for文 例\npublic class Main {\n  public static void main(String[] args) {\n    int[] score = {20, 30, 40, 50, 60};\n    for(int value : score) {\n      System.out.println(value);\n    }\n  }\n}\n```\n####メモリ変数と配列\nコンピュータは使用するデータをメモリに記録する。\nメモリの中は碁盤の目のように区画整理されており、各区画には住所(アドレス)が振られている。\nそして変数を宣言すると、空いている区画(どこが選ばれるかはわからない)を変数のために確保する(変数の型によって何区画を使用するか異なる)。\n変数に値を代入するとは、確保していた区画に値を記録することである。\n\n```java:\npublic class Main {\n  public static void main{String[] args) {\n    int[] a = {1, 2, 3};\n    int[] b = b;\n    b = a;\n    b[0] = 100;\n    System.out.println(a[0]); //100と出力される\n  }\n}\n```\n####ガベージコレクション\njavaの仕組みの一つ。\n実行中のプログラムが生み出したメモリ上のゴミ(＝どの変数からも参照されなくなったメモリ領域)を自動的に探し出して片付けてくれる。\n\n####NULL\n「何もない」という意味。\nnullが代入されると、参照型の変数はどこも参照していない状態になる。\n・int[]型などの参照型変数に代入すると、その変数は何も参照しなくなる。\n・int型などの基本型変数には代入することができない。\n\n```java:\nint[] score = {1,2,3}\nscore = null;\nscore[0];\n```\n####2次元配列\n2次元配列とは要素が縦横に並んでいるイメージ。\n\n|[0][0]|[0][1]|[0][2]|[0][3]|\n|:---|:---|:---|:---|\n|[1][0]|[1][1]|[1][2]|[1][3]|\n|[2][0]|[2][1]|[2][2]|[2][3]|\n\n```java:\n//２次元配列の宣言\n要素の型[][] 配列変数名 = new 要素の型[行数][列数]\n\n//２次元配列の要素の取得\n配列変数名[行の添字][列の添字]\n//例\nint[][] scores = new int[2][3]; //2行3列の配列\nscores[0][0] = 40;\nscores[0][1] = 50;\nscores[0][2] = 60;\nscores[1][0] = 70;\nscores[1][1] = 80;\nscores[1][2] = 90;\nSystem.out.println(scores[1][1]); //８0\n```\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T19:48:30+09:00","group":null,"id":"12825077be332e45c871","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"Java","versions":[]}],"title":"Java 配列","updated_at":"2019-07-09T19:49:08+09:00","url":"https://qiita.com/ryooosuke1111/items/12825077be332e45c871","user":{"description":"こんにちは。文系未経験から駆け出しエンジニアになりました。\r\n1年半ほどSESの会社で主にPHPを使用して開発をさせていただいておりました。\r\n次の会社では、javaを使うのでそれや他の勉強の学習ログを残していこうと思ってはじめました。\r\nまだまだ未熟なので間違い等あると思いますが、よろしくお願いします。","facebook_id":"","followees_count":0,"followers_count":0,"github_login_name":null,"id":"ryooosuke1111","items_count":3,"linkedin_id":"","location":"Japan","name":"川崎 亮輔","organization":"","permanent_id":456356,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/456356/profile-images/1562574029","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\u003cp\u003eWilliams vs Riske live\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"go-live--httptinyccb1cg9y\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#go-live--httptinyccb1cg9y\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGO LIVE \u0026gt;\u0026gt; \u003ca href=\"http://tiny.cc/b1cg9y\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://tiny.cc/b1cg9y\u003c/a\u003e\n\u003c/h1\u003e\n","body":"Williams vs Riske live\n\n#GO LIVE \u003e\u003e http://tiny.cc/b1cg9y\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T19:46:52+09:00","group":null,"id":"98854e8c261c837623aa","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"streaming","versions":[]},{"name":"vs","versions":[]},{"name":"live","versions":[]},{"name":"Williams","versions":[]},{"name":"Riske","versions":[]}],"title":"Live/free..!...williams vs riske live!streaM","updated_at":"2019-07-09T19:46:52+09:00","url":"https://qiita.com/buyuf/items/98854e8c261c837623aa","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"buyuf","items_count":3,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":457798,"profile_image_url":"https://secure.gravatar.com/avatar/d479c344bb3fc0f95ab21e84feca717e","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"概要\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A6%82%E8%A6%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e概要\u003c/h1\u003e\n\n\u003cp\u003eSQLのみで既存のテーブルと(\u003cb\u003eほぼほぼ\u003c/b\u003e)同構造・同データのテーブルを新しく作成する手順になります。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境\u003c/h1\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003epsql --version\npsql (PostgreSQL) 9.5.14\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"ちょっとハマった件\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%A1%E3%82%87%E3%81%A3%E3%81%A8%E3%83%8F%E3%83%9E%E3%81%A3%E3%81%9F%E4%BB%B6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eちょっとハマった件\u003c/h1\u003e\n\n\u003cp\u003eCREATE TABLE ~ AS では完全なテーブル複製はおこなわれません。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eCREATE TABLE #{new_table_name} AS SELECT * FROM #{origin_table_name}\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e上記SQLはフィールドの型やデータを複製したテーブルを簡単に作成できるのですが、型制約やプライマリキー・インデックスなどの定義までは複製することができません。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"手順\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%89%8B%E9%A0%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e手順\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"1-create-table--likeを使ってテーブル構造をコピー\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-create-table--like%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB%E6%A7%8B%E9%80%A0%E3%82%92%E3%82%B3%E3%83%94%E3%83%BC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. CREATE TABLE + LIKEを使ってテーブル構造をコピー\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eCREATE TABLE #{new_table_name} (LIKE #{origin_table_name} INCLUDING ALL)\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e上記SQLを実行するとコピー元テーブルで定義されていたプライマリキーやインデックスキーも新しいテーブルに複製されます。\u003c/p\u003e\n\n\u003cp\u003e複製するにあたって論理名は新しいテーブルの名称を元に\u003c/p\u003e\n\n\u003cp\u003eプライマリキーは[new_table_name]_pkey\u003cbr\u003e\nインデックスキーは[new_table_name]_[column_name]_idx\u003c/p\u003e\n\n\u003cp\u003eといった具合に自動的に命名されていました。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"2-insertを使ってデータをコピー\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-insert%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%82%B3%E3%83%94%E3%83%BC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. INSERTを使ってデータをコピー\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eINSERT INTO #{new_table_name} SELECT * FROM #{origin_table_name}\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"3-シーケンスオブジェクトを作成する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-%E3%82%B7%E3%83%BC%E3%82%B1%E3%83%B3%E3%82%B9%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. シーケンスオブジェクトを作成する\u003c/h2\u003e\n\n\u003cp\u003e「CREATE TABLE + LIKE」では、シーケンス番号に関する設定はコピー元のテーブル設定がそのまま反映されるため、それぞれのテーブルでデータを登録していくと一方のテーブルに反映される値が飛び番になってしまいます。\u003cbr\u003e\nよって、必要に応じて新しいテーブル用にシーケンス番号を新規作成し関連付けする必要があります。\u003c/p\u003e\n\n\u003cp\u003eまずはシーケンスオブジェクトを作成しましょう。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eCREATE SEQUENCE #{new_table_name}_#{colmn_name}_seq start SELECT COUNT(*) FROM #{new_table_name};\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"4-シーケンス番号を関連付けるカラムのデフォルト値を更新する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#4-%E3%82%B7%E3%83%BC%E3%82%B1%E3%83%B3%E3%82%B9%E7%95%AA%E5%8F%B7%E3%82%92%E9%96%A2%E9%80%A3%E4%BB%98%E3%81%91%E3%82%8B%E3%82%AB%E3%83%A9%E3%83%A0%E3%81%AE%E3%83%87%E3%83%95%E3%82%A9%E3%83%AB%E3%83%88%E5%80%A4%E3%82%92%E6%9B%B4%E6%96%B0%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e4. シーケンス番号を関連付けるカラムのデフォルト値を更新する\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003ealter table #{new_table_name} alter #{colmn_name} set default nextval('#{sequence_object_name}');\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"5-テーブル制御と連動するように変更を加える\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#5-%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB%E5%88%B6%E5%BE%A1%E3%81%A8%E9%80%A3%E5%8B%95%E3%81%99%E3%82%8B%E3%82%88%E3%81%86%E3%81%AB%E5%A4%89%E6%9B%B4%E3%82%92%E5%8A%A0%E3%81%88%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e5. テーブル制御と連動するように変更を加える\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003ealter sequence #{sequence_object_name} owned by #{new_table_name}.#{colmn_name};\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eowned byを定義しておくと、設定列または対象テーブルを削除ときにそのシーケンスオブジェクトも削除されます\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"6-開始値を設定する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#6-%E9%96%8B%E5%A7%8B%E5%80%A4%E3%82%92%E8%A8%AD%E5%AE%9A%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e6. 開始値を設定する\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eselect setval('#{sequence_object_name}', [コピーしたデータ数 + 1], false);\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"7-シーケンス番号の設定を確認してみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#7-%E3%82%B7%E3%83%BC%E3%82%B1%E3%83%B3%E3%82%B9%E7%95%AA%E5%8F%B7%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e7. シーケンス番号の設定を確認してみる\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eselect * from #{sequence_object_name}\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e以上でコピー元とほぼ同構造で同データの新しいテーブルが作成されます。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考資料\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83%E8%B3%87%E6%96%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考資料\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://www.postgresql.jp/document/9.3/html/sql-createtable.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003ePostgreSQL 9.3.2文書 - CREATE TABLE\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://qiita.com/s0208_wataru/items/3f56bfea05f50d6e80f8\" id=\"reference-6a5b1fc48665ae3ad8e4\"\u003e既存のカラムをSerial型へ変更する\u003c/a\u003e\u003c/p\u003e\n","body":"# 概要\n\nSQLのみで既存のテーブルと(\u003cb\u003eほぼほぼ\u003c/b\u003e)同構造・同データのテーブルを新しく作成する手順になります。\n\n# 環境\n\n```\npsql --version\npsql (PostgreSQL) 9.5.14\n```\n\n# ちょっとハマった件\n\nCREATE TABLE ~ AS では完全なテーブル複製はおこなわれません。\n\n```\nCREATE TABLE #{new_table_name} AS SELECT * FROM #{origin_table_name}\n```\n\n上記SQLはフィールドの型やデータを複製したテーブルを簡単に作成できるのですが、型制約やプライマリキー・インデックスなどの定義までは複製することができません。\n\n# 手順\n\n## 1. CREATE TABLE + LIKEを使ってテーブル構造をコピー\n\n```\nCREATE TABLE #{new_table_name} (LIKE #{origin_table_name} INCLUDING ALL)\n```\n\n上記SQLを実行するとコピー元テーブルで定義されていたプライマリキーやインデックスキーも新しいテーブルに複製されます。\n\n複製するにあたって論理名は新しいテーブルの名称を元に\n\nプライマリキーは[new_table_name]\\_pkey\nインデックスキーは[new_table_name]\\_[column_name]_idx\n\nといった具合に自動的に命名されていました。\n\n\n## 2. INSERTを使ってデータをコピー\n\n```\nINSERT INTO #{new_table_name} SELECT * FROM #{origin_table_name}\n```\n\n## 3. シーケンスオブジェクトを作成する\n\n「CREATE TABLE + LIKE」では、シーケンス番号に関する設定はコピー元のテーブル設定がそのまま反映されるため、それぞれのテーブルでデータを登録していくと一方のテーブルに反映される値が飛び番になってしまいます。\nよって、必要に応じて新しいテーブル用にシーケンス番号を新規作成し関連付けする必要があります。\n\nまずはシーケンスオブジェクトを作成しましょう。\n\n```\nCREATE SEQUENCE #{new_table_name}_#{colmn_name}_seq start SELECT COUNT(*) FROM #{new_table_name};\n```\n\n## 4. シーケンス番号を関連付けるカラムのデフォルト値を更新する\n\n```\nalter table #{new_table_name} alter #{colmn_name} set default nextval('#{sequence_object_name}');\n```\n\n## 5. テーブル制御と連動するように変更を加える\n\n```\nalter sequence #{sequence_object_name} owned by #{new_table_name}.#{colmn_name};\n```\n\nowned byを定義しておくと、設定列または対象テーブルを削除ときにそのシーケンスオブジェクトも削除されます\n\n\n## 6. 開始値を設定する\n\n```\nselect setval('#{sequence_object_name}', [コピーしたデータ数 + 1], false);\n```\n\n## 7. シーケンス番号の設定を確認してみる\n\n```\nselect * from #{sequence_object_name}\n```\n\n以上でコピー元とほぼ同構造で同データの新しいテーブルが作成されます。\n\n# 参考資料\n\n[PostgreSQL 9.3.2文書 - CREATE TABLE](https://www.postgresql.jp/document/9.3/html/sql-createtable.html)\n[既存のカラムをSerial型へ変更する](https://qiita.com/s0208_wataru/items/3f56bfea05f50d6e80f8)\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T19:42:39+09:00","group":null,"id":"3da4e330ed146ceb2f72","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"SQL","versions":[]},{"name":"PostgreSQL9.5","versions":[]},{"name":"テーブルコピー","versions":[]}],"title":"SQLでテーブルコピー(Postgresql)","updated_at":"2019-07-09T20:34:02+09:00","url":"https://qiita.com/hidenoritoki/items/3da4e330ed146ceb2f72","user":{"description":"","facebook_id":"","followees_count":2,"followers_count":2,"github_login_name":"tokihidenori","id":"hidenoritoki","items_count":5,"linkedin_id":"","location":"","name":"時半 日照りの","organization":"","permanent_id":249974,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/249974/profile-images/1523606332","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch2\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\n\u003cp\u003eパスワード付きのPDFは開くたびにパスワードの入力を求められてストレスが溜まります。そのストレスをぶつけたらスクリプトが出来ましたので紹介します。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"pythonにおけるpdfの扱い\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#python%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8Bpdf%E3%81%AE%E6%89%B1%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ePythonにおけるPDFの扱い\u003c/h2\u003e\n\n\u003cp\u003eおそらくPythonでPDFを読み書きしようとすると、まずPyPDF2というライブラリを使う事になると思います。しかしながらパスワードロック解除については、限定された条件のPDFにしか対応していないため、C++のライブラリのqpdfなどとの合わせ技にせざるを得ません。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"pikepdf\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#pikepdf\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003epikepdf\u003c/h2\u003e\n\n\u003cp\u003eマイナーなライブラリでpikepdfというものがあり、MPL　ライセンスなのでたぶんライセンス表記しておけば怒られないんだろうと思います。このライブラリはqpdfを内蔵？しているようなので、前述のケースとは違い、ライブラリはpikepdfだけで完結します。\u003cbr\u003e\npip install pikepdf　でインストール可能です。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"完成品\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%8C%E6%88%90%E5%93%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e完成品\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"https://github.com/Kanahiro/PDFUnlocker\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://github.com/Kanahiro/PDFUnlocker\u003c/a\u003e\u003cbr\u003e\nこちらにスクリプトの完成品をアップしてあります。こきたないコードですが許してください。\u003cbr\u003e\nzipファイルの中身はWindows32bit環境で動作する（であろう）実行ファイル一式です。Pyinstallerで作成しました。ほんとは--onefileで使いたかったんですけど、ライブラリ周りでこけたので諦めました。PDFファイル名を「(パスワードの文字列).pdf」として、.exeにドラッグドロップすると、パスワードが解除されたPDFファイルが「decrypt.pdf」として出力されます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"おわりに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eおわりに\u003c/h2\u003e\n\n\u003cp\u003eライブラリは神、ライブラリを作る人は神の上か!?\u003cbr\u003e\nぼくもライブラリかけるようなおとなになりたいと思いました。\u003c/p\u003e\n","body":"##はじめに\nパスワード付きのPDFは開くたびにパスワードの入力を求められてストレスが溜まります。そのストレスをぶつけたらスクリプトが出来ましたので紹介します。\n\n##PythonにおけるPDFの扱い\nおそらくPythonでPDFを読み書きしようとすると、まずPyPDF2というライブラリを使う事になると思います。しかしながらパスワードロック解除については、限定された条件のPDFにしか対応していないため、C++のライブラリのqpdfなどとの合わせ技にせざるを得ません。\n\n##pikepdf\nマイナーなライブラリでpikepdfというものがあり、MPL　ライセンスなのでたぶんライセンス表記しておけば怒られないんだろうと思います。このライブラリはqpdfを内蔵？しているようなので、前述のケースとは違い、ライブラリはpikepdfだけで完結します。\npip install pikepdf　でインストール可能です。\n\n##完成品\nhttps://github.com/Kanahiro/PDFUnlocker\nこちらにスクリプトの完成品をアップしてあります。こきたないコードですが許してください。\nzipファイルの中身はWindows32bit環境で動作する（であろう）実行ファイル一式です。Pyinstallerで作成しました。ほんとは--onefileで使いたかったんですけど、ライブラリ周りでこけたので諦めました。PDFファイル名を「(パスワードの文字列).pdf」として、.exeにドラッグドロップすると、パスワードが解除されたPDFファイルが「decrypt.pdf」として出力されます。\n\n##おわりに\nライブラリは神、ライブラリを作る人は神の上か!?\nぼくもライブラリかけるようなおとなになりたいと思いました。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T19:40:03+09:00","group":null,"id":"f19e1b4e465c3aeacde5","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"Python","versions":[]},{"name":"PDF","versions":[]}],"title":"Pythonでパスワード付きのPDFを、パスワード無しのPDFとして別名保存するスクリプト","updated_at":"2019-07-09T19:40:03+09:00","url":"https://qiita.com/kigchi999/items/f19e1b4e465c3aeacde5","user":{"description":"個人で色々開発しています。業務経験ゼロです。","facebook_id":"","followees_count":0,"followers_count":2,"github_login_name":null,"id":"kigchi999","items_count":12,"linkedin_id":"","location":"hokkaido","name":"Iguchi Kanahiro","organization":"","permanent_id":73197,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/73197/profile-images/1557331957","team_only":false,"twitter_screen_name":"kigchi999","website_url":"https://www.labo288.site"},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003ego言語初心者のための記事です。\u003cbr\u003e\n公式チュートリアルの大事なところをまとめただけです。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"ややこしいgoにおける配列の概念\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%84%E3%82%84%E3%81%93%E3%81%97%E3%81%84go%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E9%85%8D%E5%88%97%E3%81%AE%E6%A6%82%E5%BF%B5\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eややこしいGoにおける配列の概念\u003c/h2\u003e\n\n\u003cp\u003eGoには二つの配列表現arrayとsliceがある。\u003cbr\u003e\nとてもややこしいが、公式チュートリアル曰く、\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e固定長がarray(=配列)\u003c/li\u003e\n\u003cli\u003e可変長がslice\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eという定義らしい。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"配列array\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%85%8D%E5%88%97array\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e配列(array)\u003c/h3\u003e\n\n\u003cp\u003eGoの配列(array)は必ず配列の長さを指定する。\u003cbr\u003e\n\u003ccode\u003earray[i:j]\u003c/code\u003eという書き方で\u003ccode\u003ei\u003c/code\u003eから\u003ccode\u003ej\u003c/code\u003e前までの要素を取得できる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"go\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"k\"\u003evar\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e11\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e13\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003efmt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePrintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"c\"\u003e// [2 3 5]を返す\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eまた、\u003ccode\u003eb[0:6]\u003c/code\u003eは、\u003ccode\u003eb[:6]\u003c/code\u003e、\u003ccode\u003eb[0:]\u003c/code\u003e、\u003ccode\u003eb[:]\u003c/code\u003eという書き方と等価。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"可変長な配列slice\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%AF%E5%A4%89%E9%95%B7%E3%81%AA%E9%85%8D%E5%88%97slice\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e可変長な配列(slice)\u003c/h3\u003e\n\n\u003cp\u003epython等の配列のような可変長の配列をGoではsliceと呼ぶ。\u003cbr\u003e\n混乱を避けるためここではそれぞれarray、sliceと呼ぶこととする。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"go\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"k\"\u003evar\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"c\"\u003e// 空のsliceを生成\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003efmt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePrintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"c\"\u003e// []を返す\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"n\"\u003earray\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e11\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e13\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"k\"\u003evar\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eslice\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003earray\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003efmt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePrintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"c\"\u003e// [3 5 7]を返す\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003earrayからsliceへと代入した場合、sliceはそのarrayの一部として振る舞う。\u003cbr\u003e\nつまり、sliceの変更はarrayにも反映される。\u003cbr\u003e\n日本語下手なので下記の例を見てください。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"go\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"n\"\u003earray\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e11\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e13\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"k\"\u003evar\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eslice\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003earray\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"n\"\u003eslice\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003efmt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePrintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eslice\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"c\"\u003e// [0 5 7]を返す\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003efmt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePrintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003earray\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"c\"\u003e// [2 0 5 7 11 13]を返す\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"c\"\u003e// :=演算子を使うとこのように書ける\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"多次元のslice\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%A4%9A%E6%AC%A1%E5%85%83%E3%81%AEslice\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e多次元のslice\u003c/h3\u003e\n\n\u003cp\u003e空行列\u003ccode\u003e[]\u003c/code\u003eの数でsliceの次元を表現できる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"go\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"n\"\u003eslice\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[][]\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"x\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e\"犬\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"猫\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"猿\"\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"x\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e\"りんご\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"ばなな\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"パイナップル\"\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"x\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e\"男\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"女\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"あいつ\"\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003efmt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePrintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eslice\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"c\"\u003e// パイナップルを返す\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"sliceの長さと容量\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#slice%E3%81%AE%E9%95%B7%E3%81%95%E3%81%A8%E5%AE%B9%E9%87%8F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003esliceの長さと容量\u003c/h3\u003e\n\n\u003cp\u003esliceには長さ(length)と容量(capacity)という概念がある。\u003cbr\u003e\n長さ(length)はどの言語にもよくある配列の長さのようなもの。\u003cbr\u003e\n容量(capacity)は聞いたことなかったが考え方は簡単で、\u003cbr\u003e\n\u003ccode\u003e元のarrayの長さ - arrayから取得し始めたsliceの要素のインデックス\u003c/code\u003e\u003cbr\u003e\nってだけ。\u003cbr\u003e\nこれも実行して確認するほうが理解が早い。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"go\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"n\"\u003earray\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e11\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e13\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"k\"\u003evar\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eslice\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003earray\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003efmt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePrintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eslice\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"c\"\u003e// 3を返す \u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003efmt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePrintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003ecap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eslice\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"c\"\u003e// 5を返す(6-1=5)\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"c\"\u003e// この定義の場合、元のarrayも{2, 3, 5, 7}となる\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003efmt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePrintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"c\"\u003e// 2を返す\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003efmt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePrintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003ecap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"c\"\u003e// 3を返す(4-1=2) \u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"sliceを操作する便利な関数\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#slice%E3%82%92%E6%93%8D%E4%BD%9C%E3%81%99%E3%82%8B%E4%BE%BF%E5%88%A9%E3%81%AA%E9%96%A2%E6%95%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003esliceを操作する便利な関数\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"sliceの初期化make\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#slice%E3%81%AE%E5%88%9D%E6%9C%9F%E5%8C%96make\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003esliceの初期化(make)\u003c/h3\u003e\n\n\u003cp\u003e\u003ccode\u003emake\u003c/code\u003e関数によって、全ての要素に\u003ccode\u003e0\u003c/code\u003eが代入されたsliceを生成することができる。\u003cbr\u003e\n引数は以下のとおり。\u003cbr\u003e\n\u003ccode\u003emake(型, sliceの長さ, sliceの容量)\u003c/code\u003e\u003cbr\u003e\n3番目の引数であるsliceの容量のみ省略できる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"go\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003emake\u003c/span\u003e\u003cspan class=\"p\"\u003e([]\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"x\"\u003e  \u003c/span\u003e\u003cspan class=\"c\"\u003e// len(a)=5\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003emake\u003c/span\u003e\u003cspan class=\"p\"\u003e([]\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"c\"\u003e// len(b)=0, cap(b)=5\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003efmt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePrintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"c\"\u003e// [0 0 0 0 0]を返す\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"sliceへの要素の追加append\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#slice%E3%81%B8%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%AE%E8%BF%BD%E5%8A%A0append\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003esliceへの要素の追加(append)\u003c/h3\u003e\n\n\u003cp\u003e\u003ccode\u003eappend\u003c/code\u003e関数で要素の追加を行える。\u003cbr\u003e\n引数は以下のとおり。\u003cbr\u003e\n\u003ccode\u003eappend(型, 追加する要素, 追加する要素, ...)\u003c/code\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"go\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"k\"\u003evar\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003eappend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003efmt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePrintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"c\"\u003e// [0 1 2 3]を返す\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"sliceの要素にそれぞれアクセスrange\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#slice%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%AB%E3%81%9D%E3%82%8C%E3%81%9E%E3%82%8C%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9range\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003esliceの要素にそれぞれアクセス(range)\u003c/h3\u003e\n\n\u003cp\u003e\u003ccode\u003erange slice\u003c/code\u003eという記述でsliceの要素にそれぞれアクセスできる。\u003cbr\u003e\n\u003ccode\u003erange\u003c/code\u003e関数の戻り値はインデックスと要素の値であることに注意。\u003cbr\u003e\nfor文と組み合わせた例は以下のとおり。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"go\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003emain.go\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"k\"\u003epackage\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003emain\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"fmt\"\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"k\"\u003evar\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003epow\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e8\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"m\"\u003e16\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"k\"\u003efunc\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003emain\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"x\"\u003e\n    \u003c/span\u003e\u003cspan class=\"k\"\u003efor\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ev\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"k\"\u003erange\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003epow\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"x\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003efmt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePrintf\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"2**%d = %d\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ev\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"x\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"c\"\u003e/* 実行結果\n2**0 = 1\n2**1 = 2\n2**2 = 4\n2**3 = 8\n2**4 = 16\n*/\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eインデックスや値を\u003ccode\u003e_\u003c/code\u003eに代入することで、それを使用しないことを明示する粋な表記もある。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"go\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"k\"\u003efor\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003evalue\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e:=\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"k\"\u003erange\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003epow\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"x\"\u003e\n    \u003c/span\u003e\u003cspan class=\"n\"\u003efmt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePrintf\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"%d\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"x\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"x\"\u003e\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003erange\u003c/code\u003eはslice以外にも使えるらしいのでそれは別記事で。\u003c/p\u003e\n","body":"#はじめに\ngo言語初心者のための記事です。\n公式チュートリアルの大事なところをまとめただけです。\n\n##ややこしいGoにおける配列の概念\nGoには二つの配列表現arrayとsliceがある。\nとてもややこしいが、公式チュートリアル曰く、\n\n- 固定長がarray(=配列)\n- 可変長がslice\n\nという定義らしい。\n\n###配列(array)\nGoの配列(array)は必ず配列の長さを指定する。\n`array[i:j]`という書き方で`i`から`j`前までの要素を取得できる。\n\n```go\nvar a [10]int\nb := [6]int{2, 3, 5, 7, 11, 13}\nfmt.Println(b[0:3]) // [2 3 5]を返す\n```\n\nまた、`b[0:6]`は、`b[:6]`、`b[0:]`、`b[:]`という書き方と等価。\n\n###可変長な配列(slice)\npython等の配列のような可変長の配列をGoではsliceと呼ぶ。\n混乱を避けるためここではそれぞれarray、sliceと呼ぶこととする。\n\n```go\nvar s[]int // 空のsliceを生成\nfmt.Println(s) // []を返す\n\narray := [6]int{2, 3, 5, 7, 11, 13}\nvar slice[]int = array[1:4]\nfmt.Println(s) // [3 5 7]を返す\n```\n\narrayからsliceへと代入した場合、sliceはそのarrayの一部として振る舞う。\nつまり、sliceの変更はarrayにも反映される。\n日本語下手なので下記の例を見てください。\n\n```go\narray := [6]int{2, 3, 5, 7, 11, 13}\nvar slice[]int = array[1:4]\n\nslice[0] = 0\nfmt.Println(slice) // [0 5 7]を返す\nfmt.Println(array) // [2 0 5 7 11 13]を返す\n\ns := []int{1, 2, 3} // :=演算子を使うとこのように書ける\n```\n\n###多次元のslice\n空行列`[]`の数でsliceの次元を表現できる。\n\n\n```go\nslice := [][]string{\n\t[]string{\"犬\", \"猫\", \"猿\"},\n\t[]string{\"りんご\", \"ばなな\", \"パイナップル\"},\n\t[]string{\"男\", \"女\", \"あいつ\"},\n}\nfmt.Println(slice[1][2]) // パイナップルを返す\n```\n\n###sliceの長さと容量\nsliceには長さ(length)と容量(capacity)という概念がある。\n長さ(length)はどの言語にもよくある配列の長さのようなもの。\n容量(capacity)は聞いたことなかったが考え方は簡単で、\n`元のarrayの長さ - arrayから取得し始めたsliceの要素のインデックス`\nってだけ。\nこれも実行して確認するほうが理解が早い。\n\n```go\narray := [6]int{2, 3, 5, 7, 11, 13}\nvar slice[]int = array[1:4]\nfmt.Println(len(slice)) // 3を返す \nfmt.Println(cap(slice)) // 5を返す(6-1=5)\n\ns := []int{2, 3, 5, 7} // この定義の場合、元のarrayも{2, 3, 5, 7}となる\ns = s[1:3]\nfmt.Println(len(s)) // 2を返す\nfmt.Println(cap(s)) // 3を返す(4-1=2) \n```\n\n##sliceを操作する便利な関数\n###sliceの初期化(make)\n`make`関数によって、全ての要素に`0`が代入されたsliceを生成することができる。\n引数は以下のとおり。\n`make(型, sliceの長さ, sliceの容量)`\n3番目の引数であるsliceの容量のみ省略できる。\n\n```go\na := make([]int, 5)  // len(a)=5\nb := make([]int, 0, 5) // len(b)=0, cap(b)=5\nfmt.Println(a) // [0 0 0 0 0]を返す\n```\n\n###sliceへの要素の追加(append)\n`append`関数で要素の追加を行える。\n引数は以下のとおり。\n`append(型, 追加する要素, 追加する要素, ...)`\n\n```go\nvar s []int\ns = append(s, 0, 1, 2, 3)\nfmt.Println(s) // [0 1 2 3]を返す\n```\n\n###sliceの要素にそれぞれアクセス(range)\n`range slice`という記述でsliceの要素にそれぞれアクセスできる。\n`range`関数の戻り値はインデックスと要素の値であることに注意。\nfor文と組み合わせた例は以下のとおり。\n\n```go:main.go\npackage main\n\nimport \"fmt\"\n\nvar pow = []int{1, 2, 4, 8, 16}\n\nfunc main() {\n\tfor i, v := range pow {\n\t\tfmt.Printf(\"2**%d = %d\\n\", i, v)\n\t}\n}\n/* 実行結果\n2**0 = 1\n2**1 = 2\n2**2 = 4\n2**3 = 8\n2**4 = 16\n*/\n```\n\nインデックスや値を`_`に代入することで、それを使用しないことを明示する粋な表記もある。\n\n```go\nfor _, value := range pow {\n\tfmt.Printf(\"%d\\n\", value)\n}\n```\n\n`range`はslice以外にも使えるらしいのでそれは別記事で。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T19:39:57+09:00","group":null,"id":"613dd4b4cdacb24a3cb6","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Go","versions":[]}],"title":"Go初心者のためのメモ(ややこしい配列編)","updated_at":"2019-07-09T19:40:19+09:00","url":"https://qiita.com/keinko/items/613dd4b4cdacb24a3cb6","user":{"description":"プログラミング等の経験は浅いです。わかりやすく説明できればと思います。","facebook_id":"","followees_count":1,"followers_count":1,"github_login_name":null,"id":"keinko","items_count":10,"linkedin_id":"","location":"東京","name":"鈴木 啓","organization":"なし","permanent_id":208979,"profile_image_url":"https://secure.gravatar.com/avatar/621143d1202cafcc4098f13e7b0c7f5e","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\n\u003ch2\u003e\n\u003cspan id=\"まえがき\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%88%E3%81%8C%E3%81%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまえがき\u003c/h2\u003e\n\n\u003cp\u003e「複数行の枠に対して、長過ぎる文字列の末尾を省略して三点リーダー（…）を表示したい」と思って調べると、おそらく以下の記事で紹介されているような \u003ccode\u003e-webkit-box\u003c/code\u003e を使った方法が出てくるかと思います。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://qiita.com/yoshida-hi/items/055c36e015f0bf8fe4f6\" id=\"reference-5578edf16d041306ee36\"\u003e【CSS】複数行でも3点リーダーをきかせる\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://tech.recruit-mp.co.jp/front-end/tips-ellipsis/\" rel=\"nofollow noopener\" target=\"_blank\"\u003e【複数行にも対応】長過ぎる文字列を省略して末尾を三点リーダー（…）にする方法いろいろ\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eところが、gulpやwebpackでSCSSをコンパイルしている環境においては少し罠があります。\u003cbr\u003e\nフロントエンドに詳しくない私は小一時間ほどハマってしまったので、同じような状況で困っている方がいたらと思いメモを残します。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"-webkit-box-orient消える問題\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#-webkit-box-orient%E6%B6%88%E3%81%88%E3%82%8B%E5%95%8F%E9%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e「-webkit-box-orient」消える問題\u003c/h2\u003e\n\n\u003cp\u003e早速私も下記のSCSSをコピペしてきてビルドしてみたのですがどうもうまくいきません。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"scss\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e  \u003cspan class=\"nl\"\u003edisplay\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ewebkit-box\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"na\"\u003e-webkit-box-orient\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003evertical\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"na\"\u003e-webkit-line-clamp\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eDeveloper Toolで確認してみたところ、 \u003ccode\u003e-webkit-box-orient: vertical;\u003c/code\u003e が消えているようです。\u003cbr\u003e\nなぜかというと、プロジェクトに導入していた\u003ca href=\"https://github.com/postcss/autoprefixer\" rel=\"nofollow noopener\" target=\"_blank\"\u003eAutoprefixer\u003c/a\u003eによって削除されてしまっていたのです。\u003c/p\u003e\n\n\u003cp\u003eAutoprexierとは、対応したいブラウザとバージョンを指定すると、それぞれの仕様に合わせたベンダープレフィックス(-webkit-、-ms-、-moz-など)を自動的に追加してくれる便利なツールです。\u003cbr\u003e\n詳細は\u003ca href=\"https://qiita.com/tonkotsuboy_com/items/377913c51b1ac00deffe\" id=\"reference-6af746b0e43b613615bb\"\u003eこちらの記事\u003c/a\u003eを読んでいただくと良いかと思います。（というか私もこれを読んで初めて知りました...笑）\u003c/p\u003e\n\n\u003cp\u003eそこで、次の3つの対応方法を紹介いたします。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"対応方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AF%BE%E5%BF%9C%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e対応方法\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"-一時的にautoprefixerを無効にする方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#-%E4%B8%80%E6%99%82%E7%9A%84%E3%81%ABautoprefixer%E3%82%92%E7%84%A1%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e① 一時的にAutoprefixerを無効にする方法\u003c/h3\u003e\n\n\u003cp\u003eこれが一番簡単で手っ取り早い方法です。\u003cbr\u003e\nSCSS中に \u003ccode\u003e/* autoprefixer: ignore next */\u003c/code\u003e と書くことで次の1行だけAutoprefixerを無効化します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"scss\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e  \u003cspan class=\"nl\"\u003edisplay\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ewebkit-box\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"cm\"\u003e/* autoprefixer: ignore next */\u003c/span\u003e\n  \u003cspan class=\"na\"\u003e-webkit-box-orient\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003evertical\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"na\"\u003e-webkit-line-clamp\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003e/* autoprefixer: off */\u003c/code\u003e と \u003ccode\u003e/* autoprefixer: on */\u003c/code\u003e で囲むことでも同様の結果となりますが、\u003ca href=\"https://github.com/postcss/autoprefixer/issues/776#issuecomment-443105754\" rel=\"nofollow noopener\" target=\"_blank\"\u003e開発者の方が \u003ccode\u003eignore next\u003c/code\u003e を使用することを勧めています\u003c/a\u003e。\u003c/p\u003e\n\n\u003cp\u003eまた、SCSSコンパイル時のoutputStyleを \u003ccode\u003ecompressed\u003c/code\u003e にしていると、このコメント自体が削除されてしまうので、 \u003ccode\u003e/*! autoprefixer: ignore next */\u003c/code\u003e としてあげましょう。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://sass-lang.com/documentation/syntax/comments\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSass Document (Comment)\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"-gulpやwebpack側の設定を変える方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#-gulp%E3%82%84webpack%E5%81%B4%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%82%92%E5%A4%89%E3%81%88%E3%82%8B%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e② gulpやwebpack側の設定を変える方法\u003c/h3\u003e\n\n\u003cp\u003e複数の箇所でこの対応をする必要があった場合には、この方法もありかもしれません。\u003cbr\u003e\nただ残念ながら私はどちらにも詳しくないため、解説は他の方にお譲りしたいと思います。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://qiita.com/oratake/items/07c3bdd9761736623c22\" id=\"reference-d884a5d70df52302f878\"\u003egulp-sassのコンパイルがうまくいかないと思ったらautoprefixerが消してた話\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"-autoprefixerのバージョンを上げる方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#-autoprefixer%E3%81%AE%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E3%82%92%E4%B8%8A%E3%81%92%E3%82%8B%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e③ Autoprefixerのバージョンを上げる方法\u003c/h3\u003e\n\n\u003cp\u003eなんと、私がこの問題について調べていたちょうど3日前に、\u003ca href=\"https://github.com/postcss/autoprefixer/releases/tag/9.6.1\" rel=\"nofollow noopener\" target=\"_blank\"\u003eAutoprefixer側がこの問題に対応しました\u003c/a\u003e！\u003cbr\u003e\nコミットログは\u003ca href=\"https://github.com/postcss/autoprefixer/commit/69ed8a0d35cd3d8445c1a713f63ccfc32db29bb9\" rel=\"nofollow noopener\" target=\"_blank\"\u003eこちら\u003c/a\u003eです。\u003cbr\u003e\nなので、プロジェクトとしてバージョンを上げることができそうであれば、 \u003ccode\u003e9.6.1\u003c/code\u003e 以降にアップデートするのが一番良いでしょうか。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"あとがき\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%82%E3%81%A8%E3%81%8C%E3%81%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eあとがき\u003c/h2\u003e\n\n\u003cp\u003eフロントエンド難しい。。。\u003cbr\u003e\n（皆さんブラウザ対応とかレスポンシブとかライフサイクルとかSEOとかトレンドだとか本当に全部気にしてるの...？\u003cdel\u003ePRにスクショ貼っただけで満足してるのは私だけ...？\u003c/del\u003e）\u003c/p\u003e\n","body":"## まえがき\n\n「複数行の枠に対して、長過ぎる文字列の末尾を省略して三点リーダー（…）を表示したい」と思って調べると、おそらく以下の記事で紹介されているような `-webkit-box` を使った方法が出てくるかと思います。\n\n- [【CSS】複数行でも3点リーダーをきかせる](https://qiita.com/yoshida-hi/items/055c36e015f0bf8fe4f6)\n- [【複数行にも対応】長過ぎる文字列を省略して末尾を三点リーダー（…）にする方法いろいろ](https://tech.recruit-mp.co.jp/front-end/tips-ellipsis/)\n\n\nところが、gulpやwebpackでSCSSをコンパイルしている環境においては少し罠があります。\nフロントエンドに詳しくない私は小一時間ほどハマってしまったので、同じような状況で困っている方がいたらと思いメモを残します。\n\n## 「-webkit-box-orient」消える問題\n\n早速私も下記のSCSSをコピペしてきてビルドしてみたのですがどうもうまくいきません。\n\n```scss\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 3;\n```\n\nDeveloper Toolで確認してみたところ、 `-webkit-box-orient: vertical;` が消えているようです。\nなぜかというと、プロジェクトに導入していた[Autoprefixer](https://github.com/postcss/autoprefixer)によって削除されてしまっていたのです。\n\nAutoprexierとは、対応したいブラウザとバージョンを指定すると、それぞれの仕様に合わせたベンダープレフィックス(-webkit-、-ms-、-moz-など)を自動的に追加してくれる便利なツールです。\n詳細は[こちらの記事](https://qiita.com/tonkotsuboy_com/items/377913c51b1ac00deffe)を読んでいただくと良いかと思います。（というか私もこれを読んで初めて知りました...笑）\n\nそこで、次の3つの対応方法を紹介いたします。\n\n## 対応方法\n\n### ① 一時的にAutoprefixerを無効にする方法\n\nこれが一番簡単で手っ取り早い方法です。\nSCSS中に `/* autoprefixer: ignore next */` と書くことで次の1行だけAutoprefixerを無効化します。\n\n```scss\n  display: -webkit-box;\n  /* autoprefixer: ignore next */\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 3;\n```\n\n`/* autoprefixer: off */` と `/* autoprefixer: on */` で囲むことでも同様の結果となりますが、[開発者の方が `ignore next` を使用することを勧めています](https://github.com/postcss/autoprefixer/issues/776#issuecomment-443105754)。\n\nまた、SCSSコンパイル時のoutputStyleを `compressed` にしていると、このコメント自体が削除されてしまうので、 `/*! autoprefixer: ignore next */` としてあげましょう。\n\n- [Sass Document (Comment)](https://sass-lang.com/documentation/syntax/comments)\n\n### ② gulpやwebpack側の設定を変える方法\n\n複数の箇所でこの対応をする必要があった場合には、この方法もありかもしれません。\nただ残念ながら私はどちらにも詳しくないため、解説は他の方にお譲りしたいと思います。\n\n- [gulp-sassのコンパイルがうまくいかないと思ったらautoprefixerが消してた話](https://qiita.com/oratake/items/07c3bdd9761736623c22)\n\n### ③ Autoprefixerのバージョンを上げる方法\n\nなんと、私がこの問題について調べていたちょうど3日前に、[Autoprefixer側がこの問題に対応しました](https://github.com/postcss/autoprefixer/releases/tag/9.6.1)！\nコミットログは[こちら](https://github.com/postcss/autoprefixer/commit/69ed8a0d35cd3d8445c1a713f63ccfc32db29bb9)です。\nなので、プロジェクトとしてバージョンを上げることができそうであれば、 `9.6.1` 以降にアップデートするのが一番良いでしょうか。\n\n## あとがき\n\nフロントエンド難しい。。。\n（皆さんブラウザ対応とかレスポンシブとかライフサイクルとかSEOとかトレンドだとか本当に全部気にしてるの...？~~PRにスクショ貼っただけで満足してるのは私だけ...？~~）\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T19:38:00+09:00","group":null,"id":"40b6c915639be5fa943f","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"CSS","versions":[]},{"name":"gulp","versions":[]},{"name":"webpack","versions":[]},{"name":"Autoprefixer","versions":[]}],"title":"Autoprefixer導入時に「-webkit-box-orient」が消える問題への対応","updated_at":"2019-07-09T19:39:42+09:00","url":"https://qiita.com/watanabejunya/items/40b6c915639be5fa943f","user":{"description":null,"facebook_id":null,"followees_count":8,"followers_count":4,"github_login_name":null,"id":"watanabejunya","items_count":3,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":118446,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/118446/profile-images/1511952173","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\n\u003ch2\u003e\n\u003cspan id=\"概要\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A6%82%E8%A6%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e概要\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"なにこれ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eなにこれ\u003c/h3\u003e\n\n\u003cp\u003ePlantUMLが気になっていたので、状態遷移図を書いてみた備忘録です。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"注意\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%B3%A8%E6%84%8F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e注意\u003c/h3\u003e\n\n\u003cp\u003e以下のことはまとめません\u003cbr\u003e\n- PlantUMLについての詳しい概要\u003cbr\u003e\n- 状態遷移図についての説明\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"書きたい図のユースケース\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9B%B8%E3%81%8D%E3%81%9F%E3%81%84%E5%9B%B3%E3%81%AE%E3%83%A6%E3%83%BC%E3%82%B9%E3%82%B1%E3%83%BC%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e書きたい図のユースケース\u003c/h2\u003e\n\n\u003cp\u003e個人的に製作中のマッチングアプリがあったので、他の1人のユーザーに対しての申請・ブロックの状態を状態遷移図にしようと思います。\u003cbr\u003e\n1. 申請\u003cbr\u003e\n    - ユーザーは他のユーザーに申請を送ることができる\u003cbr\u003e\n    - ユーザーが届いた申請を受諾するとマッチングが成立する\u003cbr\u003e\n    - ユーザーは届いた申請を拒否することができる\u003cbr\u003e\n    - 申請が拒否されると未申請の状態に戻る\u003cbr\u003e\n2. ブロック\u003cbr\u003e\n    - ユーザーは他のユーザーをブロックすることが出来る\u003cbr\u003e\n    - ユーザーをブロックするとそのユーザーに申請を送る事ができなくなる\u003cbr\u003e\n    - ユーザーにブロックされるとそのユーザーに申請を送る事が出来なくなる\u003cbr\u003e\n    - ブロックしたユーザーから既に届いていた、送っていた申請は取り消される\u003cbr\u003e\n    - ブロックされたユーザーから既に届いていた、送っていた申請は取り消される\u003cbr\u003e\n    - ユーザーがブロックを解除すると、前の状態に関わらず未申請の状態になる\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"状態遷移図の主な記法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%8A%B6%E6%85%8B%E9%81%B7%E7%A7%BB%E5%9B%B3%E3%81%AE%E4%B8%BB%E3%81%AA%E8%A8%98%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e状態遷移図の主な記法\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"終点始点\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%82%E7%82%B9%E5%A7%8B%E7%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e終点、始点\u003c/h3\u003e\n\n\u003cp\u003e\u003ccode\u003e[*]\u003c/code\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"矢印\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%9F%A2%E5%8D%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e矢印\u003c/h3\u003e\n\n\u003cp\u003e\u003ccode\u003e--\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"合成状態\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%90%88%E6%88%90%E7%8A%B6%E6%85%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e合成状態\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"puml\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003estate 状態名 {\n    \u0026lt;!-- ここに内部の構造を書く --\u0026gt;\n}\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"やる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%84%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eやる\u003c/h2\u003e\n\n\u003cp\u003eとりあえず、申請のところだけ書いてみます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"PlantUML\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e@startuml\n[*] --\u0026gt; 非ブロック\nstate 非ブロック {\n    [*] --\u0026gt; 未申請\n    未申請 --\u0026gt; 申請中\n    未申請 --\u0026gt; 被申請\n    申請中 --\u0026gt; マッチング\n    被申請 --\u0026gt; マッチング\n}\n@enduml\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/12c94bb8229736a2726ca2acafa5af98041b7b04/68747470733a2f2f692e696d6775722e636f6d2f6d6f64634f4c4b2e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/12c94bb8229736a2726ca2acafa5af98041b7b04/68747470733a2f2f692e696d6775722e636f6d2f6d6f64634f4c4b2e706e67\" alt=\"\" data-canonical-src=\"https://i.imgur.com/modcOLK.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e流れが上から下だと何だか見にくい(所感)ので、\u003cbr\u003e\nと図の流れる方向を左から右へにする\u003ccode\u003eleft to right direction\u003c/code\u003eを追加してみます。\u003cbr\u003e\nそれと、とりあえずは非ブロックの内部stateに詳細はいらないので\u003ccode\u003ehide empty description\u003c/code\u003eでstate内の区切りを無くします。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"puml\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e@startuml\nhide empty description\nleft to right direction\n[*] --\u0026gt; 非ブロック\nstate 非ブロック {\n    [*] --\u0026gt; 未申請\n    未申請 --\u0026gt; 申請中\n    未申請 --\u0026gt; 被申請\n    申請中 --\u0026gt; 未申請\n    被申請 --\u0026gt; 未申請\n    申請中 --\u0026gt; マッチング\n    被申請 --\u0026gt; マッチング\n}\n@enduml\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/5da2a389a0e1b5f3ba64bb41c4cc121164ad524a/68747470733a2f2f692e696d6775722e636f6d2f79706c79456a4c2e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/5da2a389a0e1b5f3ba64bb41c4cc121164ad524a/68747470733a2f2f692e696d6775722e636f6d2f79706c79456a4c2e706e67\" alt=\"\" data-canonical-src=\"https://i.imgur.com/yplyEjL.png\"\u003e\u003c/a\u003e\u003cbr\u003e\nすっきり(所感)\u003c/p\u003e\n\n\u003cp\u003eブロックの方も書いてみます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"puml\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e@startuml\nhide empty description\nleft to right direction\n[*] --\u0026gt; 非ブロック\nstate 非ブロック {\n    [*] --\u0026gt; 未申請\n    未申請 --\u0026gt; 申請中\n    未申請 --\u0026gt; 被申請\n    申請中 --\u0026gt; 未申請\n    被申請 --\u0026gt; 未申請\n    申請中 --\u0026gt; マッチング\n    被申請 --\u0026gt; マッチング\n}\n非ブロック --\u0026gt; ブロック状態\nstate ブロック状態 {\n    ブロック --\u0026gt; 相互ブロック\n    被ブロック --\u0026gt; 相互ブロック\n}\nブロック状態 --\u0026gt; 未申請\n@enduml\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/497a9e4e14a7ee7d21082e7997c10baba1fd1344/68747470733a2f2f692e696d6775722e636f6d2f323874556b4a6e2e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/497a9e4e14a7ee7d21082e7997c10baba1fd1344/68747470733a2f2f692e696d6775722e636f6d2f323874556b4a6e2e706e67\" alt=\"\" data-canonical-src=\"https://i.imgur.com/28tUkJn.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e矢印に条件、効果の説明を入れてみます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"puml\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e@startuml\nhide empty description\nleft to right direction\n[*] --\u0026gt; 非ブロック\nstate 非ブロック {\n    [*] --\u0026gt; 未申請\n    未申請 --\u0026gt; 申請中 : 申請を送る\n    未申請 --\u0026gt; 被申請\n    申請中 --\u0026gt; 未申請\n    被申請 --\u0026gt; 未申請\n    申請中 --\u0026gt; マッチング\n    被申請 --\u0026gt; マッチング\n}\n非ブロック --\u0026gt; ブロック状態\nstate ブロック状態 {\n    ブロック --\u0026gt; 相互ブロック\n    被ブロック --\u0026gt; 相互ブロック\n}\nブロック状態 --\u0026gt; 未申請\n@enduml\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/44279b1a649b9467d2c6399ab7dbeb764b9390b1/68747470733a2f2f692e696d6775722e636f6d2f4f437048324e4c2e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/44279b1a649b9467d2c6399ab7dbeb764b9390b1/68747470733a2f2f692e696d6775722e636f6d2f4f437048324e4c2e706e67\" alt=\"\" data-canonical-src=\"https://i.imgur.com/OCpH2NL.png\"\u003e\u003c/a\u003e\u003cbr\u003e\n１つ入れてみると、なんだか窮屈そうです。\u003c/p\u003e\n\n\u003cp\u003e矢印の方向は記述を以下に置き換えることで操作出来るのでこれに一部を置き換えつつ矢印に文章を付け足します。\u003cbr\u003e\n- \u003ccode\u003e-down-\u0026gt;\u003c/code\u003e ※デフォルト\u003cbr\u003e\n- \u003ccode\u003e-right-\u0026gt;\u003c/code\u003e or \u003ccode\u003e-\u0026gt;\u003c/code\u003e\u003cbr\u003e\n- \u003ccode\u003e-left-\u0026gt;\u003c/code\u003e\u003cbr\u003e\n- \u003ccode\u003e-up-\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\n\u003cp\u003e※ downがデフォルトですが\u003ccode\u003eleft to right direction\u003c/code\u003eを設定しているのでこの場合はrightがデフォルトになっている？ そういうわけでもない？ なさそうだな\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"puml\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e@startuml\nhide empty description\nleft to right direction\n[*] --\u0026gt; 非ブロック\nstate 非ブロック {\n    [*] --\u0026gt; 未申請\n    未申請 --\u0026gt; 申請中 : 申請を送る\n    未申請 --\u0026gt; 被申請 : 申請が送られる\n    申請中 -left-\u0026gt; 未申請 : 拒否される\n    被申請 -left-\u0026gt; 未申請 : 拒否する\n    申請中 --\u0026gt; マッチング : 承認される\n    被申請 --\u0026gt; マッチング : 承認する\n}\n非ブロック --\u0026gt; ブロック状態 : ブロックする、される\nstate ブロック状態 {\n    ブロック --\u0026gt; 相互ブロック : ブロックされる\n    被ブロック --\u0026gt; 相互ブロック : ブロックする\n    相互ブロック -left-\u0026gt; ブロック : 解除される\n    相互ブロック -left-\u0026gt; 被ブロック : 解除する\n    ブロック -up-\u0026gt; 未申請 : [ブロック解除する]\n    被ブロック -up-\u0026gt; 未申請 : [ブロック解除される]\n} \n\n\u0026lt;!-- ブロック、被ブロックからそれぞれ未申請へとのばすように調整 --\u0026gt;\n\n@enduml\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/dbd65f4a22093c4138a984fb6e0b2185e1448e41/68747470733a2f2f692e696d6775722e636f6d2f694e61434676592e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/dbd65f4a22093c4138a984fb6e0b2185e1448e41/68747470733a2f2f692e696d6775722e636f6d2f694e61434676592e706e67\" alt=\"\" data-canonical-src=\"https://i.imgur.com/iNaCFvY.png\"\u003e\u003c/a\u003e\u003cbr\u003e\n大胆な空間の使い方。\u003cbr\u003e\nPlantUMLはさくさく書けてテキストで残せるという点がメリットなので、あまり見た目にはこだわらないことにします。(人に見せる時だけ綺麗にしたい)\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/45e854e0c2043f0aee41241aa46c0769096026f9/68747470733a2f2f692e696d6775722e636f6d2f3844684d3856692e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/45e854e0c2043f0aee41241aa46c0769096026f9/68747470733a2f2f692e696d6775722e636f6d2f3844684d3856692e706e67\" alt=\"\" data-canonical-src=\"https://i.imgur.com/8DhM8Vi.png\"\u003e\u003c/a\u003e\u003cbr\u003e\n変なトコからのびやがって。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"思った事\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%80%9D%E3%81%A3%E3%81%9F%E4%BA%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e思った事\u003c/h2\u003e\n\n\u003cp\u003eテキストだけで管理出来る点にミニマリスト的な美学を感じてかなり気に入りました。\u003cbr\u003e\n気に入りすぎて\u003ca href=\"https://chrome.google.com/webstore/detail/plantuml-viewer/legbfeljfbjgfifnkmpoajgpgejojooj?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\"\u003eChrome拡張\u003c/a\u003eいれて、Gitで管理することにしました。\u003c/p\u003e\n\n\u003cp\u003e若干思った事をそのままやれなさそうな不自由さを少し感じましたが、不自由さを感じた時点でその設計に問題があるんだろうなと思います。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"おわり\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%8A%E3%82%8F%E3%82%8A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eおわり\u003c/h2\u003e\n\n\u003cp\u003e次はさらにさくさく書けそうなのでバリバリ設計をこれでやりたいです。ﾊﾞﾘﾊﾞﾘ\u003cbr\u003e\nあと他の図もやってみたいので、やったらまとめます。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eskinparam monochrome true\u003c/code\u003eで白黒にも出来るそうです。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/84e333ac285c8099f8b9519407ce339aaa049b92/68747470733a2f2f692e696d6775722e636f6d2f6671716c534a6f2e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/84e333ac285c8099f8b9519407ce339aaa049b92/68747470733a2f2f692e696d6775722e636f6d2f6671716c534a6f2e706e67\" alt=\"\" data-canonical-src=\"https://i.imgur.com/fqqlSJo.png\"\u003e\u003c/a\u003e\u003cbr\u003e\nクール。\u003c/p\u003e\n","body":"## 概要\n### なにこれ\nPlantUMLが気になっていたので、状態遷移図を書いてみた備忘録です。\n### 注意\n以下のことはまとめません\n- PlantUMLについての詳しい概要\n- 状態遷移図についての説明\n\n\n## 書きたい図のユースケース\n個人的に製作中のマッチングアプリがあったので、他の1人のユーザーに対しての申請・ブロックの状態を状態遷移図にしようと思います。\n1. 申請\n    - ユーザーは他のユーザーに申請を送ることができる\n    - ユーザーが届いた申請を受諾するとマッチングが成立する\n    - ユーザーは届いた申請を拒否することができる\n    - 申請が拒否されると未申請の状態に戻る\n2. ブロック\n    - ユーザーは他のユーザーをブロックすることが出来る\n    - ユーザーをブロックするとそのユーザーに申請を送る事ができなくなる\n    - ユーザーにブロックされるとそのユーザーに申請を送る事が出来なくなる\n    - ブロックしたユーザーから既に届いていた、送っていた申請は取り消される\n    - ブロックされたユーザーから既に届いていた、送っていた申請は取り消される\n    - ユーザーがブロックを解除すると、前の状態に関わらず未申請の状態になる\n\n## 状態遷移図の主な記法\n### 終点、始点 \n`[*]`\n### 矢印 \n`--\u003e`\n### 合成状態\n```puml\nstate 状態名 {\n    \u003c!-- ここに内部の構造を書く --\u003e\n}\n```\n## やる\nとりあえず、申請のところだけ書いてみます。\n\n```PlantUML\n@startuml\n[*] --\u003e 非ブロック\nstate 非ブロック {\n    [*] --\u003e 未申請\n    未申請 --\u003e 申請中\n    未申請 --\u003e 被申請\n    申請中 --\u003e マッチング\n    被申請 --\u003e マッチング\n}\n@enduml\n```\n![](https://i.imgur.com/modcOLK.png)\n\n流れが上から下だと何だか見にくい(所感)ので、\nと図の流れる方向を左から右へにする`left to right direction`を追加してみます。\nそれと、とりあえずは非ブロックの内部stateに詳細はいらないので`hide empty description`でstate内の区切りを無くします。\n\n```puml\n@startuml\nhide empty description\nleft to right direction\n[*] --\u003e 非ブロック\nstate 非ブロック {\n    [*] --\u003e 未申請\n    未申請 --\u003e 申請中\n    未申請 --\u003e 被申請\n    申請中 --\u003e 未申請\n    被申請 --\u003e 未申請\n    申請中 --\u003e マッチング\n    被申請 --\u003e マッチング\n}\n@enduml\n```\n![](https://i.imgur.com/yplyEjL.png)\nすっきり(所感)\n\nブロックの方も書いてみます。\n\n```puml\n@startuml\nhide empty description\nleft to right direction\n[*] --\u003e 非ブロック\nstate 非ブロック {\n    [*] --\u003e 未申請\n    未申請 --\u003e 申請中\n    未申請 --\u003e 被申請\n    申請中 --\u003e 未申請\n    被申請 --\u003e 未申請\n    申請中 --\u003e マッチング\n    被申請 --\u003e マッチング\n}\n非ブロック --\u003e ブロック状態\nstate ブロック状態 {\n    ブロック --\u003e 相互ブロック\n    被ブロック --\u003e 相互ブロック\n}\nブロック状態 --\u003e 未申請\n@enduml\n```\n![](https://i.imgur.com/28tUkJn.png)\n\n矢印に条件、効果の説明を入れてみます。\n\n```puml\n@startuml\nhide empty description\nleft to right direction\n[*] --\u003e 非ブロック\nstate 非ブロック {\n    [*] --\u003e 未申請\n    未申請 --\u003e 申請中 : 申請を送る\n    未申請 --\u003e 被申請\n    申請中 --\u003e 未申請\n    被申請 --\u003e 未申請\n    申請中 --\u003e マッチング\n    被申請 --\u003e マッチング\n}\n非ブロック --\u003e ブロック状態\nstate ブロック状態 {\n    ブロック --\u003e 相互ブロック\n    被ブロック --\u003e 相互ブロック\n}\nブロック状態 --\u003e 未申請\n@enduml\n```\n![](https://i.imgur.com/OCpH2NL.png)\n１つ入れてみると、なんだか窮屈そうです。\n\n矢印の方向は記述を以下に置き換えることで操作出来るのでこれに一部を置き換えつつ矢印に文章を付け足します。\n- `-down-\u003e` ※デフォルト\n- `-right-\u003e` or `-\u003e`\n- `-left-\u003e`\n- `-up-\u003e`\n \n※ downがデフォルトですが`left to right direction`を設定しているのでこの場合はrightがデフォルトになっている？ そういうわけでもない？ なさそうだな\n\n\n```puml\n@startuml\nhide empty description\nleft to right direction\n[*] --\u003e 非ブロック\nstate 非ブロック {\n    [*] --\u003e 未申請\n    未申請 --\u003e 申請中 : 申請を送る\n    未申請 --\u003e 被申請 : 申請が送られる\n    申請中 -left-\u003e 未申請 : 拒否される\n    被申請 -left-\u003e 未申請 : 拒否する\n    申請中 --\u003e マッチング : 承認される\n    被申請 --\u003e マッチング : 承認する\n}\n非ブロック --\u003e ブロック状態 : ブロックする、される\nstate ブロック状態 {\n    ブロック --\u003e 相互ブロック : ブロックされる\n    被ブロック --\u003e 相互ブロック : ブロックする\n    相互ブロック -left-\u003e ブロック : 解除される\n    相互ブロック -left-\u003e 被ブロック : 解除する\n    ブロック -up-\u003e 未申請 : [ブロック解除する]\n    被ブロック -up-\u003e 未申請 : [ブロック解除される]\n} \n\n\u003c!-- ブロック、被ブロックからそれぞれ未申請へとのばすように調整 --\u003e\n\n@enduml\n```\n![](https://i.imgur.com/iNaCFvY.png)\n大胆な空間の使い方。\nPlantUMLはさくさく書けてテキストで残せるという点がメリットなので、あまり見た目にはこだわらないことにします。(人に見せる時だけ綺麗にしたい)\n\n![](https://i.imgur.com/8DhM8Vi.png)\n変なトコからのびやがって。\n\n## 思った事\nテキストだけで管理出来る点にミニマリスト的な美学を感じてかなり気に入りました。\n気に入りすぎて[Chrome拡張](https://chrome.google.com/webstore/detail/plantuml-viewer/legbfeljfbjgfifnkmpoajgpgejojooj?hl=ja)いれて、Gitで管理することにしました。\n\n若干思った事をそのままやれなさそうな不自由さを少し感じましたが、不自由さを感じた時点でその設計に問題があるんだろうなと思います。\n\n## おわり\n次はさらにさくさく書けそうなのでバリバリ設計をこれでやりたいです。ﾊﾞﾘﾊﾞﾘ\nあと他の図もやってみたいので、やったらまとめます。\n\n`skinparam monochrome true`で白黒にも出来るそうです。\n![](https://i.imgur.com/fqqlSJo.png)\nクール。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T19:37:48+09:00","group":null,"id":"a25bee6c76176083ecd1","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"uml","versions":[]},{"name":"plantuml","versions":[]}],"title":"PlantUMLでマッチングアプリのユーザーの状態遷移図書いてみたメモ","updated_at":"2019-07-09T19:37:48+09:00","url":"https://qiita.com/livenot/items/a25bee6c76176083ecd1","user":{"description":"脳死ユーモア\r\n","facebook_id":"","followees_count":2,"followers_count":1,"github_login_name":null,"id":"livenot","items_count":3,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":259690,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/259690/profile-images/1556930116","team_only":false,"twitter_screen_name":"livenot","website_url":""},"page_views_count":null},{"rendered_body":"\u003cp\u003eおことわり:\u003cbr\u003e\n前回の記事を投稿したところ、「モバイル端末で読もうとすると、ページを開いた瞬間にブラウザがフリーズして落ちる」というお声を頂きました。\u003cbr\u003e\n単行で1万文字超にも及ぶ記号プログラムにシンタックスハイライトがかかることで、大量の\u003ccode\u003espan\u003c/code\u003eタグが生成されて高負荷となるようです。\u003cbr\u003e\n対策として、横幅が画面に収まらないほどの巨大な記号プログラムについてはハイライトを行わない、または記事中には掲載せず、代わりにGistへのリンクを記載するようにしています。\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita.com/Tatamo/items/24099958b90cbed61d67\" id=\"reference-c9637271e4c171c51244\"\u003e第1回\u003c/a\u003eではJavaScript記号プログラミングについての基礎的な考え方を中心として取り上げました。\u003cbr\u003e\nそのため、実際に記号だけでコードを書く場面では、「このようにすればできますね」というように方向性のみを示すにとどめた箇所が多くあります。\u003cbr\u003e\n今回の記事では、JavaScriptプログラムを記号化するプログラムの作成を題材として、前回の記事をなぞりながら、実際に記号だけで書かれたプログラムを扱っていきます。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"レギュレーション\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AC%E3%82%AE%E3%83%A5%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eレギュレーション\u003c/h1\u003e\n\n\u003cp\u003e記号プログラムの制約は、前回に引き続き以下のようなものとします。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eプログラム中に使用してよいのは、\u003ccode\u003e[]()+=\u003c/code\u003eの6種類の記号のみ。\u003c/li\u003e\n\u003cli\u003eブラウザとnode.jsの両方で動作しなければならない。\n\n\u003cul\u003e\n\u003cli\u003eよって、明示的な\u003ccode\u003ewindow\u003c/code\u003eや\u003ccode\u003eglobal\u003c/code\u003eへのアクセスは禁止。\u003ccode\u003eglobalThis\u003c/code\u003e\u003csup id=\"fnref1\"\u003e\u003ca href=\"#fn1\" rel=\"footnote\" title=\"https://github.com/tc39/proposal-global, 👻globalThis👻と🌏global🌏と🌝this🌝\"\u003e1\u003c/a\u003e\u003c/sup\u003eも(この記事を書いている途中に殆どの処理系で実装が進みましたが)まだ存在しないということにしておきます。\u003c/li\u003e\n\u003cli\u003e実行環境は記事執筆時点でのnode.jsとChromeの最新安定版とします。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"記号プログラム変換器を作る\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A8%98%E5%8F%B7%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0%E5%A4%89%E6%8F%9B%E5%99%A8%E3%82%92%E4%BD%9C%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e記号プログラム変換器を作る\u003c/h1\u003e\n\n\u003cp\u003e今回は、記号プログラミングの実践も兼ねて「JavaScriptプログラムを受け取り、記号化されたプログラムに変換するプログラム」を作ってみます。\u003cbr\u003e\nただし、まずは「とりあえず動く」ものを目指すことにします。\u003cbr\u003e\n記号プログラミングの常としてものすごい長さのプログラムになるかもしれませんが、今回はそのあたりは特に気にせず進めていきます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"仕様と方針\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BB%95%E6%A7%98%E3%81%A8%E6%96%B9%E9%87%9D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e仕様と方針\u003c/h2\u003e\n\n\u003cp\u003e作るプログラムの仕様は、以下のようにします。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eJavaScriptで書かれたプログラムを文字列として入力する\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003e[]()+=\u003c/code\u003eの6種類の記号のみを使ったプログラムを文字列として出力する\u003c/li\u003e\n\u003cli\u003e出力結果をJavaScriptとして実行すると、入力として与えたプログラムを実行した場合と同じ処理をする\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003cstrong\u003e入力文字列を1文字ずつ記号で表現して、最後に\u003ccode\u003eeval\u003c/code\u003eに通す\u003c/strong\u003eことにすれば、実装が楽そうでいいですね。そうしましょう。\u003cbr\u003e\nJavaScriptプログラム中にはどのような文字が現れるかわからないので、文字ごとに対応する記号表現を用意するのは大変です。\u003cbr\u003e\nそこで、\u003ccode\u003eString.prototype.codePointAt()\u003c/code\u003eで全ての文字を単なる整数に変換してしまいましょう。\u003cbr\u003e\nそして、記号プログラムの実行時に\u003ccode\u003eString.fromCodePoint()\u003c/code\u003eでもともとの文字列を復元し、それを\u003ccode\u003eeval\u003c/code\u003eで実行させます。\u003c/p\u003e\n\n\u003cp\u003eたとえば、\u003ccode\u003e1+1\u003c/code\u003eを実行する場合、\u003ccode\u003e\"1\"\u003c/code\u003eと\u003ccode\u003e\"+\"\u003c/code\u003eのコードポイント値はそれぞれ\u003ccode\u003e49\u003c/code\u003e, \u003ccode\u003e43\u003c/code\u003eですから、\u003ccode\u003e\"1+1\"\u003c/code\u003eという文字列は\u003ccode\u003e49, 43, 49\u003c/code\u003eという3つの数値の列で表すことができます。\u003cbr\u003e\nよって、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kr\"\u003eeval\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efromCodePoint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e49\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e43\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e49\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eというプログラムで、\u003ccode\u003e1+1\u003c/code\u003eを実行して計算結果である\u003ccode\u003e2\u003c/code\u003eを得ることができますね。\u003cbr\u003e\nこれを記号で表現したコードが生成できれば、どのような入力が来ても大丈夫そうです。\u003c/p\u003e\n\n\u003cp\u003eただし、実のところ\u003ca href=\"https://qiita.com/Tatamo/items/24099958b90cbed61d67\"\u003e前回の記事\u003c/a\u003eで解説した内容ではメソッド呼び出し時に2つ以上の引数を渡すことが困難です。\u003cbr\u003e\n手っ取り早く済みそうなのは、以下のような形式で書いてしまうことです\u003csup id=\"fnref2\"\u003e\u003ca href=\"#fn2\" rel=\"footnote\" title=\"他に、eval(String.fromCodePoint(49)+String.fromCodePoint(43)+String.fromCodePoint(49));という形式で書くことも考えられます。とはいえこれは出力コードの長さがとんでもないことになりそうなので、今回は採用しないことにします。\"\u003e2\u003c/a\u003e\u003c/sup\u003e。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kr\"\u003eeval\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kr\"\u003eeval\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"String.fromCodePoint(49, 43, 49)\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003eeval\u003c/code\u003eに加えて\u003ccode\u003e\"eval\"\u003c/code\u003e, \u003ccode\u003e\"String.fromCodePoint\"\u003c/code\u003eという文字列、数値、および\u003ccode\u003e\"'\"\u003c/code\u003e, \u003ccode\u003e\"(\"\u003c/code\u003e, \u003ccode\u003e\")\"\u003c/code\u003e, \u003ccode\u003e\",\"\u003c/code\u003eの文字が記号で表現できれば、このようなプログラムを記号で書くことができます。\u003cbr\u003e\n今回は、このような方針で記号プログラム変換器を作っていきます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"evalを得る\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#eval%E3%82%92%E5%BE%97%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eeval\u003c/code\u003eを得る\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita.com/Tatamo/items/24099958b90cbed61d67#%E9%96%A2%E6%95%B0%E3%81%AE%E4%BD%9C%E6%88%90%E3%81%A8%E5%AE%9F%E8%A1%8C\" id=\"reference-c9637271e4c171c51244\"\u003e前回の記事のおさらい\u003c/a\u003eをしましょう。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"p\"\u003e[][\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"find\"\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"constructor\"\u003c/span\u003e\u003cspan class=\"p\"\u003e](\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"return eval\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)()\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eで\u003ccode\u003eeval\u003c/code\u003eへの参照が得られるので、このコード中の文字列をすべて記号で表現したものが\u003ccode\u003eeval\u003c/code\u003eに対応する記号プログラムとなります。\u003cbr\u003e\nここに含まれている文字は、半角スペースと\u003ccode\u003eacdefilnorstuv\u003c/code\u003eです。\u003cbr\u003e\nこれらの文字が全て記号で表現できれば、\u003ccode\u003e+\u003c/code\u003eで足していくことで\u003ccode\u003e\"find\"\u003c/code\u003e, \u003ccode\u003e\"constructor\"\u003c/code\u003e, \u003ccode\u003e\"return eval\"\u003c/code\u003eを構築できます。\u003c/p\u003e\n\n\u003cp\u003eこの記事中で数百文字・数千文字の記号コードを全部提示していると紙面がいくらあっても足りませんので、\u003cbr\u003e\n\u003ca href=\"https://gist.github.com/Tatamo/5762f14941889675c4932972ed17deb8#file-eval-js\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://gist.github.com/Tatamo/5762f14941889675c4932972ed17deb8#file-eval-js\u003c/a\u003e\u003cbr\u003e\nに\u003ccode\u003eeval\u003c/code\u003eを得るまでのコードを記載しています。\u003cbr\u003e\n実際に実行することで、記号で書かれた\u003ccode\u003eeval\u003c/code\u003eが出力されます。曰く、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e// === eval\n[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]][[[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]+[]][+[]][++[++[++[+[]][+[]]][+[]]][+[]]]+[[+[]==[]]+[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[[]==[]]+[]][+[]][++[++[++[+[]][+[]]][+[]]][+[]]]+[[+[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[]][+[]][++[+[]][+[]]]+[[+[]==[]]+[]][+[]][++[++[+[]][+[]]][+[]]]+[[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]+[]][+[]][++[++[++[+[]][+[]]][+[]]][+[]]]+[[+[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[]][+[]][++[+[]][+[]]]]([[+[]==[]]+[]][+[]][++[+[]][+[]]]+[[+[]==[]]+[]][+[]][++[++[++[+[]][+[]]][+[]]][+[]]]+[[+[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[]][+[]][++[++[+[]][+[]]][+[]]]+[[+[]==[]]+[]][+[]][++[+[]][+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]+[]][+[]][++[++[++[+[]][+[]]][+[]]][+[]]+[++[+[]][+[]]]]+[[+[]==[]]+[]][+[]][++[++[++[+[]][+[]]][+[]]][+[]]]+[[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]+[]][+[]][++[++[+[]][+[]]][+[]]+[++[++[++[+[]][+[]]][+[]]][+[]]]]+[[[]==[]]+[]][+[]][++[+[]][+[]]]+[[[]==[]]+[]][+[]][++[++[+[]][+[]]][+[]]])()\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e2,077文字らしいです。これを手で書くのは少し苦労するかもしれませんね。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"stringfromcodepointを得る\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#stringfromcodepoint%E3%82%92%E5%BE%97%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003e\"String.fromCodePoint\"\u003c/code\u003eを得る\u003c/h2\u003e\n\n\u003cp\u003eこちらも\u003ca href=\"https://qiita.com/Tatamo/items/24099958b90cbed61d67#%E9%81%A0%E3%81%99%E3%81%8E%E3%81%9Fc\" id=\"reference-c9637271e4c171c51244\"\u003e前回の記事で取り上げた内容\u003c/a\u003eと被っていますが、\u003ccode\u003eString.fromCodePoint\u003c/code\u003e(または\u003ccode\u003eString.fromCharCode\u003c/code\u003eを得るのは少し複雑な過程を経る必要がありました。\u003cbr\u003e\n今回は\u003ccode\u003eString.fromCodePoint\u003c/code\u003eというメソッドそのものではなく、文字列としての\u003ccode\u003e\"String.fromCodePoint\"\u003c/code\u003eを用意する必要がありますが、基本的な方法は変わりません。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nb\"\u003eObject\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003egetOwnPropertyNames\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003esort\u003c/span\u003e\u003cspan class=\"p\"\u003e()[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eというコードを実行して、\u003ccode\u003e\"fromCharCode\"\u003c/code\u003eの文字列を取得することにします。\u003csup id=\"fnref3\"\u003e\u003ca href=\"#fn3\" rel=\"footnote\" title='前回の記事でも指摘した点ですが、この実装の動作はStringオブジェクトに存在する他のメソッドの名前に依存するため、将来に渡って正しく動作する保証はありません。今回は簡単のためこのようなコードにしていますが、この時点で手に入っている文字のみで確実に\"C\"を得られる方法として、 Object.getOwnPropertyNames(String).join(\"\").split(\"\").filter(eval(\"Function.bind(undefined,(undefined+[])[0])\")(\"return [true][u.codePointAt()-67]\"))[0]を提示しておきます。'\u003e3\u003c/a\u003e\u003c/sup\u003e\u003cbr\u003e\nまた、\u003ccode\u003e\"String\"\u003c/code\u003eという文字列は\u003ccode\u003eString.name\u003c/code\u003eから得ることができます。\u003c/p\u003e\n\n\u003cp\u003eこれらを文字列を用いたプロパティアクセスの形で書き直して、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"constructor\"\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"s2\"\u003e\".\"\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"p\"\u003e[][\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"entries\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]()[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"constructor\"\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"getOwnPropertyNames\"\u003c/span\u003e\u003cspan class=\"p\"\u003e](\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"constructor\"\u003c/span\u003e\u003cspan class=\"p\"\u003e])[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"sort\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]()[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eここに含まれる文字は、\u003ccode\u003eacegimnoprstuwyNOP.\u003c/code\u003eです。\u003cbr\u003e\nこの中で、入手にやや難がある文字は\u003ccode\u003e\"p\"\u003c/code\u003e, \u003ccode\u003e\"w\"\u003c/code\u003e, \u003ccode\u003e\"P\"\u003c/code\u003eでしょう。\u003cbr\u003e\nこれらは、以下のようにして取得する必要がありました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ep\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e25\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003etoString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e36\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// \"p\"\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ew\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e32\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003etoString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e36\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// \"w\"\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eP\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eFunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"return async \"\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"nb\"\u003eFunction\u003c/span\u003e\u003cspan class=\"p\"\u003e())()()\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)[\u003c/span\u003e\u003cspan class=\"mi\"\u003e8\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"c1\"\u003e// \"[object Promise]\"[8] === \"P\"\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eここで、\u003ccode\u003e\"toString\"\u003c/code\u003eを構築するための\u003ccode\u003e\"String\"\u003c/code\u003eは\u003ccode\u003e\"\"[\"constructor\"][\"name\"]\u003c/code\u003eで取得でき、他の文字は既に取得済みのものです。\u003c/p\u003e\n\n\u003cp\u003e以上の内容をもとに、\u003ccode\u003e\"String.fromCodePoint\"\u003c/code\u003eの記号表現を得るためのコードは\u003cbr\u003e\n\u003ca href=\"https://gist.github.com/Tatamo/5762f14941889675c4932972ed17deb8#file-fromcodepoint-js\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://gist.github.com/Tatamo/5762f14941889675c4932972ed17deb8#file-fromcodepoint-js\u003c/a\u003e\u003cbr\u003e\nとなります。\u003cbr\u003e\nこれを実行してみると、22,564文字の記号プログラムが出力されます。さすがに長いですね。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"自然数を記号に変換する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%87%AA%E7%84%B6%E6%95%B0%E3%82%92%E8%A8%98%E5%8F%B7%E3%81%AB%E5%A4%89%E6%8F%9B%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e自然数を記号に変換する\u003c/h2\u003e\n\n\u003cp\u003e次は、実行したいプログラムのそれぞれの文字のコードポイント値を記号の形で表現することを考えましょう。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"とりあえずインクリメントで作ってみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%A8%E3%82%8A%E3%81%82%E3%81%88%E3%81%9A%E3%82%A4%E3%83%B3%E3%82%AF%E3%83%AA%E3%83%A1%E3%83%B3%E3%83%88%E3%81%A7%E4%BD%9C%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eとりあえずインクリメントで作ってみる\u003c/h3\u003e\n\n\u003cp\u003e\u003ccode\u003e0\u003c/code\u003eは\u003ccode\u003e+[]\u003c/code\u003eで表現することができ、\u003ccode\u003e++[n][0]\u003c/code\u003eと書けば\u003ccode\u003en+1\u003c/code\u003eを得ることができるのでした。\u003cbr\u003e\nよって0以上の整数は帰納的に構築可能であり、これに従うと、自然数を記号表現に変換する処理は以下のように書くことができます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003econvertNumber\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ezero\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"+[]\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003en\u003c/span\u003e \u003cspan class=\"o\"\u003e===\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003ezero\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"s2\"\u003e`++[\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003econvertNumber\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003en\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)}\u003c/span\u003e\u003cspan class=\"s2\"\u003e][\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003ezero\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e]`\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003eeval(convertNumber(n))\u003c/code\u003eとした結果が\u003ccode\u003en\u003c/code\u003eとなりますが、このプログラムには以下の3つの問題があります。\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003e出力結果が長すぎる\u003c/li\u003e\n\u003cli\u003e$n=20000$ ぐらい\u003csup id=\"fnref4\"\u003e\u003ca href=\"#fn4\" rel=\"footnote\" title=\"スタックに割り当てられている領域のサイズは処理系によって異なります。node.js(V8)のデフォルトは984KBで、本記事ではこれを基準としています。\"\u003e4\u003c/a\u003e\u003c/sup\u003eで\u003ccode\u003econvertNumber(n)\u003c/code\u003eがスタックオーバーフローを起こす\u003c/li\u003e\n\u003cli\u003eそれより前に、$n=800$ ぐらいで\u003ccode\u003eeval(convertNumber(n))\u003c/code\u003eがスタックオーバーフローを起こす\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003e1.の問題として、数値をインクリメントするのに9文字必要になるので、単純に作りたい数を9倍した数(に\u003ccode\u003e0\u003c/code\u003eを表現するための3文字分を足した数)がその数値を表現するためのコードの文字数になります。\u003cbr\u003e\nそもそも記号プログラムを書いている時点でコードがものすごい長さになるのは織り込み済みですが、しかし\u003ccode\u003e100\u003c/code\u003eを表現するのに900文字では、さすがに割に合わない気がします。\u003c/p\u003e\n\n\u003cp\u003e2.は単純に再帰呼び出しをネストしすぎてコールスタックを使い果たすために起きるエラーであり、何も考えずに再帰関数を書いた際に起きがちな問題ですね。\u003cbr\u003e\n\u003ca href=\"https://www.ecma-international.org/ecma-262/10.0/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eES2019\u003c/a\u003eがリリースされたというのに、未だにES2015仕様である末尾再帰最適化をサポートする主要な処理系がSafariしかない\u003csup id=\"fnref5\"\u003e\u003ca href=\"#fn5\" rel=\"footnote\" title=\"https://kangax.github.io/compat-table/es6/#test-proper_tail_calls_(tail_call_optimisation)\"\u003e5\u003c/a\u003e\u003c/sup\u003eので、この関数を末尾再帰の形に書き直したとしても問題は解決しません。\u003c/p\u003e\n\n\u003cp\u003e再帰を使わずにループで書き直せば1.の問題は解決する、と思いきや、結局3.の問題が生じます。\u003cbr\u003e\n\u003ccode\u003econvertNumber(n)\u003c/code\u003eで記号コードの生成に成功しても、それを\u003ccode\u003eeval\u003c/code\u003eするときに配列の添字アクセスがネストしすぎてしまうため、やはりスタックオーバーフローが発生してしまいます。\u003csup id=\"fnref6\"\u003e\u003ca href=\"#fn6\" rel=\"footnote\" title=\"とはいっても800前後でスタックオーバーフローになるのは結構意外でした。配列の添字アクセスって普通の関数呼び出しの数倍以上もコールスタックを消費するんでしょうか？\"\u003e6\u003c/a\u003e\u003c/sup\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"一桁ずつ生成し文字列として結合する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%B8%80%E6%A1%81%E3%81%9A%E3%81%A4%E7%94%9F%E6%88%90%E3%81%97%E6%96%87%E5%AD%97%E5%88%97%E3%81%A8%E3%81%97%E3%81%A6%E7%B5%90%E5%90%88%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e一桁ずつ生成し、文字列として結合する\u003c/h3\u003e\n\n\u003cp\u003eそこで、はじめからすべて数値として作るのではなく、一桁ずつ個別に生成したのち、文字列として繋ぎ合わせて目的の数を作ることにします。\u003cbr\u003e\nたとえば\u003ccode\u003e42\u003c/code\u003eを作る場合、\u003ccode\u003e\"4\"+\"2\"\u003c/code\u003eで\u003ccode\u003e\"42\"\u003c/code\u003eを作り、\u003ccode\u003e+\"42\"\u003c/code\u003eとすれば目的の\u003ccode\u003e42\u003c/code\u003eを得ることができますね。\u003cbr\u003e\nさらに記号プログラム的な書き方に寄せると、 \u003ccode\u003e+[[4]+[2]]\u003c/code\u003eと書くことができます。\u003c/p\u003e\n\n\u003cp\u003e(\u003ccode\u003e[4]+[2]\u003c/code\u003eの部分では、二項演算\u003ccode\u003e+\u003c/code\u003eによって\u003ccode\u003e[4]\u003c/code\u003eと\u003ccode\u003e[2]\u003c/code\u003eが暗黙的にプリミティブに変換され、それぞれ\u003ccode\u003e\"4\"\u003c/code\u003eと\u003ccode\u003e\"2\"\u003c/code\u003eになって\u003csup id=\"fnref7\"\u003e\u003ca href=\"#fn7\" rel=\"footnote\" title='配列aをhint値\"default\"または\"string\"でプリミティブに変換すると、a.toString()が実行され、a.join()の結果が返ります。 https://www.ecma-international.org/ecma-262/#sec-array.prototype.tostring'\u003e7\u003c/a\u003e\u003c/sup\u003e文字列の結合が行われます。つまり\u003ccode\u003e+[\"42\"]\u003c/code\u003eになりますが、hint値\u003ccode\u003e\"number\"\u003c/code\u003eのもとでの配列からプリミティブへの変換は、まず\u003ccode\u003e[\"42\"].valueOf()\u003c/code\u003eが\u003ccode\u003e[\"42\"]\u003c/code\u003e自身を返すために失敗し、フォールバックとして\u003ccode\u003e[\"42\"].toString()\u003c/code\u003eが呼び出されることになり、結局\u003ccode\u003e[\"42\"]\u003c/code\u003eは暗黙的に\u003ccode\u003e\"42\"\u003c/code\u003eに変換されるため、\u003ccode\u003e+\"42\"\u003c/code\u003eが評価されて\u003ccode\u003e42\u003c/code\u003eになります。\u003csup id=\"fnref8\"\u003e\u003ca href=\"#fn8\" rel=\"footnote\" title=\"べつに真面目に読まなくていいです\"\u003e8\u003c/a\u003e\u003c/sup\u003e \u003csup id=\"fnref9\"\u003e\u003ca href=\"#fn9\" rel=\"footnote\" title=\"JavaScriptのプリミティブへの変換を完全に理解する\"\u003e9\u003c/a\u003e\u003c/sup\u003e)\u003c/p\u003e\n\n\u003cp\u003eそのように書き直したのが、以下のコードになります。\u003csup id=\"fnref10\"\u003e\u003ca href=\"#fn10\" rel=\"footnote\" title='蛇足ですが、変換する数字のうち最も上の桁だけは配列で囲わずに1+[2]+[3]+... とすることができます。最初の+演算子の右辺は文字列となるため問題なく\"123...\"になり、これで2文字節約できます。ほかの桁で[]を外すと、+が複数個連続してしまうためにエラーとなります。'\u003e10\u003c/a\u003e\u003c/sup\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003econvertNumber\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003estr\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[...\u003c/span\u003e\u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etoString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ec\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003eNumber\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003eparseInt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ed\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s2\"\u003e`[\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"++[\"\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003erepeat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ed\u003c/span\u003e\u003cspan class=\"p\"\u003e)}\u003c/span\u003e\u003cspan class=\"s2\"\u003e+[]\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"][+[]]\"\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003erepeat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ed\u003c/span\u003e\u003cspan class=\"p\"\u003e)}\u003c/span\u003e\u003cspan class=\"s2\"\u003e]`\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ejoin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"+\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"s2\"\u003e`+[\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e]`\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003eeval(convertNumber(42))\u003c/code\u003e などと実行してみれば、正しく\u003ccode\u003e42\u003c/code\u003eが返ることがわかります。\u003cbr\u003e\n\u003ccode\u003econvertNumber(Number.MAX_SAFE_INTEGER)\u003c/code\u003eのように大きな数を与えても問題なく実行できますね。\u003c/p\u003e\n\n\u003cp\u003eただし、ここでは単項演算子\u003ccode\u003e+\u003c/code\u003eで数値型に再変換していますが、配列の添え字アクセスで使用する場合などは文字列のままでも全く問題ない(\u003ccode\u003ea[1]\u003c/code\u003eと\u003ccode\u003ea[\"1\"]\u003c/code\u003eは同じ)ため、わざわざ数値に戻す必要がないことも多いです。\u003cbr\u003e\n今回の場合も、必要とされているのは\u003ccode\u003e\"42\"\u003c/code\u003eのような「数値を表す文字列」なので、\u003ccode\u003ereturn `+[${str}]`;\u003c/code\u003e のかわりに \u003ccode\u003ereturn str;\u003c/code\u003eで文字列として返すだけで十分です。\u003csup id=\"fnref11\"\u003e\u003ca href=\"#fn11\" rel=\"footnote\" title=\"むしろ、前者では先頭に単項演算子の+が存在するため、返り値に対して前から+二項演算子を適用しようとするとa++xのような形となってしまい、10と同様にエラーが発生するおそれがあるため注意が必要です。このような場合、文字数は増えてしまいますがa+[+x][0]やa+(+x)のような形で囲うことで、意図しない+の連続を防ぐことができます。\"\u003e11\u003c/a\u003e\u003c/sup\u003e\u003cbr\u003e\n以後、この記事では\u003ccode\u003econvertNumber(n)\u003c/code\u003eは\u003ccode\u003e[4]+[2]\u003c/code\u003eのようにして得られる文字数をそのまま返す実装とみなします。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"残りの文字を集める\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%AE%8B%E3%82%8A%E3%81%AE%E6%96%87%E5%AD%97%E3%82%92%E9%9B%86%E3%82%81%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e残りの文字を集める\u003c/h2\u003e\n\n\u003cp\u003e\u003ccode\u003e\"(\"\u003c/code\u003e と \u003ccode\u003e\")\"\u003c/code\u003e は適当な関数を文字列キャストすることで取得できます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"p\"\u003e[][\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"find\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"c1\"\u003e// === \"function find() { [native code] }\"\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[[][\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"find\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"p\"\u003e[]][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e13\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"c1\"\u003e// === \"(\"\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[[][\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"find\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"p\"\u003e[]][\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"mi\"\u003e14\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"c1\"\u003e// === \")\"\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003e\",\"\u003c/code\u003eは、要素が複数ある配列を\u003ccode\u003ejoin()\u003c/code\u003eするか、文字列に変換することで得ることができます。\u003csup id=\"fnref12\"\u003e\u003ca href=\"#fn12\" rel=\"footnote\" title='7と同様にArray.prototype.join()が呼び出されますが、Array(2)よりlengthは2となっており、また0番目と1番目の要素はundefinedとして扱われますが、undefinedとnullはjoin()の処理では空文字列に置換されるため、結果として\",\"が返ります https://www.ecma-international.org/ecma-262/#sec-array.prototype.join'\u003e12\u003c/a\u003e\u003c/sup\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"p\"\u003e[][\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"constructor\"\u003c/span\u003e\u003cspan class=\"p\"\u003e](\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"c1\"\u003e// Array(2)+\"\" === \",\"\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれらの記号表現は、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e// === \"(\"\n[[][[[][[]]+[]][+[]][++[++[++[++[+[]][+[]]][+[]]][+[]]][+[]]]+[[][[]]+[]][+[]][++[++[++[++[++[+[]][+[]]][+[]]][+[]]][+[]]][+[]]]+[[][[]]+[]][+[]][++[+[]][+[]]]+[[][[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]+[]][+[]][++[+[]][+[]]+[++[++[++[+[]][+[]]][+[]]][+[]]]]\n\n// === \")\"\n[[][[[][[]]+[]][+[]][++[++[++[++[+[]][+[]]][+[]]][+[]]][+[]]]+[[][[]]+[]][+[]][++[++[++[++[++[+[]][+[]]][+[]]][+[]]][+[]]][+[]]]+[[][[]]+[]][+[]][++[+[]][+[]]]+[[][[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]+[]][+[]][++[+[]][+[]]+[++[++[++[++[+[]][+[]]][+[]]][+[]]][+[]]]](+[[++[++[+[]][+[]]][+[]]]])\n\n// === \",\"\n[[][[[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]+[]][+[]][++[++[++[+[]][+[]]][+[]]][+[]]]+[[+[]==[]]+[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[[]==[]]+[]][+[]][++[++[++[+[]][+[]]][+[]]][+[]]]+[[+[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[]][+[]][++[+[]][+[]]]+[[+[]==[]]+[]][+[]][++[++[+[]][+[]]][+[]]]+[[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]+[]][+[]][++[++[++[+[]][+[]]][+[]]][+[]]]+[[+[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[]][+[]][++[+[]][+[]]]](++[++[+[]][+[]]][+[]])+[]][+[]]\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eとなります。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"完成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%8C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e完成\u003c/h2\u003e\n\n\u003cp\u003eさて、これで\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kr\"\u003eeval\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kr\"\u003eeval\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"String.fromCodePoint(49, 43, 49)\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eを実行するために必要なものが揃いましたね。\u003c/p\u003e\n\n\u003cp\u003eあとは、入力プログラムを受け取って、コードポイントの列に変換して、さらに記号に変換することができれば完成です。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"cm\"\u003e/**\n * @returns {string}\n */\u003c/span\u003e\n\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003econvertNumber\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e// ここでは上の例とは異なり、数値に再キャストせずに文字列のまま返している\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e[...\u003c/span\u003e\u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etoString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ec\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003eNumber\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003eparseInt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ed\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s2\"\u003e`[\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"++[\"\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003erepeat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ed\u003c/span\u003e\u003cspan class=\"p\"\u003e)}\u003c/span\u003e\u003cspan class=\"s2\"\u003e+[]\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"][+[]]\"\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003erepeat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ed\u003c/span\u003e\u003cspan class=\"p\"\u003e)}\u003c/span\u003e\u003cspan class=\"s2\"\u003e]`\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ejoin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"+\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 実際にはすべて記号だけで書かれた表現を入れる\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003e_eval\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"eval\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// ここだけevalするとeval自身になる、他は文字列となることに注意\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003e_String_dot_fromCodePoint\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\"String.fromCodePoint\"'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003e_comma\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\",\"'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003e_lparen\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\"(\"'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003e_rparen\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\")\"'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003econvertProgram\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003esrc\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ecodes\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[...\u003c/span\u003e\u003cspan class=\"nx\"\u003esrc\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ec\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecodePointAt\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003econvertNumber\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ejoin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e`+\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003e_comma\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e+`\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"s2\"\u003e`\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003e_eval\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e(\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003e_eval\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e(\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003e_String_dot_fromCodePoint\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e+\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003e_lparen\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e+\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003ecodes\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e+\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003e_rparen\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e))`\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eここではコード長の制約から、本来記号で表現するところを元の表現で書いています。\u003cbr\u003e\n実際に\u003ccode\u003e[]+=()\u003c/code\u003eの6種類の記号のみからなる記号プログラムを出力するコードは、\u003cbr\u003e\n\u003ca href=\"https://gist.github.com/Tatamo/5762f14941889675c4932972ed17deb8#file-convertprogram-js\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://gist.github.com/Tatamo/5762f14941889675c4932972ed17deb8#file-convertprogram-js\u003c/a\u003e\u003cbr\u003e\nに掲載しています。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nx\"\u003econvertProgram\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'console.log(\"Hello, World!\");'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eで\u003ccode\u003econsole.log(\"Hello, World!\");\u003c/code\u003eというプログラムを記号のみで表したものが得られます。\u003cbr\u003e\n(\u003ca href=\"https://gist.github.com/Tatamo/5762f14941889675c4932972ed17deb8#file-helloworld-js\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://gist.github.com/Tatamo/5762f14941889675c4932972ed17deb8#file-helloworld-js\u003c/a\u003e )\u003cbr\u003e\n得られた出力をコピーしてJavaScript処理系に投げるか、または\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kr\"\u003eeval\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003econvertProgram\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'console.log(\"Hello, World!\");'\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eとすれば、コンソールに\u003ccode\u003eHello, World!\u003c/code\u003eと表示されます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"結果\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E6%9E%9C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結果\u003c/h2\u003e\n\n\u003cp\u003e出力された\u003ccode\u003eHello, World!\u003c/code\u003eプログラムの長さを数えてみたところ、60,831文字でした。\u003cbr\u003e\n前回の記事冒頭に記載したものは14,178文字でしたから、大幅に悪化している気がしますね？\u003c/p\u003e\n\n\u003cp\u003e今回作成した変換器で出力されるプログラムは、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kr\"\u003eeval\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kr\"\u003eeval\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"String.fromCodePoint(1,2,3,...)\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eという形のコードを記号だけで書いたものでした。\u003cbr\u003e\nこのコードのそれぞれの部分の文字数を見てみると、\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e式\u003c/th\u003e\n\u003cth style=\"text-align: right\"\u003e文字数\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eeval\u003c/code\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: right\"\u003e2,077\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003e\"String.fromCodePoint\"\u003c/code\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: right\"\u003e22,564\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003e\"(\"\u003c/code\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: right\"\u003e224\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003e\",\"\u003c/code\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: right\"\u003e1,123\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003e\")\"\u003c/code\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: right\"\u003e233\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e数字\u003c/td\u003e\n\u003ctd style=\"text-align: right\"\u003e1桁あたり3～84文字程度\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eのようになっています。\u003cbr\u003e\n数字部分は、先述したように一桁ずつ生成してから文字列として結合しており、一桁ごとの文字数は、その数字を $d$ とすると $3+9d$ 文字となります。\u003cbr\u003e\nASCII文字に含まれる文字ならコードポイント値は128未満で収まりますから、ほとんどの場合で一文字ごとの文字数は多くても200文字と考えることができそうです。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003e\"String.fromCodePoint\"\u003c/code\u003e部分にかなりの文字数を要していますが、全体で見れば6万文字のうちの4割未満に収まっています。\u003cbr\u003e\nどうやら今回のコードでは、\u003ccode\u003e\",\"\u003c/code\u003eの文字がプログラム長の肥大化を招いているようです。\u003cbr\u003e\n文字を一文字表現するたびに\u003ccode\u003e\",\"\u003c/code\u003eで繋いでいくことになりますから、変換元のプログラムの長さが長くなるにつれて\u003ccode\u003e\",\"\u003c/code\u003eを表す部分の割合がどんどん高くなっていくことが予想されます。\u003cbr\u003e\n変換元のプログラムの長さが1文字増えるごとに、出力されるプログラムの長さが1,000文字以上増えることになりますから、これでは数値を短く表現できるようにした意味がありませんね。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"まとめ次回予告13\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81%E6%AC%A1%E5%9B%9E%E4%BA%88%E5%91%8A13\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまとめ・次回予告\u003csup id=\"fnref13\"\u003e\u003ca href=\"#fn13\" rel=\"footnote\" title=\"2本目を書くのに3ヶ月も空けたのにまだ次回作を書く気があるんですか？？？(大幅に間が空いてしまい申し訳ないです、第3回も気長にお待ちください)\"\u003e13\u003c/a\u003e\u003c/sup\u003e\n\u003c/h1\u003e\n\n\u003cp\u003e今回の記事では、実際に記号のみでJavaScriptプログラムを記述する過程を見ていくとともに、プログラムを記号化するプログラムを(記号プログラムではないJavaScript上で)実装していきました。\u003cbr\u003e\n扱うプログラムが複雑になるにしたがって、記号プログラムを人力で記述していくのは困難になってくるため、「記号プログラムを文字列として出力するプログラム」を用意しておくことは重要になります。\u003c/p\u003e\n\n\u003cp\u003eとはいえ今回は\u003ca href=\"https://qiita.com/Tatamo/items/24099958b90cbed61d67\"\u003e第1回\u003c/a\u003eで示した概念の実証という意味合いが強く、結果として得られた変換器は出力するプログラムの大きさという点で大いに改善の余地があります。\u003cbr\u003e\nそこで次回は、文字数短縮をはじめとした記号プログラミング(および記号プログラムを出力するプログラムのプログラミング)におけるテクニックの紹介などを書いてみたいと思っています。\u003cbr\u003e\nまた、そろそろ「記号プログラム」「文字列化したJavaScriptプログラム」「文字列化した記号プログラム」あたりの高階的な概念が頻出し始め、ごちゃごちゃになってきて混乱を招くので、いい感じに表現できるモデルが欲しい気もします。\u003c/p\u003e\n\n\u003cp\u003eいよいよ皆さんも記号化されたJavaScriptプログラムが書けるようになってきたことと思いますので、次回はより黒魔術と呼べるような闇の深いコードを提示できるように進捗を生んでいきたいと考えています。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"おまけ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%8A%E3%81%BE%E3%81%91\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eおまけ\u003c/h1\u003e\n\n\u003cp\u003e前回、\u003ca href=\"https://qiita.com/Tatamo/items/24099958b90cbed61d67#%E3%81%BE%E3%81%A8%E3%82%81%E6%AC%A1%E5%9B%9E%E4%BA%88%E5%91%8A\" id=\"reference-c9637271e4c171c51244\"\u003e\u003cstrong\u003e記号プログラムコンパイラを記号プログラムで書く\u003c/strong\u003e\u003c/a\u003eとか言っていたような気がしますね。\u003cbr\u003e\n先程作った \u003ca href=\"https://gist.github.com/Tatamo/5762f14941889675c4932972ed17deb8#file-convertprogram-js\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://gist.github.com/Tatamo/5762f14941889675c4932972ed17deb8#file-convertprogram-js\u003c/a\u003e の全体をクロージャで囲って、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(){\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e// ここから記号プログラム変換器\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003emaping\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e...\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e...\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003econvertProgram\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003esrc\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e \u003cspan class=\"p\"\u003e...\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e// ここまで\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003econvertProgram\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})()\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこういう感じのプログラムを作って、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eprogram\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"(function(){ const mapping = ...; ...; return convertProgram;})()\"\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e文字列にしてから\u003csup id=\"fnref14\"\u003e\u003ca href=\"#fn14\" rel=\"footnote\" title=\"書いたクロージャに名前をつけるなどしておき、文字列に型変換すれば文字列化された実装が得られます\"\u003e14\u003c/a\u003e\u003c/sup\u003e自分自身に食べさせて、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nx\"\u003econvertProgram\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eprogram\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 記号で書かれた記号プログラム変換器\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003cstrong\u003eできましたね。\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e敢えてソースコードを示すことはしませんが、やってみたところ6MB程度(6,000,000文字オーバー)の記号プログラムが生成されました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kr\"\u003eeval\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kr\"\u003eeval\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003econvertProgram\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eprogram\u003c/span\u003e\u003cspan class=\"p\"\u003e))(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'console.log(\"Hello, World!\");'\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eを実行してみたところ、結果が返るまでに数秒かかりましたが正しく\u003ccode\u003eHello, World!\u003c/code\u003eとコンソールに表示されました。\u003cbr\u003e\nというわけで、使えたものではありませんが「記号プログラムで書かれた記号プログラムコンパイラ」が作成できました。めでたし。\u003c/p\u003e\n\n\u003cdiv class=\"footnotes\"\u003e\n\u003chr\u003e\n\u003col\u003e\n\n\u003cli id=\"fn1\"\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/tc39/proposal-global\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://github.com/tc39/proposal-global\u003c/a\u003e, \u003ca href=\"https://qiita.com/uhyo/items/f3b6feef9444e86bef94\" id=\"reference-9614da3a3a9662b63b0b\"\u003e👻globalThis👻と🌏global🌏と🌝this🌝\u003c/a\u003e \u003ca href=\"#fnref1\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn2\"\u003e\n\u003cp\u003e他に、\u003ccode\u003eeval(String.fromCodePoint(49)+String.fromCodePoint(43)+String.fromCodePoint(49));\u003c/code\u003eという形式で書くことも考えられます。とはいえこれは出力コードの長さがとんでもないことになりそうなので、今回は採用しないことにします。 \u003ca href=\"#fnref2\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn3\"\u003e\n\u003cp\u003e前回の記事でも指摘した点ですが、この実装の動作は\u003ccode\u003eString\u003c/code\u003eオブジェクトに存在する他のメソッドの名前に依存するため、将来に渡って正しく動作する保証はありません。今回は簡単のためこのようなコードにしていますが、この時点で手に入っている文字のみで確実に\u003ccode\u003e\"C\"\u003c/code\u003eを得られる方法として、 \u003ccode\u003eObject.getOwnPropertyNames(String).join(\"\").split(\"\").filter(eval(\"Function.bind(undefined,(undefined+[])[0])\")(\"return [true][u.codePointAt()-67]\"))[0]\u003c/code\u003eを提示しておきます。 \u003ca href=\"#fnref3\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn4\"\u003e\n\u003cp\u003eスタックに割り当てられている領域のサイズは処理系によって異なります。node.js(V8)のデフォルトは984KBで、本記事ではこれを基準としています。 \u003ca href=\"#fnref4\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn5\"\u003e\n\u003cp\u003e\u003ca href=\"https://kangax.github.io/compat-table/es6/#test-proper_tail_calls_(tail_call_optimisation)\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://kangax.github.io/compat-table/es6/#test-proper_tail_calls_(tail_call_optimisation)\u003c/a\u003e \u003ca href=\"#fnref5\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn6\"\u003e\n\u003cp\u003eとはいっても800前後でスタックオーバーフローになるのは結構意外でした。配列の添字アクセスって普通の関数呼び出しの数倍以上もコールスタックを消費するんでしょうか？ \u003ca href=\"#fnref6\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn7\"\u003e\n\u003cp\u003e配列\u003ccode\u003ea\u003c/code\u003eをhint値\u003ccode\u003e\"default\"\u003c/code\u003eまたは\u003ccode\u003e\"string\"\u003c/code\u003eでプリミティブに変換すると、\u003ccode\u003ea.toString()\u003c/code\u003eが実行され、\u003ccode\u003ea.join()\u003c/code\u003eの結果が返ります。 \u003ca href=\"https://www.ecma-international.org/ecma-262/#sec-array.prototype.tostring\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.ecma-international.org/ecma-262/#sec-array.prototype.tostring\u003c/a\u003e \u003ca href=\"#fnref7\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn8\"\u003e\n\u003cp\u003eべつに真面目に読まなくていいです \u003ca href=\"#fnref8\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn9\"\u003e\n\u003cp\u003e\u003ca href=\"https://qiita.com/uhyo/items/44c2f79873de13186743\" id=\"reference-28c2f1356a4a5d752f7e\"\u003eJavaScriptのプリミティブへの変換を完全に理解する\u003c/a\u003e \u003ca href=\"#fnref9\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn10\"\u003e\n\u003cp\u003e蛇足ですが、変換する数字のうち最も上の桁だけは配列で囲わずに\u003ccode\u003e1+[2]+[3]+...\u003c/code\u003e とすることができます。最初の\u003ccode\u003e+\u003c/code\u003e演算子の右辺は文字列となるため問題なく\"123...\"になり、これで2文字節約できます。ほかの桁で\u003ccode\u003e[]\u003c/code\u003eを外すと、\u003ccode\u003e+\u003c/code\u003eが複数個連続してしまうためにエラーとなります。 \u003ca href=\"#fnref10\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn11\"\u003e\n\u003cp\u003eむしろ、前者では先頭に単項演算子の\u003ccode\u003e+\u003c/code\u003eが存在するため、返り値に対して前から\u003ccode\u003e+\u003c/code\u003e二項演算子を適用しようとすると\u003ccode\u003ea++x\u003c/code\u003eのような形となってしまい、\u003csup id=\"fnref10\"\u003e\u003ca href=\"#fn10\" rel=\"footnote\" title='蛇足ですが、変換する数字のうち最も上の桁だけは配列で囲わずに1+[2]+[3]+... とすることができます。最初の+演算子の右辺は文字列となるため問題なく\"123...\"になり、これで2文字節約できます。ほかの桁で[]を外すと、+が複数個連続してしまうためにエラーとなります。'\u003e10\u003c/a\u003e\u003c/sup\u003eと同様にエラーが発生するおそれがあるため注意が必要です。このような場合、文字数は増えてしまいますが\u003ccode\u003ea+[+x][0]\u003c/code\u003eや\u003ccode\u003ea+(+x)\u003c/code\u003eのような形で囲うことで、意図しない\u003ccode\u003e+\u003c/code\u003eの連続を防ぐことができます。 \u003ca href=\"#fnref11\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn12\"\u003e\n\u003cp\u003e\u003csup id=\"fnref7\"\u003e\u003ca href=\"#fn7\" rel=\"footnote\" title='配列aをhint値\"default\"または\"string\"でプリミティブに変換すると、a.toString()が実行され、a.join()の結果が返ります。 https://www.ecma-international.org/ecma-262/#sec-array.prototype.tostring'\u003e7\u003c/a\u003e\u003c/sup\u003eと同様に\u003ccode\u003eArray.prototype.join()\u003c/code\u003eが呼び出されますが、\u003ccode\u003eArray(2)\u003c/code\u003eより\u003ccode\u003elength\u003c/code\u003eは2となっており、また0番目と1番目の要素は\u003ccode\u003eundefined\u003c/code\u003eとして扱われますが、\u003ccode\u003eundefined\u003c/code\u003eと\u003ccode\u003enull\u003c/code\u003eは\u003ccode\u003ejoin()\u003c/code\u003eの処理では空文字列に置換されるため、結果として\u003ccode\u003e\",\"\u003c/code\u003eが返ります \u003ca href=\"https://www.ecma-international.org/ecma-262/#sec-array.prototype.join\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.ecma-international.org/ecma-262/#sec-array.prototype.join\u003c/a\u003e \u003ca href=\"#fnref12\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn13\"\u003e\n\u003cp\u003e2本目を書くのに3ヶ月も空けたのにまだ次回作を書く気があるんですか？？？(大幅に間が空いてしまい申し訳ないです、第3回も気長にお待ちください) \u003ca href=\"#fnref13\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn14\"\u003e\n\u003cp\u003e書いたクロージャに名前をつけるなどしておき、文字列に型変換すれば文字列化された実装が得られます \u003ca href=\"#fnref14\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003c/ol\u003e\n\u003c/div\u003e\n","body":"おことわり:\n前回の記事を投稿したところ、「モバイル端末で読もうとすると、ページを開いた瞬間にブラウザがフリーズして落ちる」というお声を頂きました。\n単行で1万文字超にも及ぶ記号プログラムにシンタックスハイライトがかかることで、大量の`span`タグが生成されて高負荷となるようです。\n対策として、横幅が画面に収まらないほどの巨大な記号プログラムについてはハイライトを行わない、または記事中には掲載せず、代わりにGistへのリンクを記載するようにしています。\n\n---\n\n[第1回](https://qiita.com/Tatamo/items/24099958b90cbed61d67)ではJavaScript記号プログラミングについての基礎的な考え方を中心として取り上げました。\nそのため、実際に記号だけでコードを書く場面では、「このようにすればできますね」というように方向性のみを示すにとどめた箇所が多くあります。\n今回の記事では、JavaScriptプログラムを記号化するプログラムの作成を題材として、前回の記事をなぞりながら、実際に記号だけで書かれたプログラムを扱っていきます。\n\n# レギュレーション\n記号プログラムの制約は、前回に引き続き以下のようなものとします。\n\n - プログラム中に使用してよいのは、`[]()+=`の6種類の記号のみ。\n - ブラウザとnode.jsの両方で動作しなければならない。\n    - よって、明示的な`window`や`global`へのアクセスは禁止。`globalThis`[^1]も(この記事を書いている途中に殆どの処理系で実装が進みましたが)まだ存在しないということにしておきます。\n    - 実行環境は記事執筆時点でのnode.jsとChromeの最新安定版とします。\n\n# 記号プログラム変換器を作る\n今回は、記号プログラミングの実践も兼ねて「JavaScriptプログラムを受け取り、記号化されたプログラムに変換するプログラム」を作ってみます。\nただし、まずは「とりあえず動く」ものを目指すことにします。\n記号プログラミングの常としてものすごい長さのプログラムになるかもしれませんが、今回はそのあたりは特に気にせず進めていきます。\n\n## 仕様と方針\n作るプログラムの仕様は、以下のようにします。\n\n- JavaScriptで書かれたプログラムを文字列として入力する\n- `[]()+=`の6種類の記号のみを使ったプログラムを文字列として出力する\n- 出力結果をJavaScriptとして実行すると、入力として与えたプログラムを実行した場合と同じ処理をする\n\n**入力文字列を1文字ずつ記号で表現して、最後に`eval`に通す**ことにすれば、実装が楽そうでいいですね。そうしましょう。\nJavaScriptプログラム中にはどのような文字が現れるかわからないので、文字ごとに対応する記号表現を用意するのは大変です。\nそこで、`String.prototype.codePointAt()`で全ての文字を単なる整数に変換してしまいましょう。\nそして、記号プログラムの実行時に`String.fromCodePoint()`でもともとの文字列を復元し、それを`eval`で実行させます。\n\nたとえば、`1+1`を実行する場合、`\"1\"`と`\"+\"`のコードポイント値はそれぞれ`49`, `43`ですから、`\"1+1\"`という文字列は`49, 43, 49`という3つの数値の列で表すことができます。\nよって、\n\n```js\neval(String.fromCodePoint(49, 43, 49));\n```\nというプログラムで、`1+1`を実行して計算結果である`2`を得ることができますね。\nこれを記号で表現したコードが生成できれば、どのような入力が来ても大丈夫そうです。\n\nただし、実のところ[前回の記事](https://qiita.com/Tatamo/items/24099958b90cbed61d67)で解説した内容ではメソッド呼び出し時に2つ以上の引数を渡すことが困難です。\n手っ取り早く済みそうなのは、以下のような形式で書いてしまうことです[^2]。\n\n```js\neval(eval(\"String.fromCodePoint(49, 43, 49)\"));\n```\n\n`eval`に加えて`\"eval\"`, `\"String.fromCodePoint\"`という文字列、数値、および`\"'\"`, `\"(\"`, `\")\"`, `\",\"`の文字が記号で表現できれば、このようなプログラムを記号で書くことができます。\n今回は、このような方針で記号プログラム変換器を作っていきます。\n\n## `eval`を得る\n[前回の記事のおさらい](https://qiita.com/Tatamo/items/24099958b90cbed61d67#%E9%96%A2%E6%95%B0%E3%81%AE%E4%BD%9C%E6%88%90%E3%81%A8%E5%AE%9F%E8%A1%8C)をしましょう。\n\n```js\n[][\"find\"][\"constructor\"](\"return eval\")()\n```\nで`eval`への参照が得られるので、このコード中の文字列をすべて記号で表現したものが`eval`に対応する記号プログラムとなります。\nここに含まれている文字は、半角スペースと`acdefilnorstuv`です。\nこれらの文字が全て記号で表現できれば、`+`で足していくことで`\"find\"`, `\"constructor\"`, `\"return eval\"`を構築できます。\n\nこの記事中で数百文字・数千文字の記号コードを全部提示していると紙面がいくらあっても足りませんので、\nhttps://gist.github.com/Tatamo/5762f14941889675c4932972ed17deb8#file-eval-js\nに`eval`を得るまでのコードを記載しています。\n実際に実行することで、記号で書かれた`eval`が出力されます。曰く、\n\n```text\n// === eval\n[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]][[[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]+[]][+[]][++[++[++[+[]][+[]]][+[]]][+[]]]+[[+[]==[]]+[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[[]==[]]+[]][+[]][++[++[++[+[]][+[]]][+[]]][+[]]]+[[+[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[]][+[]][++[+[]][+[]]]+[[+[]==[]]+[]][+[]][++[++[+[]][+[]]][+[]]]+[[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]+[]][+[]][++[++[++[+[]][+[]]][+[]]][+[]]]+[[+[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[]][+[]][++[+[]][+[]]]]([[+[]==[]]+[]][+[]][++[+[]][+[]]]+[[+[]==[]]+[]][+[]][++[++[++[+[]][+[]]][+[]]][+[]]]+[[+[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[]][+[]][++[++[+[]][+[]]][+[]]]+[[+[]==[]]+[]][+[]][++[+[]][+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]+[]][+[]][++[++[++[+[]][+[]]][+[]]][+[]]+[++[+[]][+[]]]]+[[+[]==[]]+[]][+[]][++[++[++[+[]][+[]]][+[]]][+[]]]+[[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]+[]][+[]][++[++[+[]][+[]]][+[]]+[++[++[++[+[]][+[]]][+[]]][+[]]]]+[[[]==[]]+[]][+[]][++[+[]][+[]]]+[[[]==[]]+[]][+[]][++[++[+[]][+[]]][+[]]])()\n```\n\n2,077文字らしいです。これを手で書くのは少し苦労するかもしれませんね。\n\n## `\"String.fromCodePoint\"`を得る\nこちらも[前回の記事で取り上げた内容](https://qiita.com/Tatamo/items/24099958b90cbed61d67#%E9%81%A0%E3%81%99%E3%81%8E%E3%81%9Fc)と被っていますが、`String.fromCodePoint`(または`String.fromCharCode`を得るのは少し複雑な過程を経る必要がありました。\n今回は`String.fromCodePoint`というメソッドそのものではなく、文字列としての`\"String.fromCodePoint\"`を用意する必要がありますが、基本的な方法は変わりません。\n\n```js\nObject.getOwnPropertyNames(String).sort()[1]\n```\n\nというコードを実行して、`\"fromCharCode\"`の文字列を取得することにします。[^3]\nまた、`\"String\"`という文字列は`String.name`から得ることができます。\n\nこれらを文字列を用いたプロパティアクセスの形で書き直して、\n\n```js\n\"\"[\"constructor\"][\"name\"]+\".\"+[][\"entries\"]()[\"constructor\"][\"getOwnPropertyNames\"](\"\"[\"constructor\"])[\"sort\"]()[1]\n```\n\nここに含まれる文字は、`acegimnoprstuwyNOP.`です。\nこの中で、入手にやや難がある文字は`\"p\"`, `\"w\"`, `\"P\"`でしょう。\nこれらは、以下のようにして取得する必要がありました。\n\n```js\nconst p = (25).toString(36); // \"p\"\nconst w = (32).toString(36); // \"w\"\nconst P = (Function(\"return async \"+Function())()()+\"\")[8] // \"[object Promise]\"[8] === \"P\"\n```\nここで、`\"toString\"`を構築するための`\"String\"`は`\"\"[\"constructor\"][\"name\"]`で取得でき、他の文字は既に取得済みのものです。\n\n以上の内容をもとに、`\"String.fromCodePoint\"`の記号表現を得るためのコードは\nhttps://gist.github.com/Tatamo/5762f14941889675c4932972ed17deb8#file-fromcodepoint-js\nとなります。\nこれを実行してみると、22,564文字の記号プログラムが出力されます。さすがに長いですね。\n\n## 自然数を記号に変換する\n次は、実行したいプログラムのそれぞれの文字のコードポイント値を記号の形で表現することを考えましょう。\n### とりあえずインクリメントで作ってみる\n`0`は`+[]`で表現することができ、`++[n][0]`と書けば`n+1`を得ることができるのでした。\nよって0以上の整数は帰納的に構築可能であり、これに従うと、自然数を記号表現に変換する処理は以下のように書くことができます。\n\n```js\nfunction convertNumber(n) {\n  const zero = \"+[]\";\n  if (n === 0) return zero;\n  return `++[${convertNumber(n - 1)}][${zero}]`;\n}\n```\n\n`eval(convertNumber(n))`とした結果が`n`となりますが、このプログラムには以下の3つの問題があります。\n\n1. 出力結果が長すぎる\n2. $n=20000$ ぐらい[^4]で`convertNumber(n)`がスタックオーバーフローを起こす\n3. それより前に、$n=800$ ぐらいで`eval(convertNumber(n))`がスタックオーバーフローを起こす\n\n1.の問題として、数値をインクリメントするのに9文字必要になるので、単純に作りたい数を9倍した数(に`0`を表現するための3文字分を足した数)がその数値を表現するためのコードの文字数になります。\nそもそも記号プログラムを書いている時点でコードがものすごい長さになるのは織り込み済みですが、しかし`100`を表現するのに900文字では、さすがに割に合わない気がします。\n\n2.は単純に再帰呼び出しをネストしすぎてコールスタックを使い果たすために起きるエラーであり、何も考えずに再帰関数を書いた際に起きがちな問題ですね。\n[ES2019](https://www.ecma-international.org/ecma-262/10.0/)がリリースされたというのに、未だにES2015仕様である末尾再帰最適化をサポートする主要な処理系がSafariしかない[^5]ので、この関数を末尾再帰の形に書き直したとしても問題は解決しません。\n\n再帰を使わずにループで書き直せば1.の問題は解決する、と思いきや、結局3.の問題が生じます。\n`convertNumber(n)`で記号コードの生成に成功しても、それを`eval`するときに配列の添字アクセスがネストしすぎてしまうため、やはりスタックオーバーフローが発生してしまいます。[^6]\n\n\n### 一桁ずつ生成し、文字列として結合する\nそこで、はじめからすべて数値として作るのではなく、一桁ずつ個別に生成したのち、文字列として繋ぎ合わせて目的の数を作ることにします。\nたとえば`42`を作る場合、`\"4\"+\"2\"`で`\"42\"`を作り、`+\"42\"`とすれば目的の`42`を得ることができますね。\nさらに記号プログラム的な書き方に寄せると、 `+[[4]+[2]]`と書くことができます。\n\n(`[4]+[2]`の部分では、二項演算`+`によって`[4]`と`[2]`が暗黙的にプリミティブに変換され、それぞれ`\"4\"`と`\"2\"`になって[^7]文字列の結合が行われます。つまり`+[\"42\"]`になりますが、hint値`\"number\"`のもとでの配列からプリミティブへの変換は、まず`[\"42\"].valueOf()`が`[\"42\"]`自身を返すために失敗し、フォールバックとして`[\"42\"].toString()`が呼び出されることになり、結局`[\"42\"]`は暗黙的に`\"42\"`に変換されるため、`+\"42\"`が評価されて`42`になります。[^8] [^9])\n\nそのように書き直したのが、以下のコードになります。[^10]\n\n```js\nfunction convertNumber(n) {\n  const str = [...n.toString(10)]\n    .map(c =\u003e Number.parseInt(c, 10))\n    .map(d =\u003e `[${\"++[\".repeat(d)}+[]${\"][+[]]\".repeat(d)}]`)\n    .join(\"+\");\n  return `+[${str}]`;\n}\n```\n\n`eval(convertNumber(42))` などと実行してみれば、正しく`42`が返ることがわかります。\n`convertNumber(Number.MAX_SAFE_INTEGER)`のように大きな数を与えても問題なく実行できますね。\n\nただし、ここでは単項演算子`+`で数値型に再変換していますが、配列の添え字アクセスで使用する場合などは文字列のままでも全く問題ない(`a[1]`と`a[\"1\"]`は同じ)ため、わざわざ数値に戻す必要がないことも多いです。\n今回の場合も、必要とされているのは`\"42\"`のような「数値を表す文字列」なので、``return `+[${str}]`;`` のかわりに `return str;`で文字列として返すだけで十分です。[^11]\n以後、この記事では`convertNumber(n)`は`[4]+[2]`のようにして得られる文字数をそのまま返す実装とみなします。\n\n## 残りの文字を集める\n`\"(\"` と `\")\"` は適当な関数を文字列キャストすることで取得できます。\n\n```js\n[][\"find\"]+[] // === \"function find() { [native code] }\"\n[[][\"find\"]+[]][0][13] // === \"(\"\n[[][\"find\"]+[]][0][14] // === \")\"\n```\n\n`\",\"`は、要素が複数ある配列を`join()`するか、文字列に変換することで得ることができます。[^12]\n\n```js\n[][\"constructor\"](2)+[] // Array(2)+\"\" === \",\"\n```\n\nこれらの記号表現は、\n\n```text\n// === \"(\"\n[[][[[][[]]+[]][+[]][++[++[++[++[+[]][+[]]][+[]]][+[]]][+[]]]+[[][[]]+[]][+[]][++[++[++[++[++[+[]][+[]]][+[]]][+[]]][+[]]][+[]]]+[[][[]]+[]][+[]][++[+[]][+[]]]+[[][[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]+[]][+[]][++[+[]][+[]]+[++[++[++[+[]][+[]]][+[]]][+[]]]]\n\n// === \")\"\n[[][[[][[]]+[]][+[]][++[++[++[++[+[]][+[]]][+[]]][+[]]][+[]]]+[[][[]]+[]][+[]][++[++[++[++[++[+[]][+[]]][+[]]][+[]]][+[]]][+[]]]+[[][[]]+[]][+[]][++[+[]][+[]]]+[[][[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]+[]][+[]][++[+[]][+[]]+[++[++[++[++[+[]][+[]]][+[]]][+[]]][+[]]]](+[[++[++[+[]][+[]]][+[]]]])\n\n// === \",\"\n[[][[[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]+[]][+[]][++[++[++[+[]][+[]]][+[]]][+[]]]+[[+[]==[]]+[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[[]==[]]+[]][+[]][++[++[++[+[]][+[]]][+[]]][+[]]]+[[+[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[]][+[]][++[+[]][+[]]]+[[+[]==[]]+[]][+[]][++[++[+[]][+[]]][+[]]]+[[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]+[]][+[]][++[++[++[+[]][+[]]][+[]]][+[]]]+[[+[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[][[[[]==[]]+[]][+[]][+[]]+[[+[]==[]]+[+[]]+[][+[]]+[]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[][+[]]][+[]][++[+[]][+[]]+[+[]]]+[[][+[]]+[]][+[]][++[++[+[]][+[]]][+[]]]]][+[]][++[+[]][+[]]+[+[]]]+[[+[]==[]]+[]][+[]][++[+[]][+[]]]](++[++[+[]][+[]]][+[]])+[]][+[]]\n```\nとなります。\n\n## 完成\nさて、これで\n\n```js\neval(eval(\"String.fromCodePoint(49, 43, 49)\"));\n```\nを実行するために必要なものが揃いましたね。\n\nあとは、入力プログラムを受け取って、コードポイントの列に変換して、さらに記号に変換することができれば完成です。\n\n```js\n/**\n * @returns {string}\n */\nfunction convertNumber(n) {\n  // ここでは上の例とは異なり、数値に再キャストせずに文字列のまま返している\n  return [...n.toString(10)]\n    .map(c =\u003e Number.parseInt(c, 10))\n    .map(d =\u003e `[${\"++[\".repeat(d)}+[]${\"][+[]]\".repeat(d)}]`)\n    .join(\"+\");\n}\n// 実際にはすべて記号だけで書かれた表現を入れる\nconst _eval = \"eval\"; // ここだけevalするとeval自身になる、他は文字列となることに注意\nconst _String_dot_fromCodePoint = '\"String.fromCodePoint\"';\nconst _comma = '\",\"';\nconst _lparen = '\"(\"';\nconst _rparen = '\")\"';\nfunction convertProgram(src){\n  const codes = [...src]\n    .map(c =\u003e c.codePointAt())\n    .map(convertNumber)\n    .join(`+${_comma}+`);\n  return `${_eval}(${_eval}(${_String_dot_fromCodePoint}+${_lparen}+${codes}+${_rparen}))`;\n}\n```\nここではコード長の制約から、本来記号で表現するところを元の表現で書いています。\n実際に`[]+=()`の6種類の記号のみからなる記号プログラムを出力するコードは、\nhttps://gist.github.com/Tatamo/5762f14941889675c4932972ed17deb8#file-convertprogram-js\nに掲載しています。\n\n```js\nconvertProgram('console.log(\"Hello, World!\");');\n```\nで`console.log(\"Hello, World!\");`というプログラムを記号のみで表したものが得られます。\n(https://gist.github.com/Tatamo/5762f14941889675c4932972ed17deb8#file-helloworld-js )\n得られた出力をコピーしてJavaScript処理系に投げるか、または\n\n```js\neval(convertProgram('console.log(\"Hello, World!\");'));\n```\nとすれば、コンソールに`Hello, World!`と表示されます。\n\n## 結果\n出力された`Hello, World!`プログラムの長さを数えてみたところ、60,831文字でした。\n前回の記事冒頭に記載したものは14,178文字でしたから、大幅に悪化している気がしますね？\n\n今回作成した変換器で出力されるプログラムは、\n\n```js\neval(eval(\"String.fromCodePoint(1,2,3,...)\"));\n```\nという形のコードを記号だけで書いたものでした。\nこのコードのそれぞれの部分の文字数を見てみると、\n\n|式| 文字数|\n|---|---:|\n|`eval`|2,077|\n|`\"String.fromCodePoint\"`|22,564|\n|`\"(\"`|224|\n|`\",\"`|1,123|\n|`\")\"`|233|\n|数字|1桁あたり3～84文字程度|\n\nのようになっています。\n数字部分は、先述したように一桁ずつ生成してから文字列として結合しており、一桁ごとの文字数は、その数字を $d$ とすると $3+9d$ 文字となります。\nASCII文字に含まれる文字ならコードポイント値は128未満で収まりますから、ほとんどの場合で一文字ごとの文字数は多くても200文字と考えることができそうです。\n\n`\"String.fromCodePoint\"`部分にかなりの文字数を要していますが、全体で見れば6万文字のうちの4割未満に収まっています。\nどうやら今回のコードでは、`\",\"`の文字がプログラム長の肥大化を招いているようです。\n文字を一文字表現するたびに`\",\"`で繋いでいくことになりますから、変換元のプログラムの長さが長くなるにつれて`\",\"`を表す部分の割合がどんどん高くなっていくことが予想されます。\n変換元のプログラムの長さが1文字増えるごとに、出力されるプログラムの長さが1,000文字以上増えることになりますから、これでは数値を短く表現できるようにした意味がありませんね。\n\n# まとめ・次回予告[^13]\n今回の記事では、実際に記号のみでJavaScriptプログラムを記述する過程を見ていくとともに、プログラムを記号化するプログラムを(記号プログラムではないJavaScript上で)実装していきました。\n扱うプログラムが複雑になるにしたがって、記号プログラムを人力で記述していくのは困難になってくるため、「記号プログラムを文字列として出力するプログラム」を用意しておくことは重要になります。\n\nとはいえ今回は[第1回](https://qiita.com/Tatamo/items/24099958b90cbed61d67)で示した概念の実証という意味合いが強く、結果として得られた変換器は出力するプログラムの大きさという点で大いに改善の余地があります。\nそこで次回は、文字数短縮をはじめとした記号プログラミング(および記号プログラムを出力するプログラムのプログラミング)におけるテクニックの紹介などを書いてみたいと思っています。\nまた、そろそろ「記号プログラム」「文字列化したJavaScriptプログラム」「文字列化した記号プログラム」あたりの高階的な概念が頻出し始め、ごちゃごちゃになってきて混乱を招くので、いい感じに表現できるモデルが欲しい気もします。\n\nいよいよ皆さんも記号化されたJavaScriptプログラムが書けるようになってきたことと思いますので、次回はより黒魔術と呼べるような闇の深いコードを提示できるように進捗を生んでいきたいと考えています。\n\n# おまけ\n前回、[**記号プログラムコンパイラを記号プログラムで書く**](https://qiita.com/Tatamo/items/24099958b90cbed61d67#%E3%81%BE%E3%81%A8%E3%82%81%E6%AC%A1%E5%9B%9E%E4%BA%88%E5%91%8A)とか言っていたような気がしますね。\n先程作った https://gist.github.com/Tatamo/5762f14941889675c4932972ed17deb8#file-convertprogram-js の全体をクロージャで囲って、\n\n```js\n(function(){\n  // ここから記号プログラム変換器\n  const maping = ...\n  ...\n  function convertProgram(src){ ... }\n  // ここまで\n\n  return convertProgram;\n})()\n```\nこういう感じのプログラムを作って、\n\n```js\nconst program = \"(function(){ const mapping = ...; ...; return convertProgram;})()\"\n```\n文字列にしてから[^14]自分自身に食べさせて、\n\n```js\nconvertProgram(program); // 記号で書かれた記号プログラム変換器\n```\n\n**できましたね。**\n\n敢えてソースコードを示すことはしませんが、やってみたところ6MB程度(6,000,000文字オーバー)の記号プログラムが生成されました。\n\n```js\neval(eval(convertProgram(program))('console.log(\"Hello, World!\");'));\n```\nを実行してみたところ、結果が返るまでに数秒かかりましたが正しく`Hello, World!`とコンソールに表示されました。\nというわけで、使えたものではありませんが「記号プログラムで書かれた記号プログラムコンパイラ」が作成できました。めでたし。\n\n[^1]: [https://github.com/tc39/proposal-global](https://github.com/tc39/proposal-global), [👻globalThis👻と🌏global🌏と🌝this🌝](https://qiita.com/uhyo/items/f3b6feef9444e86bef94)\n\n[^2]: 他に、`eval(String.fromCodePoint(49)+String.fromCodePoint(43)+String.fromCodePoint(49));`という形式で書くことも考えられます。とはいえこれは出力コードの長さがとんでもないことになりそうなので、今回は採用しないことにします。\n\n[^3]: 前回の記事でも指摘した点ですが、この実装の動作は`String`オブジェクトに存在する他のメソッドの名前に依存するため、将来に渡って正しく動作する保証はありません。今回は簡単のためこのようなコードにしていますが、この時点で手に入っている文字のみで確実に`\"C\"`を得られる方法として、 `Object.getOwnPropertyNames(String).join(\"\").split(\"\").filter(eval(\"Function.bind(undefined,(undefined+[])[0])\")(\"return [true][u.codePointAt()-67]\"))[0]`を提示しておきます。\n\n[^4]: スタックに割り当てられている領域のサイズは処理系によって異なります。node.js(V8)のデフォルトは984KBで、本記事ではこれを基準としています。\n\n[^5]: https://kangax.github.io/compat-table/es6/#test-proper_tail_calls_(tail_call_optimisation)\n\n[^6]: とはいっても800前後でスタックオーバーフローになるのは結構意外でした。配列の添字アクセスって普通の関数呼び出しの数倍以上もコールスタックを消費するんでしょうか？\n\n[^7]: 配列`a`をhint値`\"default\"`または`\"string\"`でプリミティブに変換すると、`a.toString()`が実行され、`a.join()`の結果が返ります。 https://www.ecma-international.org/ecma-262/#sec-array.prototype.tostring\n\n[^8]: べつに真面目に読まなくていいです\n\n[^9]: [JavaScriptのプリミティブへの変換を完全に理解する](https://qiita.com/uhyo/items/44c2f79873de13186743)\n\n[^10]: 蛇足ですが、変換する数字のうち最も上の桁だけは配列で囲わずに`1+[2]+[3]+...` とすることができます。最初の`+`演算子の右辺は文字列となるため問題なく\"123...\"になり、これで2文字節約できます。ほかの桁で`[]`を外すと、`+`が複数個連続してしまうためにエラーとなります。\n\n[^11]: むしろ、前者では先頭に単項演算子の`+`が存在するため、返り値に対して前から`+`二項演算子を適用しようとすると`a++x`のような形となってしまい、[^10]と同様にエラーが発生するおそれがあるため注意が必要です。このような場合、文字数は増えてしまいますが`a+[+x][0]`や`a+(+x)`のような形で囲うことで、意図しない`+`の連続を防ぐことができます。\n\n[^12]: [^7]と同様に`Array.prototype.join()`が呼び出されますが、`Array(2)`より`length`は2となっており、また0番目と1番目の要素は`undefined`として扱われますが、`undefined`と`null`は`join()`の処理では空文字列に置換されるため、結果として`\",\"`が返ります https://www.ecma-international.org/ecma-262/#sec-array.prototype.join\n\n[^13]: 2本目を書くのに3ヶ月も空けたのにまだ次回作を書く気があるんですか？？？(大幅に間が空いてしまい申し訳ないです、第3回も気長にお待ちください)\n\n[^14]: 書いたクロージャに名前をつけるなどしておき、文字列に型変換すれば文字列化された実装が得られます\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T19:34:35+09:00","group":null,"id":"b9d190530841211dc290","likes_count":2,"private":false,"reactions_count":0,"tags":[{"name":"JavaScript","versions":[]},{"name":"黒魔術","versions":[]},{"name":"Esolang","versions":[]},{"name":"記号プログラミング","versions":[]}],"title":"本格JavaScript記号プログラミング(2) 記号プログラム変換器を作ろう","updated_at":"2019-07-09T19:34:35+09:00","url":"https://qiita.com/Tatamo/items/b9d190530841211dc290","user":{"description":"最近はTypeScriptやF#を書いています","facebook_id":"","followees_count":2,"followers_count":7,"github_login_name":"Tatamo","id":"Tatamo","items_count":2,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":271892,"profile_image_url":"https://avatars2.githubusercontent.com/u/7436417?v=4","team_only":false,"twitter_screen_name":"__tatamo__","website_url":"http://tatamo.81.la/"},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"複数のカテゴライズを一つのnnで行いたい\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A4%87%E6%95%B0%E3%81%AE%E3%82%AB%E3%83%86%E3%82%B4%E3%83%A9%E3%82%A4%E3%82%BA%E3%82%92%E4%B8%80%E3%81%A4%E3%81%AEnn%E3%81%A7%E8%A1%8C%E3%81%84%E3%81%9F%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e複数のカテゴライズを一つのnnで行いたい\u003c/h1\u003e\n\n\u003cp\u003e（複数出力のやり方は、たくさんあるので書きません）\u003c/p\u003e\n\n\u003cp\u003eファッションサーチファンネル\u003cbr\u003e\n\u003ca href=\"https://funnel-service.com\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://funnel-service.com\u003c/a\u003e\u003cbr\u003e\nのセラーデータベースを構築するために商品紹介文から売っている服の分類をしている。\u003c/p\u003e\n\n\u003cp\u003e男女の判別も行いたいので、複数出力でやってみた。\u003c/p\u003e\n\n\u003cp\u003eモデルの構築コードはこんな感じ\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"py\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\n\u003cspan class=\"n\"\u003ecat_inputs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etf\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ekeras\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eshape\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emax_words\u003c/span\u003e\u003cspan class=\"p\"\u003e,))\u003c/span\u003e\n\u003cspan class=\"n\"\u003esentence_inputs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etf\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ekeras\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eshape\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emax_words\u003c/span\u003e\u003cspan class=\"p\"\u003e,))\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# 結合\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003ec\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etf\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ekeras\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elayers\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econcatenate\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"n\"\u003ecat_inputs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003esentence_inputs\u003c/span\u003e \u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003ex2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etf\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ekeras\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elayers\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBatchNormalization\u003c/span\u003e\u003cspan class=\"p\"\u003e()(\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003ex2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etf\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ekeras\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elayers\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDense\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e128\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eactivation\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'relu'\u003c/span\u003e\u003cspan class=\"p\"\u003e)(\u003c/span\u003e\u003cspan class=\"n\"\u003ex2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003ex2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etf\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ekeras\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elayers\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBatchNormalization\u003c/span\u003e\u003cspan class=\"p\"\u003e()(\u003c/span\u003e\u003cspan class=\"n\"\u003ex2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003ex2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etf\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ekeras\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elayers\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDense\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e128\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eactivation\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'relu'\u003c/span\u003e\u003cspan class=\"p\"\u003e)(\u003c/span\u003e\u003cspan class=\"n\"\u003ex2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003ex2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etf\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ekeras\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elayers\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDense\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eactivation\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'sigmoid'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003ename\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"gend\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)(\u003c/span\u003e\u003cspan class=\"n\"\u003ex2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etf\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ekeras\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elayers\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBatchNormalization\u003c/span\u003e\u003cspan class=\"p\"\u003e()(\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etf\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ekeras\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elayers\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDense\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e128\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eactivation\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'relu'\u003c/span\u003e\u003cspan class=\"p\"\u003e)(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etf\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ekeras\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elayers\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBatchNormalization\u003c/span\u003e\u003cspan class=\"p\"\u003e()(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etf\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ekeras\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elayers\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDense\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e128\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eactivation\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'relu'\u003c/span\u003e\u003cspan class=\"p\"\u003e)(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etf\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ekeras\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elayers\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDense\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003enum_classes\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eactivation\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'sigmoid'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003ename\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'class'\u003c/span\u003e\u003cspan class=\"p\"\u003e)(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\n\u003cspan class=\"n\"\u003emodel\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etf\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ekeras\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModel\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einputs\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ecat_inputs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003esentence_inputs\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003eoutputs\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003ex2\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\n\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/cadaeff16359b3a863462f4d932fe8ac25002c54/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3138353034392f38636537643362332d343438612d616639612d316363392d6134646635343038613866382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/cadaeff16359b3a863462f4d932fe8ac25002c54/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3138353034392f38636537643362332d343438612d616639612d316363392d6134646635343038613866382e706e67\" alt=\"Figure_12.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/185049/8ce7d3b3-448a-af9a-1cc9-a4df5408a8f8.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e↑二つのval線（緑と赤）のスイートスポットがずれている。こりゃだめだ。。。別々に学習してみる。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/009738cf69ee45a535c6c9f47f6ff7a6e4ac432b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3138353034392f30663561616262332d346138332d396138332d633539312d3130346565363663353039322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/009738cf69ee45a535c6c9f47f6ff7a6e4ac432b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3138353034392f30663561616262332d346138332d396138332d633539312d3130346565363663353039322e706e67\" alt=\"11Figure_1.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/185049/0f5aabb3-4a83-9a83-c591-104ee66c5092.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e↑商品分類だけで学習。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/0e411b799322f4b9821ed755363c6b85f261f065/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3138353034392f35376135306230612d303230352d366164382d326533322d3737633361616564373130622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://camo.qiitausercontent.com/0e411b799322f4b9821ed755363c6b85f261f065/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3138353034392f35376135306230612d303230352d366164382d326533322d3737633361616564373130622e706e67\" alt=\"123Figure_1.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/185049/57a50b0a-0205-6ad8-2e32-77c3aaed710b.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e↑性別分類だけで学習。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"結果\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E6%9E%9C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結果\u003c/h1\u003e\n\n\u003cp\u003eスイートスポットがとりやすいので別々のモデルとして学習したほうがいい。\u003cbr\u003e\n他のケースではわからないけど、今回の複数出力は効率が悪いことが分かった。\u003c/p\u003e\n","body":"# 複数のカテゴライズを一つのnnで行いたい\n\n（複数出力のやり方は、たくさんあるので書きません）\n\nファッションサーチファンネル\nhttps://funnel-service.com\nのセラーデータベースを構築するために商品紹介文から売っている服の分類をしている。\n\n男女の判別も行いたいので、複数出力でやってみた。\n\nモデルの構築コードはこんな感じ\n\n```py\n\ncat_inputs = tf.keras.Input(shape=(max_words,))\nsentence_inputs = tf.keras.Input(shape=(max_words,))\n\n# 結合\n\nc = tf.keras.layers.concatenate([cat_inputs,sentence_inputs ])\n\nx2 = tf.keras.layers.BatchNormalization()(c)\nx2 = tf.keras.layers.Dense(128, activation='relu')(x2)\nx2 = tf.keras.layers.BatchNormalization()(x2)\nx2 = tf.keras.layers.Dense(128, activation='relu')(x2)\nx2 = tf.keras.layers.Dense(3, activation='sigmoid',name=\"gend\")(x2)\n\nx = tf.keras.layers.BatchNormalization()(c)\nx = tf.keras.layers.Dense(128, activation='relu')(x)\nx = tf.keras.layers.BatchNormalization()(x)\nx = tf.keras.layers.Dense(128, activation='relu')(x)\nx = tf.keras.layers.Dense(num_classes, activation='sigmoid',name='class')(x)\n\n\nmodel = tf.keras.Model(inputs=[cat_inputs,sentence_inputs], outputs=[x,x2])\n\n\n```\n\n\n\n![Figure_12.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/185049/8ce7d3b3-448a-af9a-1cc9-a4df5408a8f8.png)\n\n↑二つのval線（緑と赤）のスイートスポットがずれている。こりゃだめだ。。。別々に学習してみる。\n\n\n![11Figure_1.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/185049/0f5aabb3-4a83-9a83-c591-104ee66c5092.png)\n\n↑商品分類だけで学習。\n\n![123Figure_1.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/185049/57a50b0a-0205-6ad8-2e32-77c3aaed710b.png)\n\n↑性別分類だけで学習。\n\n# 結果\n\nスイートスポットがとりやすいので別々のモデルとして学習したほうがいい。\n他のケースではわからないけど、今回の複数出力は効率が悪いことが分かった。\n\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T19:29:11+09:00","group":null,"id":"cbf7a777d75715df019d","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"機械学習","versions":[]},{"name":"Keras","versions":[]}],"title":"複数出力のnnを学習させたら、効率悪かった。機械学習で商品分類と対象性別判断","updated_at":"2019-07-09T19:29:11+09:00","url":"https://qiita.com/mokoenator/items/cbf7a777d75715df019d","user":{"description":"(´,,･ω･,,`)儲かる仕事ください","facebook_id":"","followees_count":2,"followers_count":9,"github_login_name":null,"id":"mokoenator","items_count":27,"linkedin_id":"","location":"","name":"もりもと こうじ","organization":"","permanent_id":185049,"profile_image_url":"https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=50","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\u003cp\u003eフォームの入力値を編集したときなどに表示される「このサイトを離れますか？」というポップアップを非表示にする方法です。\u003c/p\u003e\n\n\u003cp\u003e色々と調べましたが、\u003ccode\u003eObject.defineProperty\u003c/code\u003eの setter で検知して値を上書きすると確実でした。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"nb\"\u003eObject\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edefineProperty\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003ewindow\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'onbeforeunload'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003enewValue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003etypeof\u003c/span\u003e \u003cspan class=\"nx\"\u003enewValue\u003c/span\u003e \u003cspan class=\"o\"\u003e===\u003c/span\u003e \u003cspan class=\"s1\"\u003e'function'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"nb\"\u003ewindow\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eonbeforeunload\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eちなみに \u003ccode\u003eif (typeof newValue === 'function')\u003c/code\u003e 等のチェックがないと変更を検知し続けて無限ループになり、スタックが大変なことになるで気をつけましょう。\u003c/p\u003e\n\n\u003cp\u003eまた、もし他に良い方法をご存知の方がいたらコメントで教えてください🙏\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"参考\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\" rel=\"nofollow noopener\" target=\"_blank\"\u003eObject.defineProperty() - JavaScript | MDN\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://kitak.hatenablog.jp/entry/2015/08/26/221110\" rel=\"nofollow noopener\" target=\"_blank\"\u003eJavaScriptのプロパティの上書きを検知する - kitak's blog\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","body":"フォームの入力値を編集したときなどに表示される「このサイトを離れますか？」というポップアップを非表示にする方法です。\n\n色々と調べましたが、`Object.defineProperty`の setter で検知して値を上書きすると確実でした。\n\n```js\nObject.defineProperty(window, 'onbeforeunload', {\n  set(newValue) {\n    if (typeof newValue === 'function') window.onbeforeunload = null;\n  }\n});\n```\n\nちなみに `if (typeof newValue === 'function')` 等のチェックがないと変更を検知し続けて無限ループになり、スタックが大変なことになるで気をつけましょう。\n\nまた、もし他に良い方法をご存知の方がいたらコメントで教えてください🙏\n\n## 参考\n- [Object\\.defineProperty\\(\\) \\- JavaScript \\| MDN](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty)\n- [JavaScriptのプロパティの上書きを検知する \\- kitak's blog](https://kitak.hatenablog.jp/entry/2015/08/26/221110)\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T19:22:15+09:00","group":null,"id":"619eba9633f6b581cd52","likes_count":1,"private":false,"reactions_count":0,"tags":[{"name":"JavaScript","versions":[]},{"name":"ポップアップ","versions":[]}],"title":"ページ遷移時の「このサイトを離れますか？」を意地でも表示しない方法","updated_at":"2019-07-09T19:22:15+09:00","url":"https://qiita.com/y-temp4/items/619eba9633f6b581cd52","user":{"description":"フリーランスエンジニア。Webのフロントエンドやブロックチェーン関連の技術に興味があります。お仕事のご連絡はTwitterのDMまで！","facebook_id":"","followees_count":15,"followers_count":51,"github_login_name":"y-temp4","id":"y-temp4","items_count":45,"linkedin_id":"","location":"Tokyo","name":"Yuki Terashima","organization":"","permanent_id":90682,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/90682/profile-images/1536713671","team_only":false,"twitter_screen_name":"y_temp4","website_url":"http://blog.y-temp4.com/"},"page_views_count":null},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"前提\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%89%8D%E6%8F%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e前提\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003eJenkinsはMaster-Slave環境にしている。\u003c/li\u003e\n\u003cli\u003eJenkins側でJUnitのテストを実施している。\u003c/li\u003e\n\u003cli\u003eGradleを利用。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"問題\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%95%8F%E9%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e問題\u003c/h1\u003e\n\n\u003cp\u003eJenkins側でUnitTestが終わらないという報告を受ける。ローカルで実行すると問題ないのとこと。JenkinsfileでTimeoutの設定をしているので、暫定対処としてそれを伸ばしてみたがそれでも解決しない。\u003c/p\u003e\n\n\u003cp\u003eJenkinsのログを見ると、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003eCaused by:\n            java.lang.OutOfMemoryError: GC overhead limit exceeded\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eだったり、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e java.lang.OutOfMemoryError: Java heap space\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eみたいなログが出てる。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"解析\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A7%A3%E6%9E%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e解析\u003c/h1\u003e\n\n\u003cp\u003etopで見たところ、以下のプロセスがCPU負荷が高い。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003ejenkins  23101 22201 99 18:54 ?        00:06:34 /usr/java/jdk1.8.0_144/bin/java -Djava.security.manager=worker.org.gradle.process.internal.worker.child.BootstrapSecurityManager -Dorg.gradle.native=false -javaagent:build/tmp/expandedArchives/org.jacoco.agent-0.7.10-SNAPSHOT.jar_xxxxxx/jacocoagent.jar=destfile=build/jacoco/test.exec,append=true,inclnolocationclasses=false,dumponexit=true,output=file,jmx=false -Dfile.encoding=UTF-8 -Duser.country=JP -Duser.language=ja -Duser.variant -ea -cp /xxxxx/gradle-worker.jar worker.org.gradle.process.internal.worker.GradleWorkerMain 'Gradle Test Executor 1\u003c/code\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"原因判明\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8E%9F%E5%9B%A0%E5%88%A4%E6%98%8E\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e原因判明！\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"http://kitaru.hatenadiary.com/entry/2014/09/03/Java%E3%82%A2%E3%83%97%E3%83%AA%E3%81%8C%E6%9A%B4%E8%B5%B0%E3%81%97%E3%81%A6CPU%E3%81%8C%E6%AD%BB%E3%82%93%E3%81%A0%E6%99%82%E3%81%AB%E3%82%84%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://kitaru.hatenadiary.com/entry/2014/09/03/Java%E3%82%A2%E3%83%97%E3%83%AA%E3%81%8C%E6%9A%B4%E8%B5%B0%E3%81%97%E3%81%A6CPU%E3%81%8C%E6%AD%BB%E3%82%93%E3%81%A0%E6%99%82%E3%81%AB%E3%82%84%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8\u003c/a\u003e\u003cbr\u003e\n上記を参考に、当該プロセスをjstackなりなんなりで調査すると、被疑箇所はここ。\u003cbr\u003e\n\u003ccode\u003e\u003cbr\u003e\n\"GC task thread#0 (ParallelGC)\" os_prio=0 tid=0x00007f47f801f000 nid=0x6fcc runnable\u003cbr\u003e\n\u003c/code\u003e\u003cbr\u003e\nOh…。GC負荷か。ということはHeapのチューニングですね。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"対処\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AF%BE%E5%87%A6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e対処\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://kamatama41.hatenablog.com/entry/2018/07/15/170125\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://kamatama41.hatenablog.com/entry/2018/07/15/170125\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eローカルで\u003ccode\u003egradle test\u003c/code\u003eを実行すると、heapを2G強利用していたため、上記と同様build.gradleのtestタスクを変更。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003etest {\n    maxHeapSize = \"3g\"\n}\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこんな感じで解決。20分くらいで終わるようになった。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eGradle自体はこちらによるとデフォルトでは1024MBヒープサイズを確保するようなのですが、 test タスクはビルドプロセスとは別のJVMを使うようになっており、そこにはこの制限が適用されないようです。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eこの話は知らなかったよ…。\u003c/p\u003e\n","body":"# 前提\n- JenkinsはMaster-Slave環境にしている。\n- Jenkins側でJUnitのテストを実施している。\n- Gradleを利用。\n\n# 問題\nJenkins側でUnitTestが終わらないという報告を受ける。ローカルで実行すると問題ないのとこと。JenkinsfileでTimeoutの設定をしているので、暫定対処としてそれを伸ばしてみたがそれでも解決しない。\n\nJenkinsのログを見ると、\n\n```\nCaused by:\n            java.lang.OutOfMemoryError: GC overhead limit exceeded\n```\nだったり、\n\n```\n java.lang.OutOfMemoryError: Java heap space\n```\n\nみたいなログが出てる。\n\n# 解析\ntopで見たところ、以下のプロセスがCPU負荷が高い。\n\n\n`jenkins  23101 22201 99 18:54 ?        00:06:34 /usr/java/jdk1.8.0_144/bin/java -Djava.security.manager=worker.org.gradle.process.internal.worker.child.BootstrapSecurityManager -Dorg.gradle.native=false -javaagent:build/tmp/expandedArchives/org.jacoco.agent-0.7.10-SNAPSHOT.jar_xxxxxx/jacocoagent.jar=destfile=build/jacoco/test.exec,append=true,inclnolocationclasses=false,dumponexit=true,output=file,jmx=false -Dfile.encoding=UTF-8 -Duser.country=JP -Duser.language=ja -Duser.variant -ea -cp /xxxxx/gradle-worker.jar worker.org.gradle.process.internal.worker.GradleWorkerMain 'Gradle Test Executor 1`\n\n# 原因判明！\n\nhttp://kitaru.hatenadiary.com/entry/2014/09/03/Java%E3%82%A2%E3%83%97%E3%83%AA%E3%81%8C%E6%9A%B4%E8%B5%B0%E3%81%97%E3%81%A6CPU%E3%81%8C%E6%AD%BB%E3%82%93%E3%81%A0%E6%99%82%E3%81%AB%E3%82%84%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8\n上記を参考に、当該プロセスをjstackなりなんなりで調査すると、被疑箇所はここ。\n`\n\"GC task thread#0 (ParallelGC)\" os_prio=0 tid=0x00007f47f801f000 nid=0x6fcc runnable\n`\nOh…。GC負荷か。ということはHeapのチューニングですね。\n\n# 対処\nhttps://kamatama41.hatenablog.com/entry/2018/07/15/170125\n\nローカルで`gradle test`を実行すると、heapを2G強利用していたため、上記と同様build.gradleのtestタスクを変更。\n\n```\ntest {\n    maxHeapSize = \"3g\"\n}\n```\nこんな感じで解決。20分くらいで終わるようになった。\n\n\u003e Gradle自体はこちらによるとデフォルトでは1024MBヒープサイズを確保するようなのですが、 test タスクはビルドプロセスとは別のJVMを使うようになっており、そこにはこの制限が適用されないようです。\n\nこの話は知らなかったよ…。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T19:16:55+09:00","group":null,"id":"b2cadce085595c57636d","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Jenkins","versions":[]},{"name":"gradle","versions":[]}],"title":"Jenkins-SlaveでUnitTestがOutOfMemory","updated_at":"2019-07-09T19:16:55+09:00","url":"https://qiita.com/fake-deli-ca/items/b2cadce085595c57636d","user":{"description":"","facebook_id":"","followees_count":0,"followers_count":0,"github_login_name":"fake-deli-ca","id":"fake-deli-ca","items_count":19,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":115285,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/115285/profile-images/1473712874","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\u003cp\u003ePro Keto RX program has a excessive percentage of energy from fat. The truth is that coronary heart disorder is lesser within the Mediterranean place than within the america. The death rate is decrease in the Mediterranean place as properly. This factor is not all of the weight loss program however you have to Visit For More Info: \u003ca href=\"http://obesity2.com/blog/weight-loss/pro-keto-rx/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://obesity2.com/blog/weight-loss/pro-keto-rx/\u003c/a\u003e\u003c/p\u003e\n","body":"Pro Keto RX program has a excessive percentage of energy from fat. The truth is that coronary heart disorder is lesser within the Mediterranean place than within the america. The death rate is decrease in the Mediterranean place as properly. This factor is not all of the weight loss program however you have to Visit For More Info: http://obesity2.com/blog/weight-loss/pro-keto-rx/\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T19:15:30+09:00","group":null,"id":"96b1aa09fbc2117098de","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"health","versions":[]}],"title":"http://obesity2.com/blog/weight-loss/pro-keto-rx/","updated_at":"2019-07-09T19:15:30+09:00","url":"https://qiita.com/ProKe0/items/96b1aa09fbc2117098de","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"ProKe0","items_count":1,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":457796,"profile_image_url":"https://secure.gravatar.com/avatar/e7beea9788bb72c70ae60bfbc60f9ee7","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\u003cp\u003ePythonは自作のスクリプトでもモジュールとして別ファイルから読み込んで使うことができます。便利ですね。\u003cbr\u003e\n公式ドキュメント → \u003ca href=\"https://docs.python.org/ja/3/tutorial/modules.html?highlight=import#modules\" rel=\"nofollow noopener\" target=\"_blank\"\u003e6. モジュール (module)\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e基本的には（？）同階層や下位階層に存在するファイルからモジュールを読み込んで使うようです。\u003cbr\u003e\n\u003cstrong\u003eしかし、上位階層にあるモジュールを普通に読み込もうとするとエラーになります。\u003c/strong\u003e\u003cbr\u003e\n出力されるエラー内容は \u003ccode\u003eAttempted relative import beyond top-level package\u003c/code\u003e です。\u003cbr\u003e\nスクリプト自身が存在する階層を、最上位のルート階層としてそれぞれ解釈するという挙動をしているのが原因のようですね。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eこういう階層構造があるとする.txt\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e最上位フォルダ\n├ 上位フォルダ\n│ ├ 下位フォルダ\n│ │ └ C.py\n│ ├ A.py\n│ └ B.py\n└ D.py\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"python\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eA.py\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003eB\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003ehoge\u003c/span\u003e \u003cspan class=\"c\"\u003e# 同階層。出来る\u003c/span\u003e\n\u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"err\"\u003e下位フォルダ\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eC\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003efoo\u003c/span\u003e \u003cspan class=\"c\"\u003e# 下位階層。出来る\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003e..D\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003ebar\u003c/span\u003e \u003cspan class=\"c\"\u003e# `..`は上位階層を示すらしい。なのに出来ない。出来ない。出来ない。出来ない。\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eしかし、これは各階層がパッケージ化（？）されていれば上位階層でも読み込めるんだそうです。\u003cbr\u003e\n階層をパッケージ化するための要件はよくわかっていないんですが、\u003cstrong\u003eとりあえず\u003ccode\u003e__init__.py\u003c/code\u003eという名前の空ファイルを全階層に置いておけば良い\u003c/strong\u003eという理解で私は解決しました。\u003c/p\u003e\n\n\u003cp\u003e\u003c/p\u003e\u003cblockquote class=\"twitter-tweet\"\u003e\n\u003cp\u003e全階層に\u003cstrong\u003einit\u003c/strong\u003e.pyを置くことで解決させました。絶対これ間違ってるよね（でも解決したから） \u003ca href=\"https://t.co/lfhaPJYmOm\" rel=\"nofollow noopener\" target=\"_blank\"\u003epic.twitter.com/lfhaPJYmOm\u003c/a\u003e\u003c/p\u003e— あつし⛅ヒト🏃‍♀️速バラ撒きおじさん (@Anaakikutsushit) \u003ca href=\"https://twitter.com/Anaakikutsushit/status/1148528297464102912?ref_src=twsrc%5Etfw\" rel=\"nofollow noopener\" target=\"_blank\"\u003eJuly 9, 2019\u003c/a\u003e\n\u003c/blockquote\u003e \u003cscript async src=\"https://platform.twitter.com/widgets.js\"\u003e\u003c/script\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eつまりこういうことです.txt\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e最上位フォルダ\n├ 上位フォルダ\n│ ├ 下位フォルダ\n│ │ ├ __init__.py # 追加\n│ │ └ C.py\n│ ├ __init__.py # 追加\n│ ├ A.py\n│ └ B.py\n├ __init__.py # 追加\n└ D.py\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eウッソだろお前ｗｗｗｗって目を疑いたくなるような光景ですが、事実これで上手くいったので\u003cdel\u003e……って書こうとしたらうまく行ってませんでした。とてもつらい。\u003c/del\u003eいや、やっぱり上手くいきました。う～～ん？？？？？？\u003cbr\u003e\n上手くいったときは、最上位階層でターミナルを開いて、\u003ccode\u003epy -m スクリプト.py\u003c/code\u003eの形式で実行しました。この辺り関係あるかも。\u003c/p\u003e\n\n\u003cp\u003eとまあ、最後よく分かんなくなっちゃいましたけど、このように\u003ccode\u003e__init__.py\u003c/code\u003eさえ置いておけば、先ほどの\u003ccode\u003eA.py\u003c/code\u003eの記述のままで上位階層のモジュールも読むことができるようになります。なるみたいなんです。\u003c/p\u003e\n\n\u003cp\u003eホントは同階層か下層に配置してキレイになるようなパッケージの設計をすべきなんでしょうけど、今日のところはとりあえずこれで。\u003c/p\u003e\n","body":"Pythonは自作のスクリプトでもモジュールとして別ファイルから読み込んで使うことができます。便利ですね。\n公式ドキュメント → [6. モジュール (module)](https://docs.python.org/ja/3/tutorial/modules.html?highlight=import#modules)\n\n基本的には（？）同階層や下位階層に存在するファイルからモジュールを読み込んで使うようです。\n**しかし、上位階層にあるモジュールを普通に読み込もうとするとエラーになります。**\n出力されるエラー内容は `Attempted relative import beyond top-level package` です。\nスクリプト自身が存在する階層を、最上位のルート階層としてそれぞれ解釈するという挙動をしているのが原因のようですね。\n\n```こういう階層構造があるとする.txt\n最上位フォルダ\n├ 上位フォルダ\n│ ├ 下位フォルダ\n│ │ └ C.py\n│ ├ A.py\n│ └ B.py\n└ D.py\n```\n\n```A.py\nfrom B import hoge # 同階層。出来る\nfrom .下位フォルダ.C import foo # 下位階層。出来る\nfrom ..D import bar # `..`は上位階層を示すらしい。なのに出来ない。出来ない。出来ない。出来ない。\n```\n\nしかし、これは各階層がパッケージ化（？）されていれば上位階層でも読み込めるんだそうです。\n階層をパッケージ化するための要件はよくわかっていないんですが、**とりあえず`__init__.py`という名前の空ファイルを全階層に置いておけば良い**という理解で私は解決しました。\n\n\u003cblockquote class=\"twitter-tweet\"\u003e\u003cp lang=\"ja\" dir=\"ltr\"\u003e全階層に__init__.pyを置くことで解決させました。絶対これ間違ってるよね（でも解決したから） \u003ca href=\"https://t.co/lfhaPJYmOm\"\u003epic.twitter.com/lfhaPJYmOm\u003c/a\u003e\u003c/p\u003e\u0026mdash; あつし⛅ヒト🏃‍♀️速バラ撒きおじさん (@Anaakikutsushit) \u003ca href=\"https://twitter.com/Anaakikutsushit/status/1148528297464102912?ref_src=twsrc%5Etfw\"\u003eJuly 9, 2019\u003c/a\u003e\u003c/blockquote\u003e \u003cscript async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"\u003e\u003c/script\u003e\n\n```つまりこういうことです.txt\n最上位フォルダ\n├ 上位フォルダ\n│ ├ 下位フォルダ\n│ │ ├ __init__.py # 追加\n│ │ └ C.py\n│ ├ __init__.py # 追加\n│ ├ A.py\n│ └ B.py\n├ __init__.py # 追加\n└ D.py\n```\n\nウッソだろお前ｗｗｗｗって目を疑いたくなるような光景ですが、事実これで上手くいったので~~……って書こうとしたらうまく行ってませんでした。とてもつらい。~~いや、やっぱり上手くいきました。う～～ん？？？？？？\n上手くいったときは、最上位階層でターミナルを開いて、`py -m スクリプト.py`の形式で実行しました。この辺り関係あるかも。\n\nとまあ、最後よく分かんなくなっちゃいましたけど、このように`__init__.py`さえ置いておけば、先ほどの`A.py`の記述のままで上位階層のモジュールも読むことができるようになります。なるみたいなんです。\n\nホントは同階層か下層に配置してキレイになるようなパッケージの設計をすべきなんでしょうけど、今日のところはとりあえずこれで。\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T19:05:41+09:00","group":null,"id":"f469e6883ee066c66f49","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Python","versions":[]},{"name":"Python3","versions":[]}],"title":"【日記】Pythonで上位階層のモジュールを力技によりimportさせたい","updated_at":"2019-07-09T19:59:48+09:00","url":"https://qiita.com/Anaakikutsushit/items/f469e6883ee066c66f49","user":{"description":"","facebook_id":"","followees_count":7,"followers_count":3,"github_login_name":"anaakikutushita","id":"Anaakikutsushit","items_count":12,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":336249,"profile_image_url":"https://pbs.twimg.com/profile_images/768437776425455617/8E8J41ZM_bigger.png","team_only":false,"twitter_screen_name":"Anaakikutsushit","website_url":""},"page_views_count":null},{"rendered_body":"\u003cp\u003e自作アプリがどうもAppStore経由では配信できなさそうなので，よくある\u003ccode\u003e.dmg\u003c/code\u003e形式で配布しようと思いやり方を探したら，\u003ca href=\"https://qiita.com/econa77/items/d0e7d3a75d8fd3bb7777\" id=\"reference-a14f9e2048ef53d62443\"\u003eカスタマイズした.dmgを作成する方法\u003c/a\u003eという記事を見つけました．しかし，どうやら現在はほんの少しやり方が変わっていたようので，改めてここに書き残します．\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境\u003c/h1\u003e\n\n\u003cp\u003emacOS Mojave: 10.14.5\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"素材の準備\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B4%A0%E6%9D%90%E3%81%AE%E6%BA%96%E5%82%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e素材の準備\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"配布用アプリ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%85%8D%E5%B8%83%E7%94%A8%E3%82%A2%E3%83%97%E3%83%AA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e配布用アプリ\u003c/h2\u003e\n\n\u003cp\u003eアプリが完成したら，Developer IDとしてアプリをエクスポートしてください．\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/8dbd8713d9551ef7aa1493fcb1cc8573ad4845f0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f36373135332f30383762653330352d666133632d373735622d313162392d6337386538666164613435372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"1000\" alt=\"へ.png\" src=\"https://camo.qiitausercontent.com/8dbd8713d9551ef7aa1493fcb1cc8573ad4845f0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f36373135332f30383762653330352d666133632d373735622d313162392d6337386538666164613435372e706e67\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/67153/087be305-fa3c-775b-11b9-c78e8fada457.png\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/22af907dbd312cacfa7a31c230886aa234cb2c51/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f36373135332f34373532373839622d623566652d326431622d636239662d6362646661663135353863642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"1000\" alt=\"ほ.png\" src=\"https://camo.qiitausercontent.com/22af907dbd312cacfa7a31c230886aa234cb2c51/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f36373135332f34373532373839622d623566652d326431622d636239662d6362646661663135353863642e706e67\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/67153/4752789b-b5fe-2d1b-cb9f-cbdfaf1558cd.png\"\u003e\u003c/a\u003e\u003cbr\u003e\nあとは流れでよいしょ．\u003cbr\u003e\n\u003ccode\u003e〜.app\u003c/code\u003eが生成されればOK\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"背景画像\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%83%8C%E6%99%AF%E7%94%BB%E5%83%8F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e背景画像\u003c/h2\u003e\n\n\u003cp\u003edmgの背景に使用する画像を作成してください．\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/4ae9c8f386614aaf087e761810e5e126f2991f21/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f36373135332f64653864373334372d663364382d396537612d613562322d3063336134343436396232322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"823\" alt=\"スクリーンショット 2019-07-09 18.31.12.png\" src=\"https://camo.qiitausercontent.com/4ae9c8f386614aaf087e761810e5e126f2991f21/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f36373135332f64653864373334372d663364382d396537612d613562322d3063336134343436396232322e706e67\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/67153/de8d7347-f3d8-9e7a-a5b2-0c3a44469b22.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eretinaに対応するために，1倍のものと2倍のもの（1200px × 750pxくらい？）を用意します．そうしたら，Terminalを使って以下のコマンドで背景用画像の\u003ccode\u003e.tiff\u003c/code\u003eファイルを生成します．\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"plaintext\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e$ tiffutil -cathidpicheck １倍の背景画像 2倍の背景画像 -out backImage.tiff\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"applicationsフォルダのエイリアス\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#applications%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%81%AE%E3%82%A8%E3%82%A4%E3%83%AA%E3%82%A2%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eApplicationsフォルダのエイリアス\u003c/h2\u003e\n\n\u003cp\u003e\u003ccode\u003eMacintosh HD\u003c/code\u003eの中の\u003ccode\u003eアプリケーション\u003c/code\u003eフォルダのエイリアスを作ります．\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"dmgの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#dmg%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003edmgの作成\u003c/h1\u003e\n\n\u003cp\u003eディスクユーティリティを開いてメニューバーのファイル\u0026gt;新規イメージ\u0026gt;からのイメージを作成を押します．\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/44539a3b0f5f283d4f7c613d3a97c8e9edbc0de4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f36373135332f64646131303635642d333638372d633235352d393132332d3833643864376561343333352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"805\" alt=\"ふ.png\" src=\"https://camo.qiitausercontent.com/44539a3b0f5f283d4f7c613d3a97c8e9edbc0de4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f36373135332f64646131303635642d333638372d633235352d393132332d3833643864376561343333352e706e67\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/67153/dda1065d-3687-c255-9123-83d8d7ea4335.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e編集する項目は名前だけです．アプリの配布が目的なので，「アプリ名_バージョン」とすると良いと思います．\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/111078e45115dc5ef73450f0e0c3e055c7476f81/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f36373135332f65343266366538342d386238622d653932352d663639612d3766303232663661363739382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"925\" alt=\"ha.png\" src=\"https://camo.qiitausercontent.com/111078e45115dc5ef73450f0e0c3e055c7476f81/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f36373135332f65343266366538342d386238622d653932352d663639612d3766303232663661363739382e706e67\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/67153/e42f6e84-8b8b-e925-f69a-7f022f6a6798.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eそうすると，デスクトップに\u003ccode\u003e．dmg\u003c/code\u003eと\u003ccode\u003eボリューム\u003c/code\u003eが生成表示されますのでボリュームを開いて，ボリュームの中に配布用アプリとアプリケーションフォルダのエイリアスをコピーします．続いてterminalを用いてボリュームの中に\u003ccode\u003e.resource\u003c/code\u003eという名前の隠しフォルダを作り，中に背景用画像を入れます．\u003c/p\u003e\n\n\u003cp\u003eここまでできたらあともう少し，ボリュームのウィンドウを選択した状態で表示オプションを表示し，アイコンのサイズと背景画像を設定します．(背景画像は\u003ccode\u003e.resource\u003c/code\u003eフォルダの中のものをドラッグ\u0026amp;ドロップ)最後にアイコンの位置とウィンドウサイズを微調整したら，ボリュームのマウントを外せば\u003ccode\u003e.dmg\u003c/code\u003eの完成です．確認のために出来上がった\u003ccode\u003e.dmg\u003c/code\u003eを一度展開してボリュームを開いて見た目を確認しましょう．(\u003ccode\u003e.dmg\u003c/code\u003eを直接編集していないので不思議な気持ちになるかもしれませんが，これでOKなのです．)\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/4f3bcb753315b992f14a97bdaa2e0b02605f871c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f36373135332f30653261393538322d316138362d333739392d376638372d3435623061626638346233312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"899\" alt=\"スクリーンショット 2019-07-09 18.50.45.png\" src=\"https://camo.qiitausercontent.com/4f3bcb753315b992f14a97bdaa2e0b02605f871c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f36373135332f30653261393538322d316138362d333739392d376638372d3435623061626638346233312e706e67\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/67153/0e2a9582-1a86-3799-7f87-45b0abf84b31.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"所感\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%89%80%E6%84%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e所感\u003c/h1\u003e\n\n\u003cp\u003e背景画像を用意するのは面倒ですが，案外簡単に作ることができますね．\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita.com/econa77/items/d0e7d3a75d8fd3bb7777\"\u003eカスタマイズした.dmgを作成する方法\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://hikaruapp.jpn.com/xcode/osx/post-645\" rel=\"nofollow noopener\" target=\"_blank\"\u003eXcode : Mac用アプリをMac App Storeを使用せずに個人配布する|配布用.dmgファイルの作成\u003c/a\u003e\u003c/p\u003e\n","body":"自作アプリがどうもAppStore経由では配信できなさそうなので，よくある`.dmg`形式で配布しようと思いやり方を探したら，[カスタマイズした.dmgを作成する方法](https://qiita.com/econa77/items/d0e7d3a75d8fd3bb7777)という記事を見つけました．しかし，どうやら現在はほんの少しやり方が変わっていたようので，改めてここに書き残します．\n\n# 環境\nmacOS Mojave: 10.14.5\n\n# 素材の準備\n## 配布用アプリ\nアプリが完成したら，Developer IDとしてアプリをエクスポートしてください．\n\u003cimg width=\"1000\" alt=\"へ.png\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/67153/087be305-fa3c-775b-11b9-c78e8fada457.png\"\u003e\n\u003cimg width=\"1000\" alt=\"ほ.png\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/67153/4752789b-b5fe-2d1b-cb9f-cbdfaf1558cd.png\"\u003e\nあとは流れでよいしょ．\n`〜.app\b`が生成されればOK\n\n## 背景画像\ndmgの背景に使用する画像を作成してください．\n\u003cimg width=\"823\" alt=\"スクリーンショット 2019-07-09 18.31.12.png\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/67153/de8d7347-f3d8-9e7a-a5b2-0c3a44469b22.png\"\u003e\n\nretinaに対応するために，1倍のものと2倍のもの（1200px × 750pxくらい？）を用意します．そうしたら，Terminalを使って以下のコマンドで背景用画像の`.tiff`ファイルを生成します．\n\n```plaintext\n$ tiffutil -cathidpicheck １倍の背景画像 2倍の背景画像 -out backImage.tiff\n```\n\n## Applicationsフォルダのエイリアス\n`Macintosh HD`の中の`アプリケーション`フォルダのエイリアスを作ります．\n\n#dmgの作成\nディスクユーティリティを開いてメニューバーのファイル\u003e新規イメージ\u003eからのイメージを作成を押します．\n\u003cimg width=\"805\" alt=\"ふ.png\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/67153/dda1065d-3687-c255-9123-83d8d7ea4335.png\"\u003e\n \n編集する項目は名前だけです．アプリの配布が目的なので，「アプリ名_バージョン」とすると良いと思います．\n\u003cimg width=\"925\" alt=\"ha.png\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/67153/e42f6e84-8b8b-e925-f69a-7f022f6a6798.png\"\u003e\n\nそうすると，デスクトップに`．dmg`と`ボリューム`が生成表示されますのでボリュームを開いて，ボリュームの中に配布用アプリとアプリケーションフォルダのエイリアスをコピーします．続いてterminalを用いてボリュームの中に`.resource`という名前の隠しフォルダを作り，中に背景用画像を入れます．\n\nここまでできたらあともう少し，ボリュームのウィンドウを選択した状態で表示オプションを表示し，アイコンのサイズと背景画像を設定します．(背景画像は`.resource`フォルダの中のものをドラッグ\u0026ドロップ)最後にアイコンの位置とウィンドウサイズを微調整したら，ボリュームのマウントを外せば`.dmg`の完成です．確認のために出来上がった`.dmg`を一度展開してボリュームを開いて見た目を確認しましょう．(`.dmg`を直接編集していないので不思議な気持ちになるかもしれませんが，これでOKなのです．)\n\u003cimg width=\"899\" alt=\"スクリーンショット 2019-07-09 18.50.45.png\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/67153/0e2a9582-1a86-3799-7f87-45b0abf84b31.png\"\u003e\n\n# 所感\n背景画像を用意するのは面倒ですが，案外簡単に作ることができますね．\n\n# 参考\n[カスタマイズした.dmgを作成する方法](https://qiita.com/econa77/items/d0e7d3a75d8fd3bb7777)\n[Xcode : Mac用アプリをMac App Storeを使用せずに個人配布する|配布用.dmgファイルの作成](https://hikaruapp.jpn.com/xcode/osx/post-645)\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T19:04:35+09:00","group":null,"id":"1963d81eeba0c2096002","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"MacOSX","versions":[]}],"title":"Macアプリ配布用の.dmgの作成方法（2019 Mojave版）","updated_at":"2019-07-09T19:04:35+09:00","url":"https://qiita.com/Kyomesuke3/items/1963d81eeba0c2096002","user":{"description":"筑波大学の院生デベロッパー\r\nRunCatを作った人\r\n可愛いは正義","facebook_id":"takuto.nakamura.kyome","followees_count":25,"followers_count":31,"github_login_name":"Kyome22","id":"Kyomesuke3","items_count":123,"linkedin_id":"takuto-nakamura22","location":"","name":"","organization":"","permanent_id":67153,"profile_image_url":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/67153/profile-images/1555155256","team_only":false,"twitter_screen_name":"Kyomesuke3","website_url":"https://kyome.io"},"page_views_count":null},{"rendered_body":"\u003cp\u003eGreen Vibe Keto\u003cbr\u003e\nHow about we experience the names of certain fixings found in this weight reduction supplement: These fixings are famous for weight reduction properties to actualize in the body. At the point when these fixings execute their undertakings in the proposed territories of the body, at that point it implies that it has started to give its advantages.\u003cbr\u003e\u003cbr\u003e\n\u003ca href=\"https://first2health.com/green-vibe-keto/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://first2health.com/green-vibe-keto/\u003c/a\u003e\u003c/p\u003e\n","body":"\nGreen Vibe Keto\nHow about we experience the names of certain fixings found in this weight reduction supplement: These fixings are famous for weight reduction properties to actualize in the body. At the point when these fixings execute their undertakings in the proposed territories of the body, at that point it implies that it has started to give its advantages.  \nhttps://first2health.com/green-vibe-keto/\n\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T19:04:23+09:00","group":null,"id":"0f94c6c8b5c38cb15640","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Green","versions":[]},{"name":"Keto","versions":[]},{"name":"Vibe","versions":[]}],"title":"Green Vibe Keto Diet : Where To Buy?{SAFE OR NOT} Read Exclusive ... ","updated_at":"2019-07-09T19:04:23+09:00","url":"https://qiita.com/PaulineTarter/items/0f94c6c8b5c38cb15640","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"PaulineTarter","items_count":1,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":457800,"profile_image_url":"https://secure.gravatar.com/avatar/70d306a306c5fa0ab36ba2bfa2675b80","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null},{"rendered_body":"\u003cp\u003eCatapultの開発コードもA,B,C,D,Eと続き、次はいよいよリリースビルド候補となるFを残すだけ？となりました。\u003cbr\u003e\nノードへアナウンスするデータ構造もほぼ固まってきたので、ここでバイナリレベルでどのような構成になっているのか見てみましょう。\u003c/p\u003e\n\n\u003cp\u003eこれがアグリゲートトランザクションの一例です。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e5C010000FD779D1D31E30D0D80346F0DDD1F946B52BFF3FCF9D582F96AAE642810BCCC663C99C1AEC0CA1118C751928B925A9D9DBF6AB4DA5B3861DE6C5793F5E73F700FFF6E61F2A0440FB09CA7A530C0C64A275ADA3A13F60D1EC916D7F1543D7F057402904141000000000000000047CA8B9F17000000E000000070000000FF6E61F2A0440FB09CA7A530C0C64A275ADA3A13F60D1EC916D7F1543D7F0574039054419081FCCB41F8C8409A9B99E485E0E28D23BD6304EF7215E01A1C000100E697A5E69CACE8AA9EE381A7E38282E5A4A7E4B888E5A4ABE38082D787D9329996A177000000000000000070000000FF6E61F2A0440FB09CA7A530C0C64A275ADA3A13F60D1EC916D7F1543D7F0574039054419081FCCB41F8C8409A9B99E485E0E28D23BD6304EF7215E01A1C000100E697A5E69CACE8AA9EE381A7E38282E5A4A7E4B888E5A4ABE38082D787D9329996A1770000000000000000\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e？？？\u003cbr\u003e\n何を書いているのか全くわかりませんね。\u003cbr\u003e\nそれではもう少しわかりやすくしてみましょう。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e5C010000\nFD779D1D31E30D0D80346F0DDD1F946B52BFF3FCF9D582F96AAE642810BCCC663C99C1AEC0CA1118C751928B925A9D9DBF6AB4DA5B3861DE6C5793F5E73F700F\nFF6E61F2A0440FB09CA7A530C0C64A275ADA3A13F60D1EC916D7F1543D7F0574\n0290\n4141\n0000000000000000\n47CA8B9F17000000\nE0000000\n70000000\nFF6E61F2A0440FB09CA7A530C0C64A275ADA3A13F60D1EC916D7F1543D7F0574\n0390\n5441\n9081FCCB41F8C8409A9B99E485E0E28D23BD6304EF7215E01A1C\n00\n01\n00\nE697A5E69CACE8AA9EE381A7E38282E5A4A7E4B888E5A4ABE38082\nD787D9329996A177\n0000000000000000\n70000000\nFF6E61F2A0440FB09CA7A530C0C64A275ADA3A13F60D1EC916D7F1543D7F0574\n0390\n5441\n9081FCCB41F8C8409A9B99E485E0E28D23BD6304EF7215E01A1C\n00\n01\n00\nE697A5E69CACE8AA9EE381A7E38282E5A4A7E4B888E5A4ABE38082\nD787D9329996A177\n0000000000000000\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eだいぶん見やすくなりましたね。僕レベルになると30秒ぐらいで改行を入れていくことができるようになります。\u003cbr\u003e\nここで改行を入れてくれとぼんやり光の筋が見えるのです。はい、病気ですね。\u003c/p\u003e\n\n\u003cp\u003eえ、まだ何のことだかわからない、ですって？\u003cbr\u003e\nそれでは最後に構造を説明します。\u003c/p\u003e\n\n\u003cp\u003e[角カッコ]が該当するデータの意味になります。\u003cbr\u003e\nswitch で（丸カッコ）に該当する部分だけを読み取ります。\u003cbr\u003e\nfor eachで(丸カッコ)　で指定された回数だけ繰り返してください。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e[データ長]\n[署名]\n[手数料]\n[署名者]\n[バージョン]\n[トランザクション区分]\n[締め切り]\nswitch (トランザクション区分)\n{\n    (転送)\n        [受信アドレス]\n        [メッセージ長]\n        [モザイク数]\n        [メッセージ区分]\n        [メッセージ]\n        for each(モザイク数)\n            [モザイクID]\n            [モザイク量]\n    (モザイク定義)\n        [ノンス]\n        [モザイクID]\n        [1]\n        [フラグ]\n        [可分性]\n        [期間指定あり？]\n        [期間指定]\n    (モザイク供給量変更)\n        [モザイクID]\n        [増減区分]\n        [増分]\n    (ロック)\n        [モザイクID]\n        [期間]\n        [ハッシュ]\n    (ネームスペース登録)\n        [ネームスペース区分]\n        [期間]\n        [ネームスペースID]\n        [ネームスペース名長]\n        [ネームスペース名]\n    (アドレスエイリアス)\n        [アクション区分]\n        [ネームスペースID]\n        [アドレス]\n    (モザイクエイリアス)\n        [アクション区分]\n        [ネームスペースID]\n        [モザイクID]\n    (シークレットロック)\n        [モザイクID]\n        [期間]\n        [ハッシュアルゴリズム区分]\n        [受信アドレス]\n    (シークレット証明)\n        未検証\n    (アカウント制限アドレス)\n        [アカウント制限区分]\n        [変更数]\n        [変更区分]\n        [アドレス]\n    (アカウント制限モザイク)\n        [アカウント制限区分]\n        [変更数]\n        [変更区分]\n        [モザイクID]\n    (アカウント制限操作)\n        [アカウント制限区分]\n        [変更数]\n        [変更区分]\n        [制限トランザクション区分]\n    (リンクアカウント)\n        [公開鍵]\n        [アクション区分]\n    (マルチシグ修正)\n        [最小削除数]\n        [最小承認数]\n        [修正数]\n        for each(修正数)\n        {\n            [修正区分]\n            [署名公開鍵]\n        }\n\n    (アグリゲートトランザクション ボンド or コンプリート]\n        [データ長]\n        for each(データ個数)\n            [データ長]\n            [署名者]\n            [バージョン]\n\n            switch [トランザクション区分]\n            {   //上記と同じ\n                [転送]\n                [モザイク定義]\n                [モザイク供給量変更]\n                [ロック]\n                [ネームスペース登録]\n                [アドレスエイリアス]\n                [モザイクエイリアス]\n                [シークレットロック]\n                [シークレット証明]\n                [アカウント制限アドレス]\n                [アカウント制限モザイク]\n                [アカウント制限操作]\n                [リンクアカウント]\n                [マルチシグ修正]\n            }\n}\n\n\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eCatapultのノードに対して操作でできることはこれがすべてになります。\u003cbr\u003e\n送金だけではなく、アカウントの状態変更、ネームスペースやモザイクの定義、さまざまな定義が可能です。\u003cbr\u003e\nアグリゲートトランザクションを絡ませることで、その組み合わせ数は無数となります。\u003c/p\u003e\n\n\u003cp\u003e最後に動くもの紹介しておきます。\u003cbr\u003e\n\u003ca href=\"https://s3-ap-northeast-1.amazonaws.com/xembook.net/xembook-sdk/snapshot/20190619/examples/001_analyzer.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eTransaction Analyzer\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eみなさんもいろいろなトランザクションを入力して分解してみてください。\u003c/p\u003e\n","body":"Catapultの開発コードもA,B,C,D,Eと続き、次はいよいよリリースビルド候補となるFを残すだけ？となりました。\nノードへアナウンスするデータ構造もほぼ固まってきたので、ここでバイナリレベルでどのような構成になっているのか見てみましょう。\n\n\nこれがアグリゲートトランザクションの一例です。\n\n```\n5C010000FD779D1D31E30D0D80346F0DDD1F946B52BFF3FCF9D582F96AAE642810BCCC663C99C1AEC0CA1118C751928B925A9D9DBF6AB4DA5B3861DE6C5793F5E73F700FFF6E61F2A0440FB09CA7A530C0C64A275ADA3A13F60D1EC916D7F1543D7F057402904141000000000000000047CA8B9F17000000E000000070000000FF6E61F2A0440FB09CA7A530C0C64A275ADA3A13F60D1EC916D7F1543D7F0574039054419081FCCB41F8C8409A9B99E485E0E28D23BD6304EF7215E01A1C000100E697A5E69CACE8AA9EE381A7E38282E5A4A7E4B888E5A4ABE38082D787D9329996A177000000000000000070000000FF6E61F2A0440FB09CA7A530C0C64A275ADA3A13F60D1EC916D7F1543D7F0574039054419081FCCB41F8C8409A9B99E485E0E28D23BD6304EF7215E01A1C000100E697A5E69CACE8AA9EE381A7E38282E5A4A7E4B888E5A4ABE38082D787D9329996A1770000000000000000\n```\n\n？？？\n何を書いているのか全くわかりませんね。\nそれではもう少しわかりやすくしてみましょう。\n\n```\n5C010000\nFD779D1D31E30D0D80346F0DDD1F946B52BFF3FCF9D582F96AAE642810BCCC663C99C1AEC0CA1118C751928B925A9D9DBF6AB4DA5B3861DE6C5793F5E73F700F\nFF6E61F2A0440FB09CA7A530C0C64A275ADA3A13F60D1EC916D7F1543D7F0574\n0290\n4141\n0000000000000000\n47CA8B9F17000000\nE0000000\n70000000\nFF6E61F2A0440FB09CA7A530C0C64A275ADA3A13F60D1EC916D7F1543D7F0574\n0390\n5441\n9081FCCB41F8C8409A9B99E485E0E28D23BD6304EF7215E01A1C\n00\n01\n00\nE697A5E69CACE8AA9EE381A7E38282E5A4A7E4B888E5A4ABE38082\nD787D9329996A177\n0000000000000000\n70000000\nFF6E61F2A0440FB09CA7A530C0C64A275ADA3A13F60D1EC916D7F1543D7F0574\n0390\n5441\n9081FCCB41F8C8409A9B99E485E0E28D23BD6304EF7215E01A1C\n00\n01\n00\nE697A5E69CACE8AA9EE381A7E38282E5A4A7E4B888E5A4ABE38082\nD787D9329996A177\n0000000000000000\n```\nだいぶん見やすくなりましたね。僕レベルになると30秒ぐらいで改行を入れていくことができるようになります。\nここで改行を入れてくれとぼんやり光の筋が見えるのです。はい、病気ですね。\n\nえ、まだ何のことだかわからない、ですって？\nそれでは最後に構造を説明します。\n\n[角カッコ]が該当するデータの意味になります。\nswitch で（丸カッコ）に該当する部分だけを読み取ります。\nfor eachで(丸カッコ)　で指定された回数だけ繰り返してください。\n\n```\n[データ長]\n[署名]\n[手数料]\n[署名者]\n[バージョン]\n[トランザクション区分]\n[締め切り]\nswitch (トランザクション区分)\n{\n\t(転送)\n\t\t[受信アドレス]\n\t\t[メッセージ長]\n\t\t[モザイク数]\n\t\t[メッセージ区分]\n\t\t[メッセージ]\n\t\tfor each(モザイク数)\n\t\t\t[モザイクID]\n\t\t\t[モザイク量]\n\t(モザイク定義)\n\t\t[ノンス]\n\t\t[モザイクID]\n\t\t[1]\n\t\t[フラグ]\n\t\t[可分性]\n\t\t[期間指定あり？]\n\t\t[期間指定]\n\t(モザイク供給量変更)\n\t\t[モザイクID]\n\t\t[増減区分]\n\t\t[増分]\n\t(ロック)\n\t\t[モザイクID]\n\t\t[期間]\n\t\t[ハッシュ]\n\t(ネームスペース登録)\n\t\t[ネームスペース区分]\n\t\t[期間]\n\t\t[ネームスペースID]\n\t\t[ネームスペース名長]\n\t\t[ネームスペース名]\n\t(アドレスエイリアス)\n\t\t[アクション区分]\n\t\t[ネームスペースID]\n\t\t[アドレス]\n\t(モザイクエイリアス)\n\t\t[アクション区分]\n\t\t[ネームスペースID]\n\t\t[モザイクID]\n\t(シークレットロック)\n\t\t[モザイクID]\n\t\t[期間]\n\t\t[ハッシュアルゴリズム区分]\n\t\t[受信アドレス]\n\t(シークレット証明)\n\t\t未検証\n\t(アカウント制限アドレス)\n\t\t[アカウント制限区分]\n\t\t[変更数]\n\t\t[変更区分]\n\t\t[アドレス]\n\t(アカウント制限モザイク)\n\t\t[アカウント制限区分]\n\t\t[変更数]\n\t\t[変更区分]\n\t\t[モザイクID]\n\t(アカウント制限操作)\n\t\t[アカウント制限区分]\n\t\t[変更数]\n\t\t[変更区分]\n\t\t[制限トランザクション区分]\n\t(リンクアカウント)\n\t\t[公開鍵]\n\t\t[アクション区分]\n\t(マルチシグ修正)\n\t\t[最小削除数]\n\t\t[最小承認数]\n\t\t[修正数]\n\t\tfor each(修正数)\n\t\t{\n\t\t\t[修正区分]\n\t\t\t[署名公開鍵]\n\t\t}\n\t\n\t(アグリゲートトランザクション ボンド or コンプリート]\n\t\t[データ長]\n\t\tfor each(データ個数)\n\t\t\t[データ長]\n\t\t\t[署名者]\n\t\t\t[バージョン]\n\n\t\t\tswitch [トランザクション区分]\n\t\t\t{\t//上記と同じ\n\t\t\t\t[転送]\n\t\t\t\t[モザイク定義]\n\t\t\t\t[モザイク供給量変更]\n\t\t\t\t[ロック]\n\t\t\t\t[ネームスペース登録]\n\t\t\t\t[アドレスエイリアス]\n\t\t\t\t[モザイクエイリアス]\n\t\t\t\t[シークレットロック]\n\t\t\t\t[シークレット証明]\n\t\t\t\t[アカウント制限アドレス]\n\t\t\t\t[アカウント制限モザイク]\n\t\t\t\t[アカウント制限操作]\n\t\t\t\t[リンクアカウント]\n\t\t\t\t[マルチシグ修正]\n\t\t\t}\n}\n\n\n```\n\n\nCatapultのノードに対して操作でできることはこれがすべてになります。\n送金だけではなく、アカウントの状態変更、ネームスペースやモザイクの定義、さまざまな定義が可能です。\nアグリゲートトランザクションを絡ませることで、その組み合わせ数は無数となります。\n\n最後に動くもの紹介しておきます。\n[Transaction Analyzer](https://s3-ap-northeast-1.amazonaws.com/xembook.net/xembook-sdk/snapshot/20190619/examples/001_analyzer.html)\n\nみなさんもいろいろなトランザクションを入力して分解してみてください。\n\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T19:03:52+09:00","group":null,"id":"cf08f93222f41700407b","likes_count":2,"private":false,"reactions_count":0,"tags":[{"name":"Blockchain","versions":[]},{"name":"Binary","versions":[]},{"name":"NEM","versions":[]},{"name":"catapult","versions":[]}],"title":"Catapultのトランザクションの中身","updated_at":"2019-07-09T19:03:52+09:00","url":"https://qiita.com/nem_takanobu/items/cf08f93222f41700407b","user":{"description":"XEMBook開発者です。","facebook_id":"","followees_count":34,"followers_count":142,"github_login_name":null,"id":"nem_takanobu","items_count":47,"linkedin_id":"","location":"Osaka,Japan","name":"Taka Nobu","organization":"","permanent_id":29187,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/29187/profile-images/1491382097","team_only":false,"twitter_screen_name":null,"website_url":""},"page_views_count":null},{"rendered_body":"\u003cp\u003eIn case you haven’t heard, there’s a (not-so-new) diet craze that’s winning the world over. It’s called the  Keto Extreme While it’s recently experienced renewed interest and an explosive rebirth, it’s been in practice for nearly a century. Scratch that, it’s likely been in practice for thousands of years.\u003cbr\u003e\nKeto Burn Extreme is the hottest diet of 2018 because it helps you quickly lose stubborn fat… it reduces fat storing inflammation… it helps you live longer and avoid today’s most deadly diseases. \u003c/p\u003e\n\n\u003cp\u003eFor More Info-  \u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://www.facebook.com/Keto-Extreme-2450507341654560/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.facebook.com/Keto-Extreme-2450507341654560/\u003c/a\u003e \u003cbr\u003e\n\u003ca href=\"https://www.facebook.com/Keto-Extreme-469871810470616/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.facebook.com/Keto-Extreme-469871810470616/\u003c/a\u003e \u003cbr\u003e\n\u003ca href=\"https://sites.google.com/site/ketoextreme2019/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://sites.google.com/site/ketoextreme2019/\u003c/a\u003e \u003cbr\u003e\n\u003ca href=\"http://dont-payfull.over-blog.com/keto-extreme\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://dont-payfull.over-blog.com/keto-extreme\u003c/a\u003e \u003cbr\u003e\n\u003ca href=\"http://dailyteer.com/product/keto-extreme/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://dailyteer.com/product/keto-extreme/\u003c/a\u003e \u003cbr\u003e\n\u003ca href=\"http://dailydealsreview.info/keto-extreme/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://dailydealsreview.info/keto-extreme/\u003c/a\u003e \u003cbr\u003e\n\u003ca href=\"https://wedontpayfullme.tumblr.com/post/186156472376/keto-extreme-review\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://wedontpayfullme.tumblr.com/post/186156472376/keto-extreme-review\u003c/a\u003e \u003c/p\u003e\n","body":"In case you haven’t heard, there’s a (not-so-new) diet craze that’s winning the world over. It’s called the  Keto Extreme While it’s recently experienced renewed interest and an explosive rebirth, it’s been in practice for nearly a century. Scratch that, it’s likely been in practice for thousands of years.\nKeto Burn Extreme is the hottest diet of 2018 because it helps you quickly lose stubborn fat… it reduces fat storing inflammation… it helps you live longer and avoid today’s most deadly diseases. \n\nFor More Info- \t\n\nhttps://www.facebook.com/Keto-Extreme-2450507341654560/ \nhttps://www.facebook.com/Keto-Extreme-469871810470616/ \nhttps://sites.google.com/site/ketoextreme2019/ \nhttp://dont-payfull.over-blog.com/keto-extreme \nhttp://dailyteer.com/product/keto-extreme/ \nhttp://dailydealsreview.info/keto-extreme/ \nhttps://wedontpayfullme.tumblr.com/post/186156472376/keto-extreme-review \n\n\n\n\n\n","coediting":false,"comments_count":0,"created_at":"2019-07-09T19:03:03+09:00","group":null,"id":"e54fa8f2df9fbfa85a60","likes_count":0,"private":false,"reactions_count":0,"tags":[{"name":"Keto","versions":[]},{"name":"eXTreme","versions":[]}],"title":"  Keto","updated_at":"2019-07-09T19:03:03+09:00","url":"https://qiita.com/ketoExtreme10/items/e54fa8f2df9fbfa85a60","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"ketoExtreme10","items_count":1,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":457804,"profile_image_url":"https://secure.gravatar.com/avatar/f24eebc26c47e9c687afb9fe4a1afd7a","team_only":false,"twitter_screen_name":null,"website_url":null},"page_views_count":null}];
